function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function t(e,t,n,o,i,r,a){try{var l=e[r](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,i)}function n(e,t,n){return t=s(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,d()?Reflect.construct(t,n||[],s(e).constructor):t.apply(e,n))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,y(o.key),o)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw r}}}}function l(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;n[o]=e[o]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g(){g=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,o){var r=t&&t.prototype instanceof y?t:y,a=Object.create(r.prototype),l=new R(o||[]);return i(a,"_invoke",{value:I(e,n,l)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",p="suspendedYield",m="executing",f="completed",v={};function y(){}function b(){}function w(){}var x={};c(x,a,(function(){return this}));var k=Object.getPrototypeOf,C=k&&k(k(E([])));C&&C!==n&&o.call(C,a)&&(x=C);var S=w.prototype=y.prototype=Object.create(x);function M(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(i,r,a,l){var s=u(e[i],e,r);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,l)}))}l(s.arg)}var r;i(this,"_invoke",{value:function(e,o){function i(){return new t((function(t,i){n(e,o,t,i)}))}return r=r?r.then(i,i):i()}})}function I(t,n,o){var i=h;return function(r,a){if(i===m)throw Error("Generator is already running");if(i===f){if("throw"===r)throw a;return{value:e,done:!0}}for(o.method=r,o.arg=a;;){var l=o.delegate;if(l){var s=T(l,o);if(s){if(s===v)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===h)throw i=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=m;var c=u(t,n,o);if("normal"===c.type){if(i=o.done?f:p,c.arg===v)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(i=f,o.method="throw",o.arg=c.arg)}}}function T(t,n){var o=n.method,i=t.iterator[o];if(i===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),v;var r=u(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function z(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function E(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(typeof t+" is not iterable")}return b.prototype=w,i(S,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=c(w,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},M(P.prototype),c(P.prototype,l,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,o,i,r){void 0===r&&(r=Promise);var a=new P(d(e,n,o,i),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},M(S),c(S,s,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=E,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(z),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(o,i){return l.type="throw",l.arg=t,n.next=o,i&&(n.method="next",n.arg=e),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),z(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;z(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:E(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),v}},t}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,r,a,l=[],s=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(o=r.call(n)).done)&&(l.push(o.value),l.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||b(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function b(t,n){if(t){if("string"==typeof t)return e(t,n);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}function w(e){var t="function"==typeof Map?new Map:void 0;return w=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(d())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,t);var i=new(e.bind.apply(e,o));return n&&m(i,n.prototype),i}(e,arguments,s(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},w(e)}var x,k,C,S,M,P,I,T,A,z,R,E,_={},N=[],L=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,D=Array.isArray;function O(e,t){for(var n in t)e[n]=t[n];return e}function B(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function H(e,t,n){var o,i,r,a={};for(r in t)"key"==r?o=t[r]:"ref"==r?i=t[r]:a[r]=t[r];if(arguments.length>2&&(a.children=arguments.length>3?x.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===a[r]&&(a[r]=e.defaultProps[r]);return j(e,a,o,i,null)}function j(e,t,n,o,i){var r={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==i?++C:i,__i:-1,__u:0};return null==i&&null!=k.vnode&&k.vnode(r),r}function $(e){return e.children}function F(e,t){this.props=e,this.context=t}function U(e,t){if(null==t)return e.__?U(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?U(e):null}function W(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return W(e)}}function q(e){(!e.__d&&(e.__d=!0)&&S.push(e)&&!G.__r++||M!==k.debounceRendering)&&((M=k.debounceRendering)||P)(G)}function G(){for(var e,t,n,o,i,r,a,l=1;S.length;)S.length>l&&S.sort(I),e=S.shift(),l=S.length,e.__d&&(n=void 0,i=(o=(t=e).__v).__e,r=[],a=[],t.__P&&((n=O({},o)).__v=o.__v+1,k.vnode&&k.vnode(n),J(t.__P,n,o,t.__n,t.__P.namespaceURI,32&o.__u?[i]:null,r,null==i?U(o):i,!!(32&o.__u),a),n.__v=o.__v,n.__.__k[n.__i]=n,ee(r,n,a),n.__e!=i&&W(n)));G.__r=0}function Z(e,t,n,o,i,r,a,l,s,c,d){var u,h,p,g,m,f,v=o&&o.__k||N,y=t.length;for(s=function(e,t,n,o,i){var r,a,l,s,c,d=n.length,u=d,h=0;for(e.__k=new Array(i),r=0;r<i;r++)null!=(a=t[r])&&"boolean"!=typeof a&&"function"!=typeof a?(s=r+h,(a=e.__k[r]="string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?j(null,a,null,null,null):D(a)?j($,{children:a},null,null,null):void 0===a.constructor&&a.__b>0?j(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,l=null,-1!==(c=a.__i=Y(a,n,s,u))&&(u--,(l=n[c])&&(l.__u|=2)),null==l||null===l.__v?(-1==c&&(i>d?h--:i<d&&h++),"function"!=typeof a.type&&(a.__u|=4)):c!=s&&(c==s-1?h--:c==s+1?h++:(c>s?h--:h++,a.__u|=4))):e.__k[r]=null;if(u)for(r=0;r<d;r++)null!=(l=n[r])&&!(2&l.__u)&&(l.__e==o&&(o=U(l)),ie(l,l));return o}(n,t,v,s,y),u=0;u<y;u++)null!=(p=n.__k[u])&&(h=-1===p.__i?_:v[p.__i]||_,p.__i=u,f=J(e,p,h,i,r,a,l,s,c,d),g=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&oe(h.ref,null,p),d.push(p.ref,p.__c||g,p)),null==m&&null!=g&&(m=g),4&p.__u||h.__k===p.__k?s=V(p,s,e):"function"==typeof p.type&&void 0!==f?s=f:g&&(s=g.nextSibling),p.__u&=-7);return n.__e=m,s}function V(e,t,n){var o,i;if("function"==typeof e.type){for(o=e.__k,i=0;o&&i<o.length;i++)o[i]&&(o[i].__=e,t=V(o[i],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=U(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function Y(e,t,n,o){var i,r,a=e.key,l=e.type,s=t[n];if(null===s&&null==e.key||s&&a==s.key&&l===s.type&&!(2&s.__u))return n;if(o>(null==s||2&s.__u?0:1))for(i=n-1,r=n+1;i>=0||r<t.length;){if(i>=0){if((s=t[i])&&!(2&s.__u)&&a==s.key&&l===s.type)return i;i--}if(r<t.length){if((s=t[r])&&!(2&s.__u)&&a==s.key&&l===s.type)return r;r++}}return-1}function X(e,t,n){"-"==t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||L.test(t)?n:n+"px"}function K(e,t,n,o,i){var r;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||X(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||X(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])r=t!=(t=t.replace(T,"$1")),t=t.toLowerCase()in e||"onFocusOut"==t||"onFocusIn"==t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?o?n.t=o.t:(n.t=A,e.addEventListener(t,r?R:z,r)):e.removeEventListener(t,r?R:z,r);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function Q(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.u)t.u=A++;else if(t.u<n.t)return;return n(k.event?k.event(t):t)}}}function J(e,t,n,o,i,r,a,l,s,c){var d,u,h,p,g,m,f,v,y,b,w,x,C,S,M,P,I,T=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(s=!!(32&n.__u),r=[l=t.__e=n.__e]),(d=k.__b)&&d(t);e:if("function"==typeof T)try{if(v=t.props,y="prototype"in T&&T.prototype.render,b=(d=T.contextType)&&o[d.__c],w=d?b?b.props.value:d.__:o,n.__c?f=(u=t.__c=n.__c).__=u.__E:(y?t.__c=u=new T(v,w):(t.__c=u=new F(v,w),u.constructor=T,u.render=re),b&&b.sub(u),u.props=v,u.state||(u.state={}),u.context=w,u.__n=o,h=u.__d=!0,u.__h=[],u._sb=[]),y&&null==u.__s&&(u.__s=u.state),y&&null!=T.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=O({},u.__s)),O(u.__s,T.getDerivedStateFromProps(v,u.__s))),p=u.props,g=u.state,u.__v=t,h)y&&null==T.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),y&&null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(y&&null==T.getDerivedStateFromProps&&v!==p&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(v,w),!u.__e&&(null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(v,u.__s,w)||t.__v==n.__v)){for(t.__v!=n.__v&&(u.props=v,u.state=u.__s,u.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some((function(e){e&&(e.__=t)})),x=0;x<u._sb.length;x++)u.__h.push(u._sb[x]);u._sb=[],u.__h.length&&a.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(v,u.__s,w),y&&null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(p,g,m)}))}if(u.context=w,u.props=v,u.__P=e,u.__e=!1,C=k.__r,S=0,y){for(u.state=u.__s,u.__d=!1,C&&C(t),d=u.render(u.props,u.state,u.context),M=0;M<u._sb.length;M++)u.__h.push(u._sb[M]);u._sb=[]}else do{u.__d=!1,C&&C(t),d=u.render(u.props,u.state,u.context),u.state=u.__s}while(u.__d&&++S<25);u.state=u.__s,null!=u.getChildContext&&(o=O(O({},o),u.getChildContext())),y&&!h&&null!=u.getSnapshotBeforeUpdate&&(m=u.getSnapshotBeforeUpdate(p,g)),P=d,null!=d&&d.type===$&&null==d.key&&(P=te(d.props.children)),l=Z(e,D(P)?P:[P],t,n,o,i,r,a,l,s,c),u.base=t.__e,t.__u&=-161,u.__h.length&&a.push(u),f&&(u.__E=u.__=null)}catch(e){if(t.__v=null,s||null!=r)if(e.then){for(t.__u|=s?160:128;l&&8==l.nodeType&&l.nextSibling;)l=l.nextSibling;r[r.indexOf(l)]=null,t.__e=l}else for(I=r.length;I--;)B(r[I]);else t.__e=n.__e,t.__k=n.__k;k.__e(e,t,n)}else null==r&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):l=t.__e=ne(n.__e,t,n,o,i,r,a,s,c);return(d=k.diffed)&&d(t),128&t.__u?void 0:l}function ee(e,t,n){for(var o=0;o<n.length;o++)oe(n[o],n[++o],n[++o]);k.__c&&k.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){k.__e(e,t.__v)}}))}function te(e){return"object"!=typeof e||null==e?e:D(e)?e.map(te):O({},e)}function ne(e,t,n,o,i,r,a,l,s){var c,d,u,h,p,g,m,f=n.props,v=t.props,y=t.type;if("svg"==y?i="http://www.w3.org/2000/svg":"math"==y?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=r)for(c=0;c<r.length;c++)if((p=r[c])&&"setAttribute"in p==!!y&&(y?p.localName==y:3==p.nodeType)){e=p,r[c]=null;break}if(null==e){if(null==y)return document.createTextNode(v);e=document.createElementNS(i,y,v.is&&v),l&&(k.__m&&k.__m(t,r),l=!1),r=null}if(null===y)f===v||l&&e.data===v||(e.data=v);else{if(r=r&&x.call(e.childNodes),f=n.props||_,!l&&null!=r)for(f={},c=0;c<e.attributes.length;c++)f[(p=e.attributes[c]).name]=p.value;for(c in f)if(p=f[c],"children"==c);else if("dangerouslySetInnerHTML"==c)u=p;else if(!(c in v)){if("value"==c&&"defaultValue"in v||"checked"==c&&"defaultChecked"in v)continue;K(e,c,null,p,i)}for(c in v)p=v[c],"children"==c?h=p:"dangerouslySetInnerHTML"==c?d=p:"value"==c?g=p:"checked"==c?m=p:l&&"function"!=typeof p||f[c]===p||K(e,c,p,f[c],i);if(d)l||u&&(d.__html===u.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(u&&(e.innerHTML=""),Z("template"===t.type?e.content:e,D(h)?h:[h],t,n,o,"foreignObject"==y?"http://www.w3.org/1999/xhtml":i,r,a,r?r[0]:n.__k&&U(n,0),l,s),null!=r)for(c=r.length;c--;)B(r[c]);l||(c="value","progress"==y&&null==g?e.removeAttribute("value"):void 0!==g&&(g!==e[c]||"progress"==y&&!g||"option"==y&&g!==f[c])&&K(e,c,g,f[c],i),c="checked",void 0!==m&&m!==e[c]&&K(e,c,m,f[c],i))}return e}function oe(e,t,n){try{if("function"==typeof e){var o="function"==typeof e.__u;o&&e.__u(),o&&null==t||(e.__u=e(t))}else e.current=t}catch(e){k.__e(e,n)}}function ie(e,t,n){var o,i;if(k.unmount&&k.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||oe(o,null,t)),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){k.__e(e,t)}o.base=o.__P=null}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&ie(o[i],t,n||"function"!=typeof e.type);n||B(e.__e),e.__c=e.__=e.__e=void 0}function re(e,t,n){return this.constructor(e,n)}function ae(e){function t(e){var n,o;return this.getChildContext||(n=new Set,(o={})[t.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.forEach((function(e){e.__e=!0,q(e)}))},this.sub=function(e){n.add(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n&&n.delete(e),t&&t.call(e)}}),e.children}return t.__c="__cC"+E++,t.__=e,t.Provider=t.__l=(t.Consumer=function(e,t){return e.children(t)}).contextType=t,t}x=N.slice,k={__e:function(e,t,n,o){for(var i,r,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,o||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},C=0,F.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=O({},this.state),"function"==typeof e&&(e=e(O({},n),this.props)),e&&O(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),q(this))},F.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),q(this))},F.prototype.render=$,S=[],P="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,I=function(e,t){return e.__v.__b-t.__v.__b},G.__r=0,T=/(PointerCapture)$|Capture$/i,A=0,z=Q(!1),R=Q(!0),E=0;var le,se,ce,de,ue='/*! tailwindcss v4.0.6 | MIT License | https://tailwindcss.com */\n@layer theme, base, components, utilities;\n@layer theme {\n  :root, :host {\n    --font-sans: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",\n      "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n    --font-serif: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;\n    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",\n      "Courier New", monospace;\n    --color-red-50: oklch(97.1% 0.013 17.38);\n    --color-red-100: oklch(93.6% 0.032 17.717);\n    --color-red-200: oklch(88.5% 0.062 18.334);\n    --color-red-300: oklch(80.8% 0.114 19.571);\n    --color-red-400: oklch(70.4% 0.191 22.216);\n    --color-red-500: oklch(63.7% 0.237 25.331);\n    --color-red-600: oklch(57.7% 0.245 27.325);\n    --color-red-700: oklch(50.5% 0.213 27.518);\n    --color-red-800: oklch(44.4% 0.177 26.899);\n    --color-red-900: oklch(39.6% 0.141 25.723);\n    --color-red-950: oklch(25.8% 0.092 26.042);\n    --color-orange-50: oklch(98% 0.016 73.684);\n    --color-orange-100: oklch(95.4% 0.038 75.164);\n    --color-orange-200: oklch(90.1% 0.076 70.697);\n    --color-orange-300: oklch(83.7% 0.128 66.29);\n    --color-orange-400: oklch(75% 0.183 55.934);\n    --color-orange-500: oklch(70.5% 0.213 47.604);\n    --color-orange-600: oklch(64.6% 0.222 41.116);\n    --color-orange-700: oklch(55.3% 0.195 38.402);\n    --color-orange-800: oklch(47% 0.157 37.304);\n    --color-orange-900: oklch(40.8% 0.123 38.172);\n    --color-orange-950: oklch(26.6% 0.079 36.259);\n    --color-amber-50: oklch(98.7% 0.022 95.277);\n    --color-amber-100: oklch(96.2% 0.059 95.617);\n    --color-amber-200: oklch(92.4% 0.12 95.746);\n    --color-amber-300: oklch(87.9% 0.169 91.605);\n    --color-amber-400: oklch(82.8% 0.189 84.429);\n    --color-amber-500: oklch(76.9% 0.188 70.08);\n    --color-amber-600: oklch(66.6% 0.179 58.318);\n    --color-amber-700: oklch(55.5% 0.163 48.998);\n    --color-amber-800: oklch(47.3% 0.137 46.201);\n    --color-amber-900: oklch(41.4% 0.112 45.904);\n    --color-amber-950: oklch(27.9% 0.077 45.635);\n    --color-yellow-50: oklch(98.7% 0.026 102.212);\n    --color-yellow-100: oklch(97.3% 0.071 103.193);\n    --color-yellow-200: oklch(94.5% 0.129 101.54);\n    --color-yellow-300: oklch(90.5% 0.182 98.111);\n    --color-yellow-400: oklch(85.2% 0.199 91.936);\n    --color-yellow-500: oklch(79.5% 0.184 86.047);\n    --color-yellow-600: oklch(68.1% 0.162 75.834);\n    --color-yellow-700: oklch(55.4% 0.135 66.442);\n    --color-yellow-800: oklch(47.6% 0.114 61.907);\n    --color-yellow-900: oklch(42.1% 0.095 57.708);\n    --color-yellow-950: oklch(28.6% 0.066 53.813);\n    --color-lime-50: oklch(98.6% 0.031 120.757);\n    --color-lime-100: oklch(96.7% 0.067 122.328);\n    --color-lime-200: oklch(93.8% 0.127 124.321);\n    --color-lime-300: oklch(89.7% 0.196 126.665);\n    --color-lime-400: oklch(84.1% 0.238 128.85);\n    --color-lime-500: oklch(76.8% 0.233 130.85);\n    --color-lime-600: oklch(64.8% 0.2 131.684);\n    --color-lime-700: oklch(53.2% 0.157 131.589);\n    --color-lime-800: oklch(45.3% 0.124 130.933);\n    --color-lime-900: oklch(40.5% 0.101 131.063);\n    --color-lime-950: oklch(27.4% 0.072 132.109);\n    --color-green-50: oklch(98.2% 0.018 155.826);\n    --color-green-100: oklch(96.2% 0.044 156.743);\n    --color-green-200: oklch(92.5% 0.084 155.995);\n    --color-green-300: oklch(87.1% 0.15 154.449);\n    --color-green-400: oklch(79.2% 0.209 151.711);\n    --color-green-500: oklch(72.3% 0.219 149.579);\n    --color-green-600: oklch(62.7% 0.194 149.214);\n    --color-green-700: oklch(52.7% 0.154 150.069);\n    --color-green-800: oklch(44.8% 0.119 151.328);\n    --color-green-900: oklch(39.3% 0.095 152.535);\n    --color-green-950: oklch(26.6% 0.065 152.934);\n    --color-emerald-50: oklch(97.9% 0.021 166.113);\n    --color-emerald-100: oklch(95% 0.052 163.051);\n    --color-emerald-200: oklch(90.5% 0.093 164.15);\n    --color-emerald-300: oklch(84.5% 0.143 164.978);\n    --color-emerald-400: oklch(76.5% 0.177 163.223);\n    --color-emerald-500: oklch(69.6% 0.17 162.48);\n    --color-emerald-600: oklch(59.6% 0.145 163.225);\n    --color-emerald-700: oklch(50.8% 0.118 165.612);\n    --color-emerald-800: oklch(43.2% 0.095 166.913);\n    --color-emerald-900: oklch(37.8% 0.077 168.94);\n    --color-emerald-950: oklch(26.2% 0.051 172.552);\n    --color-teal-50: oklch(98.4% 0.014 180.72);\n    --color-teal-100: oklch(95.3% 0.051 180.801);\n    --color-teal-200: oklch(91% 0.096 180.426);\n    --color-teal-300: oklch(85.5% 0.138 181.071);\n    --color-teal-400: oklch(77.7% 0.152 181.912);\n    --color-teal-500: oklch(70.4% 0.14 182.503);\n    --color-teal-600: oklch(60% 0.118 184.704);\n    --color-teal-700: oklch(51.1% 0.096 186.391);\n    --color-teal-800: oklch(43.7% 0.078 188.216);\n    --color-teal-900: oklch(38.6% 0.063 188.416);\n    --color-teal-950: oklch(27.7% 0.046 192.524);\n    --color-cyan-50: oklch(98.4% 0.019 200.873);\n    --color-cyan-100: oklch(95.6% 0.045 203.388);\n    --color-cyan-200: oklch(91.7% 0.08 205.041);\n    --color-cyan-300: oklch(86.5% 0.127 207.078);\n    --color-cyan-400: oklch(78.9% 0.154 211.53);\n    --color-cyan-500: oklch(71.5% 0.143 215.221);\n    --color-cyan-600: oklch(60.9% 0.126 221.723);\n    --color-cyan-700: oklch(52% 0.105 223.128);\n    --color-cyan-800: oklch(45% 0.085 224.283);\n    --color-cyan-900: oklch(39.8% 0.07 227.392);\n    --color-cyan-950: oklch(30.2% 0.056 229.695);\n    --color-sky-50: oklch(97.7% 0.013 236.62);\n    --color-sky-100: oklch(95.1% 0.026 236.824);\n    --color-sky-200: oklch(90.1% 0.058 230.902);\n    --color-sky-300: oklch(82.8% 0.111 230.318);\n    --color-sky-400: oklch(74.6% 0.16 232.661);\n    --color-sky-500: oklch(68.5% 0.169 237.323);\n    --color-sky-600: oklch(58.8% 0.158 241.966);\n    --color-sky-700: oklch(50% 0.134 242.749);\n    --color-sky-800: oklch(44.3% 0.11 240.79);\n    --color-sky-900: oklch(39.1% 0.09 240.876);\n    --color-sky-950: oklch(29.3% 0.066 243.157);\n    --color-blue-50: oklch(97% 0.014 254.604);\n    --color-blue-100: oklch(93.2% 0.032 255.585);\n    --color-blue-200: oklch(88.2% 0.059 254.128);\n    --color-blue-300: oklch(80.9% 0.105 251.813);\n    --color-blue-400: oklch(70.7% 0.165 254.624);\n    --color-blue-500: oklch(62.3% 0.214 259.815);\n    --color-blue-600: oklch(54.6% 0.245 262.881);\n    --color-blue-700: oklch(48.8% 0.243 264.376);\n    --color-blue-800: oklch(42.4% 0.199 265.638);\n    --color-blue-900: oklch(37.9% 0.146 265.522);\n    --color-blue-950: oklch(28.2% 0.091 267.935);\n    --color-indigo-50: oklch(96.2% 0.018 272.314);\n    --color-indigo-100: oklch(93% 0.034 272.788);\n    --color-indigo-200: oklch(87% 0.065 274.039);\n    --color-indigo-300: oklch(78.5% 0.115 274.713);\n    --color-indigo-400: oklch(67.3% 0.182 276.935);\n    --color-indigo-500: oklch(58.5% 0.233 277.117);\n    --color-indigo-600: oklch(51.1% 0.262 276.966);\n    --color-indigo-700: oklch(45.7% 0.24 277.023);\n    --color-indigo-800: oklch(39.8% 0.195 277.366);\n    --color-indigo-900: oklch(35.9% 0.144 278.697);\n    --color-indigo-950: oklch(25.7% 0.09 281.288);\n    --color-violet-50: oklch(96.9% 0.016 293.756);\n    --color-violet-100: oklch(94.3% 0.029 294.588);\n    --color-violet-200: oklch(89.4% 0.057 293.283);\n    --color-violet-300: oklch(81.1% 0.111 293.571);\n    --color-violet-400: oklch(70.2% 0.183 293.541);\n    --color-violet-500: oklch(60.6% 0.25 292.717);\n    --color-violet-600: oklch(54.1% 0.281 293.009);\n    --color-violet-700: oklch(49.1% 0.27 292.581);\n    --color-violet-800: oklch(43.2% 0.232 292.759);\n    --color-violet-900: oklch(38% 0.189 293.745);\n    --color-violet-950: oklch(28.3% 0.141 291.089);\n    --color-purple-50: oklch(97.7% 0.014 308.299);\n    --color-purple-100: oklch(94.6% 0.033 307.174);\n    --color-purple-200: oklch(90.2% 0.063 306.703);\n    --color-purple-300: oklch(82.7% 0.119 306.383);\n    --color-purple-400: oklch(71.4% 0.203 305.504);\n    --color-purple-500: oklch(62.7% 0.265 303.9);\n    --color-purple-600: oklch(55.8% 0.288 302.321);\n    --color-purple-700: oklch(49.6% 0.265 301.924);\n    --color-purple-800: oklch(43.8% 0.218 303.724);\n    --color-purple-900: oklch(38.1% 0.176 304.987);\n    --color-purple-950: oklch(29.1% 0.149 302.717);\n    --color-fuchsia-50: oklch(97.7% 0.017 320.058);\n    --color-fuchsia-100: oklch(95.2% 0.037 318.852);\n    --color-fuchsia-200: oklch(90.3% 0.076 319.62);\n    --color-fuchsia-300: oklch(83.3% 0.145 321.434);\n    --color-fuchsia-400: oklch(74% 0.238 322.16);\n    --color-fuchsia-500: oklch(66.7% 0.295 322.15);\n    --color-fuchsia-600: oklch(59.1% 0.293 322.896);\n    --color-fuchsia-700: oklch(51.8% 0.253 323.949);\n    --color-fuchsia-800: oklch(45.2% 0.211 324.591);\n    --color-fuchsia-900: oklch(40.1% 0.17 325.612);\n    --color-fuchsia-950: oklch(29.3% 0.136 325.661);\n    --color-pink-50: oklch(97.1% 0.014 343.198);\n    --color-pink-100: oklch(94.8% 0.028 342.258);\n    --color-pink-200: oklch(89.9% 0.061 343.231);\n    --color-pink-300: oklch(82.3% 0.12 346.018);\n    --color-pink-400: oklch(71.8% 0.202 349.761);\n    --color-pink-500: oklch(65.6% 0.241 354.308);\n    --color-pink-600: oklch(59.2% 0.249 0.584);\n    --color-pink-700: oklch(52.5% 0.223 3.958);\n    --color-pink-800: oklch(45.9% 0.187 3.815);\n    --color-pink-900: oklch(40.8% 0.153 2.432);\n    --color-pink-950: oklch(28.4% 0.109 3.907);\n    --color-rose-50: oklch(96.9% 0.015 12.422);\n    --color-rose-100: oklch(94.1% 0.03 12.58);\n    --color-rose-200: oklch(89.2% 0.058 10.001);\n    --color-rose-300: oklch(81% 0.117 11.638);\n    --color-rose-400: oklch(71.2% 0.194 13.428);\n    --color-rose-500: oklch(64.5% 0.246 16.439);\n    --color-rose-600: oklch(58.6% 0.253 17.585);\n    --color-rose-700: oklch(51.4% 0.222 16.935);\n    --color-rose-800: oklch(45.5% 0.188 13.697);\n    --color-rose-900: oklch(41% 0.159 10.272);\n    --color-rose-950: oklch(27.1% 0.105 12.094);\n    --color-slate-50: oklch(98.4% 0.003 247.858);\n    --color-slate-100: oklch(96.8% 0.007 247.896);\n    --color-slate-200: oklch(92.9% 0.013 255.508);\n    --color-slate-300: oklch(86.9% 0.022 252.894);\n    --color-slate-400: oklch(70.4% 0.04 256.788);\n    --color-slate-500: oklch(55.4% 0.046 257.417);\n    --color-slate-600: oklch(44.6% 0.043 257.281);\n    --color-slate-700: oklch(37.2% 0.044 257.287);\n    --color-slate-800: oklch(27.9% 0.041 260.031);\n    --color-slate-900: oklch(20.8% 0.042 265.755);\n    --color-slate-950: oklch(12.9% 0.042 264.695);\n    --color-gray-50: oklch(98.5% 0.002 247.839);\n    --color-gray-100: oklch(96.7% 0.003 264.542);\n    --color-gray-200: oklch(92.8% 0.006 264.531);\n    --color-gray-300: oklch(87.2% 0.01 258.338);\n    --color-gray-400: oklch(70.7% 0.022 261.325);\n    --color-gray-500: oklch(55.1% 0.027 264.364);\n    --color-gray-600: oklch(44.6% 0.03 256.802);\n    --color-gray-700: oklch(37.3% 0.034 259.733);\n    --color-gray-800: oklch(27.8% 0.033 256.848);\n    --color-gray-900: oklch(21% 0.034 264.665);\n    --color-gray-950: oklch(13% 0.028 261.692);\n    --color-zinc-50: oklch(98.5% 0 0);\n    --color-zinc-100: oklch(96.7% 0.001 286.375);\n    --color-zinc-200: oklch(92% 0.004 286.32);\n    --color-zinc-300: oklch(87.1% 0.006 286.286);\n    --color-zinc-400: oklch(70.5% 0.015 286.067);\n    --color-zinc-500: oklch(55.2% 0.016 285.938);\n    --color-zinc-600: oklch(44.2% 0.017 285.786);\n    --color-zinc-700: oklch(37% 0.013 285.805);\n    --color-zinc-800: oklch(27.4% 0.006 286.033);\n    --color-zinc-900: oklch(21% 0.006 285.885);\n    --color-zinc-950: oklch(14.1% 0.005 285.823);\n    --color-neutral-50: oklch(98.5% 0 0);\n    --color-neutral-100: oklch(97% 0 0);\n    --color-neutral-200: oklch(92.2% 0 0);\n    --color-neutral-300: oklch(87% 0 0);\n    --color-neutral-400: oklch(70.8% 0 0);\n    --color-neutral-500: oklch(55.6% 0 0);\n    --color-neutral-600: oklch(43.9% 0 0);\n    --color-neutral-700: oklch(37.1% 0 0);\n    --color-neutral-800: oklch(26.9% 0 0);\n    --color-neutral-900: oklch(20.5% 0 0);\n    --color-neutral-950: oklch(14.5% 0 0);\n    --color-stone-50: oklch(98.5% 0.001 106.423);\n    --color-stone-100: oklch(97% 0.001 106.424);\n    --color-stone-200: oklch(92.3% 0.003 48.717);\n    --color-stone-300: oklch(86.9% 0.005 56.366);\n    --color-stone-400: oklch(70.9% 0.01 56.259);\n    --color-stone-500: oklch(55.3% 0.013 58.071);\n    --color-stone-600: oklch(44.4% 0.011 73.639);\n    --color-stone-700: oklch(37.4% 0.01 67.558);\n    --color-stone-800: oklch(26.8% 0.007 34.298);\n    --color-stone-900: oklch(21.6% 0.006 56.043);\n    --color-stone-950: oklch(14.7% 0.004 49.25);\n    --color-black: #000;\n    --color-white: #fff;\n    --spacing: 0.25rem;\n    --breakpoint-sm: 40rem;\n    --breakpoint-md: 48rem;\n    --breakpoint-lg: 64rem;\n    --breakpoint-xl: 80rem;\n    --breakpoint-2xl: 96rem;\n    --container-3xs: 16rem;\n    --container-2xs: 18rem;\n    --container-xs: 20rem;\n    --container-sm: 24rem;\n    --container-md: 28rem;\n    --container-lg: 32rem;\n    --container-xl: 36rem;\n    --container-2xl: 42rem;\n    --container-3xl: 48rem;\n    --container-4xl: 56rem;\n    --container-5xl: 64rem;\n    --container-6xl: 72rem;\n    --container-7xl: 80rem;\n    --text-xs: 0.75rem;\n    --text-xs--line-height: calc(1 / 0.75);\n    --text-sm: 0.875rem;\n    --text-sm--line-height: calc(1.25 / 0.875);\n    --text-base: 1rem;\n    --text-base--line-height: calc(1.5 / 1);\n    --text-lg: 1.125rem;\n    --text-lg--line-height: calc(1.75 / 1.125);\n    --text-xl: 1.25rem;\n    --text-xl--line-height: calc(1.75 / 1.25);\n    --text-2xl: 1.5rem;\n    --text-2xl--line-height: calc(2 / 1.5);\n    --text-3xl: 1.875rem;\n    --text-3xl--line-height: calc(2.25 / 1.875);\n    --text-4xl: 2.25rem;\n    --text-4xl--line-height: calc(2.5 / 2.25);\n    --text-5xl: 3rem;\n    --text-5xl--line-height: 1;\n    --text-6xl: 3.75rem;\n    --text-6xl--line-height: 1;\n    --text-7xl: 4.5rem;\n    --text-7xl--line-height: 1;\n    --text-8xl: 6rem;\n    --text-8xl--line-height: 1;\n    --text-9xl: 8rem;\n    --text-9xl--line-height: 1;\n    --font-weight-thin: 100;\n    --font-weight-extralight: 200;\n    --font-weight-light: 300;\n    --font-weight-normal: 400;\n    --font-weight-medium: 500;\n    --font-weight-semibold: 600;\n    --font-weight-bold: 700;\n    --font-weight-extrabold: 800;\n    --font-weight-black: 900;\n    --tracking-tighter: -0.05em;\n    --tracking-tight: -0.025em;\n    --tracking-normal: 0em;\n    --tracking-wide: 0.025em;\n    --tracking-wider: 0.05em;\n    --tracking-widest: 0.1em;\n    --leading-tight: 1.25;\n    --leading-snug: 1.375;\n    --leading-normal: 1.5;\n    --leading-relaxed: 1.625;\n    --leading-loose: 2;\n    --radius-xs: 0.125rem;\n    --radius-sm: 0.25rem;\n    --radius-md: 0.375rem;\n    --radius-lg: 0.5rem;\n    --radius-xl: 0.75rem;\n    --radius-2xl: 1rem;\n    --radius-3xl: 1.5rem;\n    --radius-4xl: 2rem;\n    --shadow-2xs: 0 1px rgb(0 0 0 / 0.05);\n    --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n    --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);\n    --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);\n    --inset-shadow-2xs: inset 0 1px rgb(0 0 0 / 0.05);\n    --inset-shadow-xs: inset 0 1px 1px rgb(0 0 0 / 0.05);\n    --inset-shadow-sm: inset 0 2px 4px rgb(0 0 0 / 0.05);\n    --drop-shadow-xs: 0 1px 1px rgb(0 0 0 / 0.05);\n    --drop-shadow-sm: 0 1px 2px rgb(0 0 0 / 0.15);\n    --drop-shadow-md: 0 3px 3px rgb(0 0 0 / 0.12);\n    --drop-shadow-lg: 0 4px 4px rgb(0 0 0 / 0.15);\n    --drop-shadow-xl: 0 9px 7px rgb(0 0 0 / 0.1);\n    --drop-shadow-2xl: 0 25px 25px rgb(0 0 0 / 0.15);\n    --text-shadow-2xs: 0px 1px 0px rgb(0 0 0 / 0.15);\n    --text-shadow-xs: 0px 1px 1px rgb(0 0 0 / 0.2);\n    --text-shadow-sm: 0px 1px 0px rgb(0 0 0 / 0.075), 0px 1px 1px rgb(0 0 0 / 0.075),\n      0px 2px 2px rgb(0 0 0 / 0.075);\n    --text-shadow-md: 0px 1px 1px rgb(0 0 0 / 0.1), 0px 1px 2px rgb(0 0 0 / 0.1),\n      0px 2px 4px rgb(0 0 0 / 0.1);\n    --text-shadow-lg: 0px 1px 2px rgb(0 0 0 / 0.1), 0px 3px 2px rgb(0 0 0 / 0.1),\n      0px 4px 8px rgb(0 0 0 / 0.1);\n    --ease-in: cubic-bezier(0.4, 0, 1, 1);\n    --ease-out: cubic-bezier(0, 0, 0.2, 1);\n    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);\n    --animate-spin: spin 1s linear infinite;\n    --animate-ping: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;\n    --animate-pulse: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n    --animate-bounce: bounce 1s infinite;\n    --blur-xs: 4px;\n    --blur-sm: 8px;\n    --blur-md: 12px;\n    --blur-lg: 16px;\n    --blur-xl: 24px;\n    --blur-2xl: 40px;\n    --blur-3xl: 64px;\n    --perspective-dramatic: 100px;\n    --perspective-near: 300px;\n    --perspective-normal: 500px;\n    --perspective-midrange: 800px;\n    --perspective-distant: 1200px;\n    --aspect-video: 16 / 9;\n    --default-transition-duration: 150ms;\n    --default-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    --default-font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",\n      "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n    --default-font-feature-settings: initial;\n    --default-font-variation-settings: initial;\n    --default-mono-font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",\n      "Courier New", monospace;\n    --default-mono-font-feature-settings: initial;\n    --default-mono-font-variation-settings: initial;\n  }\n}\n@layer base {\n  *, ::after, ::before, ::backdrop, ::file-selector-button {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    border: 0 solid;\n  }\n  html, :host {\n    line-height: 1.5;\n    -webkit-text-size-adjust: 100%;\n    -moz-tab-size: 4;\n      -o-tab-size: 4;\n         tab-size: 4;\n    font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",\n      "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n    font-feature-settings: initial;\n    font-variation-settings: initial;\n    -webkit-tap-highlight-color: transparent;\n  }\n  hr {\n    height: 0;\n    color: inherit;\n    border-top-width: 1px;\n  }\n  abbr:where([title]) {\n    -webkit-text-decoration: underline dotted;\n    text-decoration: underline dotted;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    font-size: inherit;\n    font-weight: inherit;\n  }\n  a {\n    color: inherit;\n    -webkit-text-decoration: inherit;\n    text-decoration: inherit;\n  }\n  b, strong {\n    font-weight: bolder;\n  }\n  code, kbd, samp, pre {\n    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",\n      "Courier New", monospace;\n    font-feature-settings: initial;\n    font-variation-settings: initial;\n    font-size: 1em;\n  }\n  small {\n    font-size: 80%;\n  }\n  sub, sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n  sub {\n    bottom: -0.25em;\n  }\n  sup {\n    top: -0.5em;\n  }\n  table {\n    text-indent: 0;\n    border-color: inherit;\n    border-collapse: collapse;\n  }\n  :-moz-focusring {\n    outline: auto;\n  }\n  progress {\n    vertical-align: baseline;\n  }\n  summary {\n    display: list-item;\n  }\n  ol, ul, menu {\n    list-style: none;\n  }\n  img, svg, video, canvas, audio, iframe, embed, object {\n    display: block;\n    vertical-align: middle;\n  }\n  img, video {\n    max-width: 100%;\n    height: auto;\n  }\n  button, input, select, optgroup, textarea, ::file-selector-button {\n    font: inherit;\n    font-feature-settings: inherit;\n    font-variation-settings: inherit;\n    letter-spacing: inherit;\n    color: inherit;\n    border-radius: 0;\n    background-color: transparent;\n    opacity: 1;\n  }\n  :where(select:is([multiple], [size])) optgroup {\n    font-weight: bolder;\n  }\n  :where(select:is([multiple], [size])) optgroup option {\n    padding-inline-start: 20px;\n  }\n  ::file-selector-button {\n    margin-inline-end: 4px;\n  }\n  ::-moz-placeholder {\n    opacity: 1;\n  }\n  ::placeholder {\n    opacity: 1;\n  }\n  @supports (not (-webkit-appearance: -apple-pay-button))  or (contain-intrinsic-size: 1px) {\n    ::-moz-placeholder {\n      color: color-mix(in oklab, currentcolor 50%, transparent);\n    }\n    ::placeholder {\n      color: color-mix(in oklab, currentcolor 50%, transparent);\n    }\n  }\n  textarea {\n    resize: vertical;\n  }\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n  ::-webkit-date-and-time-value {\n    min-height: 1lh;\n    text-align: inherit;\n  }\n  ::-webkit-datetime-edit {\n    display: inline-flex;\n  }\n  ::-webkit-datetime-edit-fields-wrapper {\n    padding: 0;\n  }\n  ::-webkit-datetime-edit, ::-webkit-datetime-edit-year-field, ::-webkit-datetime-edit-month-field, ::-webkit-datetime-edit-day-field, ::-webkit-datetime-edit-hour-field, ::-webkit-datetime-edit-minute-field, ::-webkit-datetime-edit-second-field, ::-webkit-datetime-edit-millisecond-field, ::-webkit-datetime-edit-meridiem-field {\n    padding-block: 0;\n  }\n  :-moz-ui-invalid {\n    box-shadow: none;\n  }\n  button, input:where([type="button"], [type="reset"], [type="submit"]), ::file-selector-button {\n    -webkit-appearance: button;\n       -moz-appearance: button;\n            appearance: button;\n  }\n  ::-webkit-inner-spin-button, ::-webkit-outer-spin-button {\n    height: auto;\n  }\n  [hidden]:where(:not([hidden="until-found"])) {\n    display: none !important;\n  }\n}\n@layer utilities {\n  .\\@container {\n    container-type: inline-size;\n  }\n  .pointer-events-none {\n    pointer-events: none;\n  }\n  .visible {\n    visibility: visible;\n  }\n  .absolute {\n    position: absolute;\n  }\n  .fixed {\n    position: fixed;\n  }\n  .relative {\n    position: relative;\n  }\n  .static {\n    position: static;\n  }\n  .sticky {\n    position: sticky;\n  }\n  .inset-0 {\n    inset: calc(var(--spacing) * 0);\n  }\n  .inset-y-0 {\n    inset-block: calc(var(--spacing) * 0);\n  }\n  .top-0 {\n    top: calc(var(--spacing) * 0);\n  }\n  .top-6 {\n    top: calc(var(--spacing) * 6);\n  }\n  .right-0 {\n    right: calc(var(--spacing) * 0);\n  }\n  .right-1 {\n    right: calc(var(--spacing) * 1);\n  }\n  .bottom-0 {\n    bottom: calc(var(--spacing) * 0);\n  }\n  .bottom-4 {\n    bottom: calc(var(--spacing) * 4);\n  }\n  .left-0 {\n    left: calc(var(--spacing) * 0);\n  }\n  .left-1\\/2 {\n    left: calc(1/2 * 100%);\n  }\n  .z-10 {\n    z-index: 10;\n  }\n  .z-50 {\n    z-index: 50;\n  }\n  .z-100 {\n    z-index: 100;\n  }\n  .col-start-1 {\n    grid-column-start: 1;\n  }\n  .row-start-1 {\n    grid-row-start: 1;\n  }\n  .container {\n    width: 100%;\n    @media (width >= 40rem) {\n      max-width: 40rem;\n    }\n    @media (width >= 48rem) {\n      max-width: 48rem;\n    }\n    @media (width >= 64rem) {\n      max-width: 64rem;\n    }\n    @media (width >= 80rem) {\n      max-width: 80rem;\n    }\n    @media (width >= 96rem) {\n      max-width: 96rem;\n    }\n  }\n  .mx-4 {\n    margin-inline: calc(var(--spacing) * 4);\n  }\n  .my-2 {\n    margin-block: calc(var(--spacing) * 2);\n  }\n  .my-4 {\n    margin-block: calc(var(--spacing) * 4);\n  }\n  .mt-0\\.5 {\n    margin-top: calc(var(--spacing) * 0.5);\n  }\n  .mt-1 {\n    margin-top: calc(var(--spacing) * 1);\n  }\n  .mt-2 {\n    margin-top: calc(var(--spacing) * 2);\n  }\n  .mt-3 {\n    margin-top: calc(var(--spacing) * 3);\n  }\n  .mt-4 {\n    margin-top: calc(var(--spacing) * 4);\n  }\n  .mt-5 {\n    margin-top: calc(var(--spacing) * 5);\n  }\n  .mr-1 {\n    margin-right: calc(var(--spacing) * 1);\n  }\n  .mr-2 {\n    margin-right: calc(var(--spacing) * 2);\n  }\n  .mr-5 {\n    margin-right: calc(var(--spacing) * 5);\n  }\n  .mb-1 {\n    margin-bottom: calc(var(--spacing) * 1);\n  }\n  .mb-2 {\n    margin-bottom: calc(var(--spacing) * 2);\n  }\n  .mb-3 {\n    margin-bottom: calc(var(--spacing) * 3);\n  }\n  .mb-4 {\n    margin-bottom: calc(var(--spacing) * 4);\n  }\n  .mb-6 {\n    margin-bottom: calc(var(--spacing) * 6);\n  }\n  .block {\n    display: block;\n  }\n  .contents {\n    display: contents;\n  }\n  .flex {\n    display: flex;\n  }\n  .grid {\n    display: grid;\n  }\n  .hidden {\n    display: none;\n  }\n  .inline {\n    display: inline;\n  }\n  .inline-block {\n    display: inline-block;\n  }\n  .inline-flex {\n    display: inline-flex;\n  }\n  .h-1 {\n    height: calc(var(--spacing) * 1);\n  }\n  .h-1\\/2 {\n    height: calc(1/2 * 100%);\n  }\n  .h-2 {\n    height: calc(var(--spacing) * 2);\n  }\n  .h-3 {\n    height: calc(var(--spacing) * 3);\n  }\n  .h-3\\.5 {\n    height: calc(var(--spacing) * 3.5);\n  }\n  .h-4 {\n    height: calc(var(--spacing) * 4);\n  }\n  .h-5 {\n    height: calc(var(--spacing) * 5);\n  }\n  .h-6 {\n    height: calc(var(--spacing) * 6);\n  }\n  .h-7 {\n    height: calc(var(--spacing) * 7);\n  }\n  .h-8 {\n    height: calc(var(--spacing) * 8);\n  }\n  .h-9 {\n    height: calc(var(--spacing) * 9);\n  }\n  .h-12 {\n    height: calc(var(--spacing) * 12);\n  }\n  .h-18 {\n    height: calc(var(--spacing) * 18);\n  }\n  .h-\\[1px\\] {\n    height: 1px;\n  }\n  .h-\\[32px\\] {\n    height: 32px;\n  }\n  .h-full {\n    height: 100%;\n  }\n  .max-h-48 {\n    max-height: calc(var(--spacing) * 48);\n  }\n  .max-h-60 {\n    max-height: calc(var(--spacing) * 60);\n  }\n  .min-h-0 {\n    min-height: calc(var(--spacing) * 0);\n  }\n  .\\!w-full {\n    width: 100% !important;\n  }\n  .w-2 {\n    width: calc(var(--spacing) * 2);\n  }\n  .w-3 {\n    width: calc(var(--spacing) * 3);\n  }\n  .w-3\\.5 {\n    width: calc(var(--spacing) * 3.5);\n  }\n  .w-4 {\n    width: calc(var(--spacing) * 4);\n  }\n  .w-5 {\n    width: calc(var(--spacing) * 5);\n  }\n  .w-6 {\n    width: calc(var(--spacing) * 6);\n  }\n  .w-8 {\n    width: calc(var(--spacing) * 8);\n  }\n  .w-9 {\n    width: calc(var(--spacing) * 9);\n  }\n  .w-12 {\n    width: calc(var(--spacing) * 12);\n  }\n  .w-18 {\n    width: calc(var(--spacing) * 18);\n  }\n  .w-32 {\n    width: calc(var(--spacing) * 32);\n  }\n  .w-36 {\n    width: calc(var(--spacing) * 36);\n  }\n  .w-\\[1px\\] {\n    width: 1px;\n  }\n  .w-auto {\n    width: auto;\n  }\n  .w-full {\n    width: 100%;\n  }\n  .max-w-\\[150px\\] {\n    max-width: 150px;\n  }\n  .min-w-0 {\n    min-width: calc(var(--spacing) * 0);\n  }\n  .min-w-\\[8rem\\] {\n    min-width: 8rem;\n  }\n  .min-w-\\[32px\\] {\n    min-width: 32px;\n  }\n  .flex-1 {\n    flex: 1;\n  }\n  .flex-none {\n    flex: none;\n  }\n  .flex-shrink-0 {\n    flex-shrink: 0;\n  }\n  .shrink-0 {\n    flex-shrink: 0;\n  }\n  .-translate-x-1\\/2 {\n    --tw-translate-x: calc(calc(1/2 * 100%) * -1);\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .translate-x-\\[1px\\] {\n    --tw-translate-x: 1px;\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .translate-y-\\[1px\\] {\n    --tw-translate-y: 1px;\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .rotate-45 {\n    rotate: 45deg;\n  }\n  .transform {\n    transform: var(--tw-rotate-x) var(--tw-rotate-y) var(--tw-rotate-z) var(--tw-skew-x) var(--tw-skew-y);\n  }\n  .animate-pulse {\n    animation: var(--animate-pulse);\n  }\n  .animate-spin {\n    animation: var(--animate-spin);\n  }\n  .cursor-default {\n    cursor: default;\n  }\n  .cursor-grab {\n    cursor: grab;\n  }\n  .cursor-not-allowed {\n    cursor: not-allowed;\n  }\n  .cursor-pointer {\n    cursor: pointer;\n  }\n  .touch-pan-y {\n    --tw-pan-y: pan-y;\n    touch-action: var(--tw-pan-x,) var(--tw-pan-y,) var(--tw-pinch-zoom,);\n  }\n  .appearance-none {\n    -webkit-appearance: none;\n       -moz-appearance: none;\n            appearance: none;\n  }\n  .grid-cols-2 {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n  .grid-cols-6 {\n    grid-template-columns: repeat(6, minmax(0, 1fr));\n  }\n  .flex-col {\n    flex-direction: column;\n  }\n  .flex-row {\n    flex-direction: row;\n  }\n  .items-center {\n    align-items: center;\n  }\n  .items-end {\n    align-items: flex-end;\n  }\n  .items-start {\n    align-items: flex-start;\n  }\n  .justify-between {\n    justify-content: space-between;\n  }\n  .justify-center {\n    justify-content: center;\n  }\n  .justify-end {\n    justify-content: flex-end;\n  }\n  .gap-1 {\n    gap: calc(var(--spacing) * 1);\n  }\n  .gap-2 {\n    gap: calc(var(--spacing) * 2);\n  }\n  .gap-3 {\n    gap: calc(var(--spacing) * 3);\n  }\n  .gap-4 {\n    gap: calc(var(--spacing) * 4);\n  }\n  .gap-x-1 {\n    -moz-column-gap: calc(var(--spacing) * 1);\n         column-gap: calc(var(--spacing) * 1);\n  }\n  .space-y-2 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 2) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-3 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 3) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 3) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-4 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 4) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 4) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-6 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 6) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 6) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .gap-y-4 {\n    row-gap: calc(var(--spacing) * 4);\n  }\n  .space-x-2 {\n    :where(& > :not(:last-child)) {\n      --tw-space-x-reverse: 0;\n      margin-inline-start: calc(calc(var(--spacing) * 2) * var(--tw-space-x-reverse));\n      margin-inline-end: calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-x-reverse)));\n    }\n  }\n  .space-x-3 {\n    :where(& > :not(:last-child)) {\n      --tw-space-x-reverse: 0;\n      margin-inline-start: calc(calc(var(--spacing) * 3) * var(--tw-space-x-reverse));\n      margin-inline-end: calc(calc(var(--spacing) * 3) * calc(1 - var(--tw-space-x-reverse)));\n    }\n  }\n  .divide-y {\n    :where(& > :not(:last-child)) {\n      --tw-divide-y-reverse: 0;\n      border-bottom-style: var(--tw-border-style);\n      border-top-style: var(--tw-border-style);\n      border-top-width: calc(1px * var(--tw-divide-y-reverse));\n      border-bottom-width: calc(1px * calc(1 - var(--tw-divide-y-reverse)));\n    }\n  }\n  .divide-gray-100 {\n    :where(& > :not(:last-child)) {\n      border-color: var(--color-gray-100);\n    }\n  }\n  .self-center {\n    align-self: center;\n  }\n  .truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .overflow-auto {\n    overflow: auto;\n  }\n  .overflow-hidden {\n    overflow: hidden;\n  }\n  .overflow-y-auto {\n    overflow-y: auto;\n  }\n  .rounded {\n    border-radius: 0.25rem;\n  }\n  .rounded-\\[3px\\] {\n    border-radius: 3px;\n  }\n  .rounded-full {\n    border-radius: calc(infinity * 1px);\n  }\n  .rounded-lg {\n    border-radius: var(--radius-lg);\n  }\n  .rounded-md {\n    border-radius: var(--radius-md);\n  }\n  .rounded-none {\n    border-radius: 0;\n  }\n  .rounded-l-md {\n    border-top-left-radius: var(--radius-md);\n    border-bottom-left-radius: var(--radius-md);\n  }\n  .rounded-r-md {\n    border-top-right-radius: var(--radius-md);\n    border-bottom-right-radius: var(--radius-md);\n  }\n  .border {\n    border-style: var(--tw-border-style);\n    border-width: 1px;\n  }\n  .border-0 {\n    border-style: var(--tw-border-style);\n    border-width: 0px;\n  }\n  .border-1 {\n    border-style: var(--tw-border-style);\n    border-width: 1px;\n  }\n  .border-2 {\n    border-style: var(--tw-border-style);\n    border-width: 2px;\n  }\n  .border-3 {\n    border-style: var(--tw-border-style);\n    border-width: 3px;\n  }\n  .border-4 {\n    border-style: var(--tw-border-style);\n    border-width: 4px;\n  }\n  .border-t {\n    border-top-style: var(--tw-border-style);\n    border-top-width: 1px;\n  }\n  .border-r-0 {\n    border-right-style: var(--tw-border-style);\n    border-right-width: 0px;\n  }\n  .border-b {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 1px;\n  }\n  .border-b-2 {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 2px;\n  }\n  .border-none {\n    --tw-border-style: none;\n    border-style: none;\n  }\n  .border-\\[\\#cfd4da\\] {\n    border-color: #cfd4da;\n  }\n  .border-blue-300 {\n    border-color: var(--color-blue-300);\n  }\n  .border-blue-500 {\n    border-color: var(--color-blue-500);\n  }\n  .border-blue-600 {\n    border-color: var(--color-blue-600);\n  }\n  .border-gray-100 {\n    border-color: var(--color-gray-100);\n  }\n  .border-gray-200 {\n    border-color: var(--color-gray-200);\n  }\n  .border-gray-300 {\n    border-color: var(--color-gray-300);\n  }\n  .border-gray-400 {\n    border-color: var(--color-gray-400);\n  }\n  .border-gray-600 {\n    border-color: var(--color-gray-600);\n  }\n  .border-transparent {\n    border-color: transparent;\n  }\n  .border-t-blue-500 {\n    border-top-color: var(--color-blue-500);\n  }\n  .border-r-blue-500 {\n    border-right-color: var(--color-blue-500);\n  }\n  .border-b-blue-500 {\n    border-bottom-color: var(--color-blue-500);\n  }\n  .border-b-transparent {\n    border-bottom-color: transparent;\n  }\n  .bg-\\[\\#f1f3f5\\] {\n    background-color: #f1f3f5;\n  }\n  .bg-\\[\\#f8f9fa\\] {\n    background-color: #f8f9fa;\n  }\n  .bg-black\\/50 {\n    background-color: color-mix(in oklab, var(--color-black) 50%, transparent);\n  }\n  .bg-blue-50 {\n    background-color: var(--color-blue-50);\n  }\n  .bg-blue-500 {\n    background-color: var(--color-blue-500);\n  }\n  .bg-blue-600 {\n    background-color: var(--color-blue-600);\n  }\n  .bg-gray-100 {\n    background-color: var(--color-gray-100);\n  }\n  .bg-gray-200 {\n    background-color: var(--color-gray-200);\n  }\n  .bg-gray-300 {\n    background-color: var(--color-gray-300);\n  }\n  .bg-gray-900 {\n    background-color: var(--color-gray-900);\n  }\n  .bg-green-500 {\n    background-color: var(--color-green-500);\n  }\n  .bg-indigo-500 {\n    background-color: var(--color-indigo-500);\n  }\n  .bg-inherit {\n    background-color: inherit;\n  }\n  .bg-pink-500 {\n    background-color: var(--color-pink-500);\n  }\n  .bg-purple-500 {\n    background-color: var(--color-purple-500);\n  }\n  .bg-red-500 {\n    background-color: var(--color-red-500);\n  }\n  .bg-teal-500 {\n    background-color: var(--color-teal-500);\n  }\n  .bg-transparent {\n    background-color: transparent;\n  }\n  .bg-white {\n    background-color: var(--color-white);\n  }\n  .bg-white\\/80 {\n    background-color: color-mix(in oklab, var(--color-white) 80%, transparent);\n  }\n  .bg-yellow-500 {\n    background-color: var(--color-yellow-500);\n  }\n  .object-contain {\n    -o-object-fit: contain;\n       object-fit: contain;\n  }\n  .p-0 {\n    padding: calc(var(--spacing) * 0);\n  }\n  .p-1 {\n    padding: calc(var(--spacing) * 1);\n  }\n  .p-2 {\n    padding: calc(var(--spacing) * 2);\n  }\n  .p-3 {\n    padding: calc(var(--spacing) * 3);\n  }\n  .p-4 {\n    padding: calc(var(--spacing) * 4);\n  }\n  .p-6 {\n    padding: calc(var(--spacing) * 6);\n  }\n  .p-\\[5px\\] {\n    padding: 5px;\n  }\n  .px-1 {\n    padding-inline: calc(var(--spacing) * 1);\n  }\n  .px-2 {\n    padding-inline: calc(var(--spacing) * 2);\n  }\n  .px-3 {\n    padding-inline: calc(var(--spacing) * 3);\n  }\n  .px-4 {\n    padding-inline: calc(var(--spacing) * 4);\n  }\n  .px-6 {\n    padding-inline: calc(var(--spacing) * 6);\n  }\n  .py-1 {\n    padding-block: calc(var(--spacing) * 1);\n  }\n  .py-1\\.5 {\n    padding-block: calc(var(--spacing) * 1.5);\n  }\n  .py-2 {\n    padding-block: calc(var(--spacing) * 2);\n  }\n  .py-3 {\n    padding-block: calc(var(--spacing) * 3);\n  }\n  .py-4 {\n    padding-block: calc(var(--spacing) * 4);\n  }\n  .pt-4 {\n    padding-top: calc(var(--spacing) * 4);\n  }\n  .pr-2 {\n    padding-right: calc(var(--spacing) * 2);\n  }\n  .pr-3 {\n    padding-right: calc(var(--spacing) * 3);\n  }\n  .pr-4 {\n    padding-right: calc(var(--spacing) * 4);\n  }\n  .pr-7 {\n    padding-right: calc(var(--spacing) * 7);\n  }\n  .pr-9 {\n    padding-right: calc(var(--spacing) * 9);\n  }\n  .pb-2 {\n    padding-bottom: calc(var(--spacing) * 2);\n  }\n  .pl-2 {\n    padding-left: calc(var(--spacing) * 2);\n  }\n  .pl-3 {\n    padding-left: calc(var(--spacing) * 3);\n  }\n  .pl-8 {\n    padding-left: calc(var(--spacing) * 8);\n  }\n  .text-center {\n    text-align: center;\n  }\n  .text-left {\n    text-align: left;\n  }\n  .text-right {\n    text-align: right;\n  }\n  .align-bottom {\n    vertical-align: bottom;\n  }\n  .align-middle {\n    vertical-align: middle;\n  }\n  .align-top {\n    vertical-align: top;\n  }\n  .text-base {\n    font-size: var(--text-base);\n    line-height: var(--tw-leading, var(--text-base--line-height));\n  }\n  .text-lg {\n    font-size: var(--text-lg);\n    line-height: var(--tw-leading, var(--text-lg--line-height));\n  }\n  .text-sm {\n    font-size: var(--text-sm);\n    line-height: var(--tw-leading, var(--text-sm--line-height));\n  }\n  .text-xs {\n    font-size: var(--text-xs);\n    line-height: var(--tw-leading, var(--text-xs--line-height));\n  }\n  .text-\\[13px\\] {\n    font-size: 13px;\n  }\n  .leading-none {\n    --tw-leading: 1;\n    line-height: 1;\n  }\n  .leading-tight {\n    --tw-leading: var(--leading-tight);\n    line-height: var(--leading-tight);\n  }\n  .font-bold {\n    --tw-font-weight: var(--font-weight-bold);\n    font-weight: var(--font-weight-bold);\n  }\n  .font-medium {\n    --tw-font-weight: var(--font-weight-medium);\n    font-weight: var(--font-weight-medium);\n  }\n  .font-semibold {\n    --tw-font-weight: var(--font-weight-semibold);\n    font-weight: var(--font-weight-semibold);\n  }\n  .whitespace-nowrap {\n    white-space: nowrap;\n  }\n  .text-black {\n    color: var(--color-black);\n  }\n  .text-blue-500 {\n    color: var(--color-blue-500);\n  }\n  .text-blue-700 {\n    color: var(--color-blue-700);\n  }\n  .text-gray-400 {\n    color: var(--color-gray-400);\n  }\n  .text-gray-500 {\n    color: var(--color-gray-500);\n  }\n  .text-gray-600 {\n    color: var(--color-gray-600);\n  }\n  .text-gray-700 {\n    color: var(--color-gray-700);\n  }\n  .text-gray-800 {\n    color: var(--color-gray-800);\n  }\n  .text-gray-900 {\n    color: var(--color-gray-900);\n  }\n  .text-red-600 {\n    color: var(--color-red-600);\n  }\n  .text-white {\n    color: var(--color-white);\n  }\n  .uppercase {\n    text-transform: uppercase;\n  }\n  .\\!italic {\n    font-style: italic !important;\n  }\n  .italic {\n    font-style: italic;\n  }\n  .underline {\n    text-decoration-line: underline;\n  }\n  .placeholder-gray-500 {\n    &::-moz-placeholder {\n      color: var(--color-gray-500);\n    }\n    &::placeholder {\n      color: var(--color-gray-500);\n    }\n  }\n  .opacity-0 {\n    opacity: 0%;\n  }\n  .opacity-25 {\n    opacity: 25%;\n  }\n  .opacity-50 {\n    opacity: 50%;\n  }\n  .opacity-75 {\n    opacity: 75%;\n  }\n  .opacity-100 {\n    opacity: 100%;\n  }\n  .ring {\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .ring-1 {\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .ring-2 {\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow {\n    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-lg {\n    --tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 4px 6px -4px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-md {\n    --tw-shadow: 0 4px 6px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 2px 4px -2px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-sm {\n    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-xs {\n    --tw-shadow: 0 1px 2px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.05));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .ring-black {\n    --tw-ring-color: var(--color-black);\n  }\n  .ring-blue-200 {\n    --tw-ring-color: var(--color-blue-200);\n  }\n  .ring-blue-500 {\n    --tw-ring-color: var(--color-blue-500);\n  }\n  .outline {\n    outline-style: var(--tw-outline-style);\n    outline-width: 1px;\n  }\n  .outline-1 {\n    outline-style: var(--tw-outline-style);\n    outline-width: 1px;\n  }\n  .outline-2 {\n    outline-style: var(--tw-outline-style);\n    outline-width: 2px;\n  }\n  .-outline-offset-1 {\n    outline-offset: calc(1px * -1);\n  }\n  .-outline-offset-2 {\n    outline-offset: calc(2px * -1);\n  }\n  .outline-offset-2 {\n    outline-offset: 2px;\n  }\n  .outline-blue-500 {\n    outline-color: var(--color-blue-500);\n  }\n  .outline-gray-300 {\n    outline-color: var(--color-gray-300);\n  }\n  .filter {\n    filter: var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,);\n  }\n  .backdrop-blur {\n    --tw-backdrop-blur: blur(8px);\n    -webkit-backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n    backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n  }\n  .transition-all {\n    transition-property: all;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-colors {\n    transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-opacity {\n    transition-property: opacity;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .duration-150 {\n    --tw-duration: 150ms;\n    transition-duration: 150ms;\n  }\n  .duration-200 {\n    --tw-duration: 200ms;\n    transition-duration: 200ms;\n  }\n  .duration-300 {\n    --tw-duration: 300ms;\n    transition-duration: 300ms;\n  }\n  .ease-in-out {\n    --tw-ease: var(--ease-in-out);\n    transition-timing-function: var(--ease-in-out);\n  }\n  .outline-none {\n    --tw-outline-style: none;\n    outline-style: none;\n  }\n  .select-none {\n    -webkit-user-select: none;\n    -moz-user-select: none;\n         user-select: none;\n  }\n  .peer-checked\\:opacity-100 {\n    &:is(:where(.peer):checked ~ *) {\n      opacity: 100%;\n    }\n  }\n  .first\\:mt-0 {\n    &:first-child {\n      margin-top: calc(var(--spacing) * 0);\n    }\n  }\n  .checked\\:border-blue-600 {\n    &:checked {\n      border-color: var(--color-blue-600);\n    }\n  }\n  .checked\\:bg-blue-600 {\n    &:checked {\n      background-color: var(--color-blue-600);\n    }\n  }\n  .hover\\:border-\\[\\#1a466b\\] {\n    &:hover {\n      @media (hover: hover) {\n        border-color: #1a466b;\n      }\n    }\n  }\n  .hover\\:border-b-gray-500 {\n    &:hover {\n      @media (hover: hover) {\n        border-bottom-color: var(--color-gray-500);\n      }\n    }\n  }\n  .hover\\:\\!bg-blue-700 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-blue-700) !important;\n      }\n    }\n  }\n  .hover\\:bg-blue-600 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-blue-600);\n      }\n    }\n  }\n  .hover\\:bg-blue-900 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-blue-900);\n      }\n    }\n  }\n  .hover\\:bg-gray-50 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-50);\n      }\n    }\n  }\n  .hover\\:bg-gray-100 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-100);\n      }\n    }\n  }\n  .hover\\:bg-gray-200 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-200);\n      }\n    }\n  }\n  .hover\\:bg-gray-400 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-400);\n      }\n    }\n  }\n  .hover\\:bg-transparent {\n    &:hover {\n      @media (hover: hover) {\n        background-color: transparent;\n      }\n    }\n  }\n  .hover\\:text-blue-600 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-blue-600);\n      }\n    }\n  }\n  .hover\\:text-gray-600 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-gray-600);\n      }\n    }\n  }\n  .hover\\:text-gray-700 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-gray-700);\n      }\n    }\n  }\n  .hover\\:text-white {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-white);\n      }\n    }\n  }\n  .hover\\:ring {\n    &:hover {\n      @media (hover: hover) {\n        --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n        box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n      }\n    }\n  }\n  .hover\\:ring-0 {\n    &:hover {\n      @media (hover: hover) {\n        --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n        box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n      }\n    }\n  }\n  .hover\\:shadow-md {\n    &:hover {\n      @media (hover: hover) {\n        --tw-shadow: 0 4px 6px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 2px 4px -2px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n        box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n      }\n    }\n  }\n  .hover\\:ring-\\[\\#1a466b\\] {\n    &:hover {\n      @media (hover: hover) {\n        --tw-ring-color: #1a466b;\n      }\n    }\n  }\n  .hover\\:ring-transparent {\n    &:hover {\n      @media (hover: hover) {\n        --tw-ring-color: transparent;\n      }\n    }\n  }\n  .focus\\:border-blue-500 {\n    &:focus {\n      border-color: var(--color-blue-500);\n    }\n  }\n  .focus\\:border-transparent {\n    &:focus {\n      border-color: transparent;\n    }\n  }\n  .focus\\:ring-1 {\n    &:focus {\n      --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .focus\\:ring-2 {\n    &:focus {\n      --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .focus\\:ring-blue-500 {\n    &:focus {\n      --tw-ring-color: var(--color-blue-500);\n    }\n  }\n  .focus\\:outline-none {\n    &:focus {\n      --tw-outline-style: none;\n      outline-style: none;\n    }\n  }\n  .active\\:cursor-grabbing {\n    &:active {\n      cursor: grabbing;\n    }\n  }\n  .disabled\\:cursor-not-allowed {\n    &:disabled {\n      cursor: not-allowed;\n    }\n  }\n  .disabled\\:bg-gray-300 {\n    &:disabled {\n      background-color: var(--color-gray-300);\n    }\n  }\n  .disabled\\:opacity-40 {\n    &:disabled {\n      opacity: 40%;\n    }\n  }\n  .disabled\\:opacity-50 {\n    &:disabled {\n      opacity: 50%;\n    }\n  }\n  .md\\:static {\n    @media (width >= 48rem) {\n      position: static;\n    }\n  }\n  .md\\:flex {\n    @media (width >= 48rem) {\n      display: flex;\n    }\n  }\n  .md\\:hidden {\n    @media (width >= 48rem) {\n      display: none;\n    }\n  }\n  .md\\:h-auto {\n    @media (width >= 48rem) {\n      height: auto;\n    }\n  }\n  .md\\:h-full {\n    @media (width >= 48rem) {\n      height: 100%;\n    }\n  }\n  .md\\:max-h-\\[80vh\\] {\n    @media (width >= 48rem) {\n      max-height: 80vh;\n    }\n  }\n  .md\\:w-\\[28rem\\] {\n    @media (width >= 48rem) {\n      width: 28rem;\n    }\n  }\n  .md\\:w-\\[275px\\] {\n    @media (width >= 48rem) {\n      width: 275px;\n    }\n  }\n  .md\\:max-w-\\[90vw\\] {\n    @media (width >= 48rem) {\n      max-width: 90vw;\n    }\n  }\n  .md\\:min-w-\\[275px\\] {\n    @media (width >= 48rem) {\n      min-width: 275px;\n    }\n  }\n  .md\\:flex-none {\n    @media (width >= 48rem) {\n      flex: none;\n    }\n  }\n  .md\\:flex-row {\n    @media (width >= 48rem) {\n      flex-direction: row;\n    }\n  }\n  .md\\:items-center {\n    @media (width >= 48rem) {\n      align-items: center;\n    }\n  }\n  .md\\:justify-center {\n    @media (width >= 48rem) {\n      justify-content: center;\n    }\n  }\n  .md\\:rounded-lg {\n    @media (width >= 48rem) {\n      border-radius: var(--radius-lg);\n    }\n  }\n  .md\\:border {\n    @media (width >= 48rem) {\n      border-style: var(--tw-border-style);\n      border-width: 1px;\n    }\n  }\n  .md\\:border-t-0 {\n    @media (width >= 48rem) {\n      border-top-style: var(--tw-border-style);\n      border-top-width: 0px;\n    }\n  }\n  .md\\:border-r {\n    @media (width >= 48rem) {\n      border-right-style: var(--tw-border-style);\n      border-right-width: 1px;\n    }\n  }\n  .md\\:border-l {\n    @media (width >= 48rem) {\n      border-left-style: var(--tw-border-style);\n      border-left-width: 1px;\n    }\n  }\n  .md\\:border-gray-200 {\n    @media (width >= 48rem) {\n      border-color: var(--color-gray-200);\n    }\n  }\n  .md\\:shadow-lg {\n    @media (width >= 48rem) {\n      --tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 4px 6px -4px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .\\@max-\\[600px\\]\\:\\!top-auto {\n    @container (width < 600px) {\n      top: auto !important;\n    }\n  }\n  .\\@max-\\[600px\\]\\:\\!right-0 {\n    @container (width < 600px) {\n      right: calc(var(--spacing) * 0) !important;\n    }\n  }\n  .\\@max-\\[600px\\]\\:\\!bottom-0 {\n    @container (width < 600px) {\n      bottom: calc(var(--spacing) * 0) !important;\n    }\n  }\n  .\\@max-\\[600px\\]\\:\\!left-0 {\n    @container (width < 600px) {\n      left: calc(var(--spacing) * 0) !important;\n    }\n  }\n  .\\@min-\\[400px\\]\\:block {\n    @container (width >= 400px) {\n      display: block;\n    }\n  }\n  .\\@min-\\[400px\\]\\:flex {\n    @container (width >= 400px) {\n      display: flex;\n    }\n  }\n  .\\@min-\\[400px\\]\\:hidden {\n    @container (width >= 400px) {\n      display: none;\n    }\n  }\n  .\\@min-\\[500px\\]\\:block {\n    @container (width >= 500px) {\n      display: block;\n    }\n  }\n  .\\@min-\\[500px\\]\\:hidden {\n    @container (width >= 500px) {\n      display: none;\n    }\n  }\n  .\\@min-\\[600px\\]\\:block {\n    @container (width >= 600px) {\n      display: block;\n    }\n  }\n  .\\@min-\\[600px\\]\\:flex {\n    @container (width >= 600px) {\n      display: flex;\n    }\n  }\n  .\\@min-\\[600px\\]\\:hidden {\n    @container (width >= 600px) {\n      display: none;\n    }\n  }\n  .\\@min-\\[800px\\]\\:block {\n    @container (width >= 800px) {\n      display: block;\n    }\n  }\n  .\\@min-\\[800px\\]\\:hidden {\n    @container (width >= 800px) {\n      display: none;\n    }\n  }\n  .dark\\:bg-gray-700 {\n    @media (prefers-color-scheme: dark) {\n      background-color: var(--color-gray-700);\n    }\n  }\n  .dark\\:text-gray-200 {\n    @media (prefers-color-scheme: dark) {\n      color: var(--color-gray-200);\n    }\n  }\n  .dark\\:text-gray-300 {\n    @media (prefers-color-scheme: dark) {\n      color: var(--color-gray-300);\n    }\n  }\n}\n@import url(\'https://fonts.googleapis.com/css2?family=Open Sans:wght@400;600&amp;display=swap\');\n:host {\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-translate-z: 0;\n  --tw-rotate-x: rotateX(0);\n  --tw-rotate-y: rotateY(0);\n  --tw-rotate-z: rotateZ(0);\n  --tw-skew-x: skewX(0);\n  --tw-skew-y: skewY(0);\n  --tw-border-style: solid;\n  --tw-gradient-from: #0000;\n  --tw-gradient-via: #0000;\n  --tw-gradient-to: #0000;\n  --tw-gradient-from-position: 0%;\n  --tw-gradient-via-position: 50%;\n  --tw-gradient-to-position: 100%;\n  --tw-shadow: 0 0 #0000;\n  --tw-inset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-inset-ring-shadow: 0 0 #0000;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-outline-style: solid;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n}\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n@keyframes ping {\n  75%, 100% {\n    transform: scale(2);\n    opacity: 0;\n  }\n}\n@keyframes pulse {\n  50% {\n    opacity: 0.5;\n  }\n}\n@keyframes bounce {\n  0%, 100% {\n    transform: translateY(-25%);\n    animation-timing-function: cubic-bezier(0.8, 0, 1, 1);\n  }\n  50% {\n    transform: none;\n    animation-timing-function: cubic-bezier(0, 0, 0.2, 1);\n  }\n}\n@property --tw-translate-x {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-translate-y {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-translate-z {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-rotate-x {\n  syntax: "*";\n  inherits: false;\n  initial-value: rotateX(0);\n}\n@property --tw-rotate-y {\n  syntax: "*";\n  inherits: false;\n  initial-value: rotateY(0);\n}\n@property --tw-rotate-z {\n  syntax: "*";\n  inherits: false;\n  initial-value: rotateZ(0);\n}\n@property --tw-skew-x {\n  syntax: "*";\n  inherits: false;\n  initial-value: skewX(0);\n}\n@property --tw-skew-y {\n  syntax: "*";\n  inherits: false;\n  initial-value: skewY(0);\n}\n@property --tw-pan-x {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-pan-y {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-pinch-zoom {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-space-y-reverse {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-space-x-reverse {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-divide-y-reverse {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-border-style {\n  syntax: "*";\n  inherits: false;\n  initial-value: solid;\n}\n@property --tw-leading {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-font-weight {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-shadow-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-inset-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-inset-shadow-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ring-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ring-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-inset-ring-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-inset-ring-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-ring-inset {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ring-offset-width {\n  syntax: "<length>";\n  inherits: false;\n  initial-value: 0px;\n}\n@property --tw-ring-offset-color {\n  syntax: "*";\n  inherits: false;\n  initial-value: #fff;\n}\n@property --tw-ring-offset-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-outline-style {\n  syntax: "*";\n  inherits: false;\n  initial-value: solid;\n}\n@property --tw-blur {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-brightness {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-contrast {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-grayscale {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-hue-rotate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-invert {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-opacity {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-saturate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-sepia {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-blur {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-brightness {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-contrast {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-grayscale {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-hue-rotate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-invert {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-opacity {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-saturate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-sepia {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-duration {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ease {\n  syntax: "*";\n  inherits: false;\n}\r\n',he=0,pe=[],ge=k,me=ge.__b,fe=ge.__r,ve=ge.diffed,ye=ge.__c,be=ge.unmount,we=ge.__;function xe(e,t){ge.__h&&ge.__h(se,e,he||t),he=0;var n=se.__H||(se.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function ke(e){return he=1,function(e,t,n){var o=xe(le++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):Ne(void 0,t),function(e){var t=o.__N?o.__N[0]:o.__[0],n=o.t(t,e);t!==n&&(o.__N=[n,o.__[1]],o.__c.setState({}))}],o.__c=se,!se.__f)){var i=function(e,t,n){if(!o.__c.__H)return!0;var i=o.__c.__H.__.filter((function(e){return!!e.__c}));if(i.every((function(e){return!e.__N})))return!r||r.call(this,e,t,n);var a=o.__c.props!==e;return i.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(a=!0)}})),r&&r.call(this,e,t,n)||a};se.__f=!0;var r=se.shouldComponentUpdate,a=se.componentWillUpdate;se.componentWillUpdate=function(e,t,n){if(this.__e){var o=r;r=void 0,i(e,t,n),r=o}a&&a.call(this,e,t,n)},se.shouldComponentUpdate=i}return o.__N||o.__}(Ne,e)}function Ce(e,t){var n=xe(le++,3);!ge.__s&&_e(n.__H,t)&&(n.__=e,n.u=t,se.__H.__h.push(n))}function Se(e,t){var n=xe(le++,4);!ge.__s&&_e(n.__H,t)&&(n.__=e,n.u=t,se.__h.push(n))}function Me(e){return he=5,Pe((function(){return{current:e}}),[])}function Pe(e,t){var n=xe(le++,7);return _e(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Ie(e,t){return he=8,Pe((function(){return e}),t)}function Te(){for(var e;e=pe.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Re),e.__H.__h.forEach(Ee),e.__H.__h=[]}catch(t){e.__H.__h=[],ge.__e(t,e.__v)}}ge.__b=function(e){se=null,me&&me(e)},ge.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),we&&we(e,t)},ge.__r=function(e){fe&&fe(e),le=0;var t=(se=e.__c).__H;t&&(ce===se?(t.__h=[],se.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0}))):(t.__h.forEach(Re),t.__h.forEach(Ee),t.__h=[],le=0)),ce=se},ge.diffed=function(e){ve&&ve(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==pe.push(t)&&de===ge.requestAnimationFrame||((de=ge.requestAnimationFrame)||ze)(Te)),t.__H.__.forEach((function(e){e.u&&(e.__H=e.u),e.u=void 0}))),ce=se=null},ge.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Re),e.__h=e.__h.filter((function(e){return!e.__||Ee(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],ge.__e(n,e.__v)}})),ye&&ye(e,t)},ge.unmount=function(e){be&&be(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{Re(e)}catch(e){t=e}})),n.__H=void 0,t&&ge.__e(t,n.__v))};var Ae="function"==typeof requestAnimationFrame;function ze(e){var t,n=function(){clearTimeout(o),Ae&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,100);Ae&&(t=requestAnimationFrame(n))}function Re(e){var t=se,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),se=t}function Ee(e){var t=se;e.__c=e.__(),se=t}function _e(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function Ne(e,t){return"function"==typeof t?t(e):t}var Le=0;function De(e,t,n,o,i,r){t||(t={});var a,l,s=t;if("ref"in s)for(l in s={},t)"ref"==l?a=t[l]:s[l]=t[l];var c={type:e,props:s,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Le,__i:-1,__u:0,__source:i,__self:r};if("function"==typeof e&&(a=e.defaultProps))for(l in a)void 0===s[l]&&(s[l]=a[l]);return k.vnode&&k.vnode(c),c}var Oe=(e=>(e[e.Degree0=0]="Degree0",e[e.Degree90=1]="Degree90",e[e.Degree180=2]="Degree180",e[e.Degree270=3]="Degree270",e))(Oe||{});function Be(e){return{x:Math.floor(e.x),y:Math.floor(e.y)}}function He(e){return{width:Math.ceil(e.width),height:Math.ceil(e.height)}}function je(e){return{origin:Be(e.origin),size:He(e.size)}}function $e(e){const{width:t,height:n}=e;return{width:n,height:t}}function Fe(e,t,n){return{width:(e=t%2==0?e:$e(e)).width*n,height:e.height*n}}function Ue(e){const t=[e.p1.x,e.p2.x,e.p3.x,e.p4.x],n=[e.p1.y,e.p2.y,e.p3.y,e.p4.y];return{origin:{x:Math.min(...t),y:Math.min(...n)},size:{width:Math.max(...t)-Math.min(...t),height:Math.max(...n)-Math.min(...n)}}}function We(e){return{p1:{x:e.origin.x,y:e.origin.y},p2:{x:e.origin.x+e.size.width,y:e.origin.y},p3:{x:e.origin.x+e.size.width,y:e.origin.y+e.size.height},p4:{x:e.origin.x,y:e.origin.y+e.size.height}}}function qe(e,t,n){let o=t.x,i=t.y;switch(n){case 0:o=t.x,i=t.y;break;case 1:o=e.height-t.y,i=t.x;break;case 2:o=e.width-t.x,i=e.height-t.y;break;case 3:o=t.y,i=e.width-t.x}return{x:o,y:i}}function Ge(e,t){return{x:e.x*t,y:e.y*t}}function Ze(e){if(0===e.length)return{origin:{x:0,y:0},size:{width:0,height:0}};const t=e.map((e=>e.x)),n=e.map((e=>e.y)),o=Math.min(...t),i=Math.min(...n);return{origin:{x:o,y:i},size:{width:Math.max(...t)-o,height:Math.max(...n)-i}}}function Ve(e,t){return{origin:{x:e.origin.x-t,y:e.origin.y-t},size:{width:e.size.width+2*t,height:e.size.height+2*t}}}function Ye(e,t,n){let o=t.origin.x,i=t.origin.y,r=t.size;switch(n){case 0:break;case 1:o=e.height-t.origin.y-t.size.height,i=t.origin.x,r=$e(t.size);break;case 2:o=e.width-t.origin.x-t.size.width,i=e.height-t.origin.y-t.size.height;break;case 3:o=t.origin.y,i=e.width-t.origin.x-t.size.width,r=$e(t.size)}return{origin:{x:o,y:i},size:{width:r.width,height:r.height}}}function Xe(e,t){return{origin:{x:e.origin.x*t,y:e.origin.y*t},size:{width:e.size.width*t,height:e.size.height*t}}}function Ke(e,t,n,o){return Xe(Ye(e,t,n),o)}function Qe(e){if(0===e.length)return null;let t=e[0].origin.x,n=e[0].origin.y,o=e[0].origin.x+e[0].size.width,i=e[0].origin.y+e[0].size.height;for(const r of e)t=Math.min(t,r.origin.x),n=Math.min(n,r.origin.y),o=Math.max(o,r.origin.x+r.size.width),i=Math.max(i,r.origin.y+r.size.height);return{origin:{x:t,y:n},size:{width:o-t,height:i-n}}}function Je(e,t,n,o){const i=e.origin.x,r=e.origin.y,a=e.size.width,l=e.size.height,s=n/a,c=o/l,d=n/l,u=o/a;switch(t){case 0:return{a:s,b:0,c:0,d:c,e:-s*i,f:-c*r};case 3:return{a:0,b:-u,c:d,d:0,e:-d*r,f:u*(i+a)};case 2:return{a:-s,b:0,c:0,d:-c,e:s*(i+a),f:c*(r+l)};case 1:return{a:0,b:u,c:-d,d:0,e:d*(r+l),f:-u*i}}}class et{isEnabled(){return!1}debug(){}info(){}warn(){}error(){}perf(){}}class tt{isEnabled(){return!0}debug(e,t,...n){console.debug(`${e}.${t}`,...n)}info(e,t,...n){console.info(`${e}.${t}`,...n)}warn(e,t,...n){console.warn(`${e}.${t}`,...n)}error(e,t,...n){console.error(`${e}.${t}`,...n)}perf(e,t,n,o,...i){console.info(`${e}.${t}.${n}.${o}`,...i)}}class nt{constructor(e,t){this.logger=e,this.level=t}isEnabled(e){return this.level<={debug:0,info:1,warn:2,error:3}[e]}debug(e,t,...n){this.level<=0&&this.logger.debug(e,t,...n)}info(e,t,...n){this.level<=1&&this.logger.info(e,t,...n)}warn(e,t,...n){this.level<=2&&this.logger.warn(e,t,...n)}error(e,t,...n){this.level<=3&&this.logger.error(e,t,...n)}perf(e,t,n,o,...i){this.logger.perf(e,t,n,o,...i)}}class ot{constructor(){}isEnabled(){return!1}debug(e,t,...n){}info(e,t,...n){}warn(e,t,...n){}error(e,t,...n){}perf(e,t,n,o,i,...r){switch(o){case"Begin":globalThis.performance.mark(`${e}.${t}.${n}.${o}.${i}`,{detail:r});break;case"End":globalThis.performance.mark(`${e}.${t}.${n}.${o}.${i}`,{detail:r}),globalThis.performance.measure(`${e}.${t}.${n}.Measure.${i}`,`${e}.${t}.${n}.Begin.${i}`,`${e}.${t}.${n}.End.${i}`)}}}class it{constructor(e){this.loggers=e}isEnabled(e){return this.loggers.some((t=>t.isEnabled(e)))}debug(e,t,...n){for(const o of this.loggers)o.debug(e,t,...n)}info(e,t,...n){for(const o of this.loggers)o.info(e,t,...n)}warn(e,t,...n){for(const o of this.loggers)o.warn(e,t,...n)}error(e,t,...n){for(const o of this.loggers)o.error(e,t,...n)}perf(e,t,n,o,...i){for(const r of this.loggers)r.perf(e,t,n,o,...i)}}class rt extends Error{constructor(e){super(`Task aborted: ${JSON.stringify(e)}`),this.name="TaskAbortedError",this.reason=e}}class at extends Error{constructor(e){super(`Task rejected: ${JSON.stringify(e)}`),this.name="TaskRejectedError",this.reason=e}}class lt{constructor(){this.state={stage:0},this.resolvedCallbacks=[],this.rejectedCallbacks=[],this._promise=null,this.progressCbs=[]}toPromise(){return this._promise||(this._promise=new Promise(((e,t)=>{this.wait((t=>e(t)),(e=>{"abort"===e.type?t(new rt(e.reason)):t(new at(e.reason))}))}))),this._promise}wait(e,t){switch(this.state.stage){case 0:this.resolvedCallbacks.push(e),this.rejectedCallbacks.push(t);break;case 1:e(this.state.result);break;case 2:t({type:"reject",reason:this.state.reason});break;case 3:t({type:"abort",reason:this.state.reason})}}resolve(e){if(0===this.state.stage){this.state={stage:1,result:e};for(const t of this.resolvedCallbacks)try{t(e)}catch(e){}this.resolvedCallbacks=[],this.rejectedCallbacks=[]}}reject(e){if(0===this.state.stage){this.state={stage:2,reason:e};for(const t of this.rejectedCallbacks)try{t({type:"reject",reason:e})}catch(e){}this.resolvedCallbacks=[],this.rejectedCallbacks=[]}}abort(e){if(0===this.state.stage){this.state={stage:3,reason:e};for(const t of this.rejectedCallbacks)try{t({type:"abort",reason:e})}catch(e){}this.resolvedCallbacks=[],this.rejectedCallbacks=[]}}fail(e){"abort"===e.type?this.abort(e.reason):this.reject(e.reason)}onProgress(e){this.progressCbs.push(e)}progress(e){for(const t of this.progressCbs)t(e)}static all(e){const t=new lt;if(0===e.length)return t.resolve([]),t;const n=new Array(e.length);let o=0,i=!1;return e.forEach(((r,a)=>{r.wait((r=>{i||(n[a]=r,o++,o===e.length&&(i=!0,t.resolve(n)))}),(e=>{i||(i=!0,"abort"===e.type?t.abort(e.reason):t.reject(e.reason))}))})),t}static allSettled(e){const t=new lt;if(0===e.length)return t.resolve([]),t;const n=new Array(e.length);let o=0;return e.forEach(((i,r)=>{i.wait((i=>{n[r]={status:"resolved",value:i},o++,o===e.length&&t.resolve(n)}),(i=>{n[r]={status:"abort"===i.type?"aborted":"rejected",reason:i.reason},o++,o===e.length&&t.resolve(n)}))})),t}static race(e){const t=new lt;if(0===e.length)return t.reject("No tasks provided"),t;let n=!1;return e.forEach((e=>{e.wait((e=>{n||(n=!0,t.resolve(e))}),(e=>{n||(n=!0,"abort"===e.type?t.abort(e.reason):t.reject(e.reason))}))})),t}static withProgress(e,t){const n=lt.all(e);if(t){let n=0;e.forEach((o=>{o.wait((()=>{n++,t(n,e.length)}),(()=>{n++,t(n,e.length)}))}))}return n}}const st=Object.freeze(["","","","\ufeff","",""]),ct=new RegExp(`[${st.join("")}]`,"g");function dt(e){return e.replace(ct,"")}var ut=(e=>(e[e.Unknown=0]="Unknown",e[e.XYZ=1]="XYZ",e[e.FitPage=2]="FitPage",e[e.FitHorizontal=3]="FitHorizontal",e[e.FitVertical=4]="FitVertical",e[e.FitRectangle=5]="FitRectangle",e[e.FitBoundingBox=6]="FitBoundingBox",e[e.FitBoundingBoxHorizontal=7]="FitBoundingBoxHorizontal",e[e.FitBoundingBoxVertical=8]="FitBoundingBoxVertical",e))(ut||{}),ht=(e=>(e[e.NotSet=0]="NotSet",e[e.True=1]="True",e[e.False=2]="False",e[e.Unknown=3]="Unknown",e))(ht||{}),pt=(e=>(e[e.Unknown=-1]="Unknown",e[e.Courier=0]="Courier",e[e.Courier_Bold=1]="Courier_Bold",e[e.Courier_BoldOblique=2]="Courier_BoldOblique",e[e.Courier_Oblique=3]="Courier_Oblique",e[e.Helvetica=4]="Helvetica",e[e.Helvetica_Bold=5]="Helvetica_Bold",e[e.Helvetica_BoldOblique=6]="Helvetica_BoldOblique",e[e.Helvetica_Oblique=7]="Helvetica_Oblique",e[e.Times_Roman=8]="Times_Roman",e[e.Times_Bold=9]="Times_Bold",e[e.Times_BoldItalic=10]="Times_BoldItalic",e[e.Times_Italic=11]="Times_Italic",e[e.Symbol=12]="Symbol",e[e.ZapfDingbats=13]="ZapfDingbats",e))(pt||{}),gt=(e=>(e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right",e))(gt||{}),mt=(e=>(e[e.Top=0]="Top",e[e.Middle=1]="Middle",e[e.Bottom=2]="Bottom",e))(mt||{}),ft=(e=>(e[e.Normal=0]="Normal",e[e.Multiply=1]="Multiply",e[e.Screen=2]="Screen",e[e.Overlay=3]="Overlay",e[e.Darken=4]="Darken",e[e.Lighten=5]="Lighten",e[e.ColorDodge=6]="ColorDodge",e[e.ColorBurn=7]="ColorBurn",e[e.HardLight=8]="HardLight",e[e.SoftLight=9]="SoftLight",e[e.Difference=10]="Difference",e[e.Exclusion=11]="Exclusion",e[e.Hue=12]="Hue",e[e.Saturation=13]="Saturation",e[e.Color=14]="Color",e[e.Luminosity=15]="Luminosity",e))(ft||{}),vt=(e=>(e[e.Contain=0]="Contain",e[e.Cover=1]="Cover",e[e.Stretch=2]="Stretch",e))(vt||{}),yt=(e=>(e[e.Unsupported=0]="Unsupported",e[e.Goto=1]="Goto",e[e.RemoteGoto=2]="RemoteGoto",e[e.URI=3]="URI",e[e.LaunchAppOrOpenFile=4]="LaunchAppOrOpenFile",e))(yt||{}),bt=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.TEXT=1]="TEXT",e[e.LINK=2]="LINK",e[e.FREETEXT=3]="FREETEXT",e[e.LINE=4]="LINE",e[e.SQUARE=5]="SQUARE",e[e.CIRCLE=6]="CIRCLE",e[e.POLYGON=7]="POLYGON",e[e.POLYLINE=8]="POLYLINE",e[e.HIGHLIGHT=9]="HIGHLIGHT",e[e.UNDERLINE=10]="UNDERLINE",e[e.SQUIGGLY=11]="SQUIGGLY",e[e.STRIKEOUT=12]="STRIKEOUT",e[e.STAMP=13]="STAMP",e[e.CARET=14]="CARET",e[e.INK=15]="INK",e[e.POPUP=16]="POPUP",e[e.FILEATTACHMENT=17]="FILEATTACHMENT",e[e.SOUND=18]="SOUND",e[e.MOVIE=19]="MOVIE",e[e.WIDGET=20]="WIDGET",e[e.SCREEN=21]="SCREEN",e[e.PRINTERMARK=22]="PRINTERMARK",e[e.TRAPNET=23]="TRAPNET",e[e.WATERMARK=24]="WATERMARK",e[e.THREED=25]="THREED",e[e.RICHMEDIA=26]="RICHMEDIA",e[e.XFAWIDGET=27]="XFAWIDGET",e[e.REDACT=28]="REDACT",e))(bt||{}),wt=(e=>(e[e.Normal=0]="Normal",e[e.Rollover=1]="Rollover",e[e.Down=2]="Down",e))(wt||{}),xt=(e=>(e[e.Unknown=-1]="Unknown",e[e.Comment=0]="Comment",e[e.Key=1]="Key",e[e.Note=2]="Note",e[e.Help=3]="Help",e[e.NewParagraph=4]="NewParagraph",e[e.Paragraph=5]="Paragraph",e[e.Insert=6]="Insert",e[e.Graph=7]="Graph",e[e.PushPin=8]="PushPin",e[e.Paperclip=9]="Paperclip",e[e.Tag=10]="Tag",e[e.Speaker=11]="Speaker",e[e.Mic=12]="Mic",e[e.Approved=13]="Approved",e[e.Experimental=14]="Experimental",e[e.NotApproved=15]="NotApproved",e[e.AsIs=16]="AsIs",e[e.Expired=17]="Expired",e[e.NotForPublicRelease=18]="NotForPublicRelease",e[e.Confidential=19]="Confidential",e[e.Final=20]="Final",e[e.Sold=21]="Sold",e[e.Departmental=22]="Departmental",e[e.ForComment=23]="ForComment",e[e.TopSecret=24]="TopSecret",e[e.Draft=25]="Draft",e[e.ForPublicRelease=26]="ForPublicRelease",e))(xt||{}),kt=(e=>(e[e.None=0]="None",e[e.Square=1]="Square",e[e.Circle=2]="Circle",e[e.Diamond=3]="Diamond",e[e.OpenArrow=4]="OpenArrow",e[e.ClosedArrow=5]="ClosedArrow",e[e.Butt=6]="Butt",e[e.ROpenArrow=7]="ROpenArrow",e[e.RClosedArrow=8]="RClosedArrow",e[e.Slash=9]="Slash",e[e.Unknown=10]="Unknown",e))(kt||{}),Ct=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.PUSHBUTTON=1]="PUSHBUTTON",e[e.CHECKBOX=2]="CHECKBOX",e[e.RADIOBUTTON=3]="RADIOBUTTON",e[e.COMBOBOX=4]="COMBOBOX",e[e.LISTBOX=5]="LISTBOX",e[e.TEXTFIELD=6]="TEXTFIELD",e[e.SIGNATURE=7]="SIGNATURE",e[e.XFA=8]="XFA",e[e.XFA_CHECKBOX=9]="XFA_CHECKBOX",e[e.XFA_COMBOBOX=10]="XFA_COMBOBOX",e[e.XFA_IMAGEFIELD=11]="XFA_IMAGEFIELD",e[e.XFA_LISTBOX=12]="XFA_LISTBOX",e[e.XFA_PUSHBUTTON=13]="XFA_PUSHBUTTON",e[e.XFA_SIGNATURE=14]="XFA_SIGNATURE",e[e.XFA_TEXTFIELD=15]="XFA_TEXTFIELD",e))(Ct||{}),St=(e=>(e[e.Color=0]="Color",e[e.InteriorColor=1]="InteriorColor",e))(St||{}),Mt=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.SOLID=1]="SOLID",e[e.DASHED=2]="DASHED",e[e.BEVELED=3]="BEVELED",e[e.INSET=4]="INSET",e[e.UNDERLINE=5]="UNDERLINE",e[e.CLOUDY=6]="CLOUDY",e))(Mt||{}),Pt=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.TEXT=1]="TEXT",e[e.PATH=2]="PATH",e[e.IMAGE=3]="IMAGE",e[e.SHADING=4]="SHADING",e[e.FORM=5]="FORM",e))(Pt||{});const It=Object.freeze({1:"invisible",2:"hidden",4:"print",8:"noZoom",16:"noRotate",32:"noView",64:"readOnly",128:"locked",256:"toggleNoView"}),Tt=Object.entries(It).reduce(((e,[t,n])=>(e[n]=Number(t),e)),{});function At(e){return Object.keys(It).filter((t=>!!(e&t))).map((e=>It[e]))}function zt(e){return e.reduce(((e,t)=>e|Tt[t]),0)}var Rt=(e=>(e[e.None=0]="None",e[e.MatchCase=1]="MatchCase",e[e.MatchWholeWord=2]="MatchWholeWord",e[e.MatchConsecutive=4]="MatchConsecutive",e))(Rt||{}),Et=(e=>(e[e.Display=0]="Display",e[e.Print=1]="Print",e))(Et||{}),_t=(e=>(e[e.Ok=0]="Ok",e[e.Unknown=1]="Unknown",e[e.NotFound=2]="NotFound",e[e.WrongFormat=3]="WrongFormat",e[e.Password=4]="Password",e[e.Security=5]="Security",e[e.PageError=6]="PageError",e[e.XFALoad=7]="XFALoad",e[e.XFALayout=8]="XFALayout",e[e.Cancelled=9]="Cancelled",e[e.Initialization=10]="Initialization",e[e.NotReady=11]="NotReady",e[e.NotSupport=12]="NotSupport",e[e.LoadDoc=13]="LoadDoc",e[e.DocNotOpen=14]="DocNotOpen",e[e.CantCloseDoc=15]="CantCloseDoc",e[e.CantCreateNewDoc=16]="CantCreateNewDoc",e[e.CantImportPages=17]="CantImportPages",e[e.CantCreateAnnot=18]="CantCreateAnnot",e[e.CantSetAnnotRect=19]="CantSetAnnotRect",e[e.CantSetAnnotContent=20]="CantSetAnnotContent",e[e.CantRemoveInkList=21]="CantRemoveInkList",e[e.CantAddInkStoke=22]="CantAddInkStoke",e[e.CantReadAttachmentSize=23]="CantReadAttachmentSize",e[e.CantReadAttachmentContent=24]="CantReadAttachmentContent",e[e.CantFocusAnnot=25]="CantFocusAnnot",e[e.CantSelectText=26]="CantSelectText",e[e.CantSelectOption=27]="CantSelectOption",e[e.CantCheckField=28]="CantCheckField",e[e.CantSetAnnotString=29]="CantSetAnnotString",e))(_t||{});class Nt{static create(){return new lt}static resolve(e){const t=new lt;return t.resolve(e),t}static reject(e){const t=new lt;return t.reject(e),t}static abort(e){const t=new lt;return t.reject(e),t}}function Lt(e){const t=e=>(e=>Math.max(0,Math.min(255,e)))(e).toString(16).padStart(2,"0");return`#${t(e.red)}${t(e.green)}${t(e.blue)}`}function Dt(e){/^#?[0-9a-f]{3}$/i.test(e)&&(e=e.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,"#$1$1$2$2$3$3").toLowerCase());const[,t,n,o]=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e)??(()=>{throw new Error(`Invalid hex colour: "${e}"`)})();return{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(o,16)}}function Ot(e){return(e=>Math.max(0,Math.min(255,e)))(e)/255}function Bt(e){return((e,t=255)=>Math.max(0,Math.min(t,e)))(Math.round(255*e))}function Ht(e){if(!(null==e?void 0:e.startsWith("D:"))||e.length<16)return;const t=+e.slice(2,6),n=+e.slice(6,8)-1,o=+e.slice(8,10),i=+e.slice(10,12),r=+e.slice(12,14),a=+e.slice(14,16);return new Date(Date.UTC(t,n,o,i,r,a))}function jt(e=new Date){const t=(e,t=2)=>e.toString().padStart(t,"0");return`D:${e.getUTCFullYear()}${t(e.getUTCMonth()+1)}${t(e.getUTCDate())}${t(e.getUTCHours())}${t(e.getUTCMinutes())}${t(e.getUTCSeconds())}`}const $t=Object.freeze([{id:gt.Left,label:"Left",css:"left"},{id:gt.Center,label:"Center",css:"center"},{id:gt.Right,label:"Right",css:"right"}]),Ft=$t.reduce(((e,t)=>(e[t.id]=t,e)),{});function Ut(e){return function(e){return Ft[e]??Ft[gt.Left]}(e).css}$t.reduce(((e,t)=>(e[t.css]=t.id,e)),{}),$t.map((e=>({value:e.id,label:e.label})));var Wt=(e=>(e.Courier="Courier",e.Helvetica="Helvetica",e.Times="Times",e.Symbol="Symbol",e.ZapfDingbats="ZapfDingbats",e.Unknown="Unknown",e))(Wt||{});const qt=pt.Helvetica,Gt={id:pt.Helvetica,family:"Helvetica",bold:!1,italic:!1,label:"Helvetica",css:"Helvetica, Arial, sans-serif"},Zt=Object.freeze([{id:pt.Courier,family:"Courier",bold:!1,italic:!1,label:"Courier",css:"Courier, monospace"},{id:pt.Courier_Bold,family:"Courier",bold:!0,italic:!1,label:"Courier Bold",css:'"Courier-Bold", Courier, monospace'},{id:pt.Courier_BoldOblique,family:"Courier",bold:!0,italic:!0,label:"Courier Bold Oblique",css:'"Courier-BoldOblique", Courier, monospace'},{id:pt.Courier_Oblique,family:"Courier",bold:!1,italic:!0,label:"Courier Oblique",css:'"Courier-Oblique", Courier, monospace'},Gt,{id:pt.Helvetica_Bold,family:"Helvetica",bold:!0,italic:!1,label:"Helvetica Bold",css:'"Helvetica-Bold", Arial, sans-serif'},{id:pt.Helvetica_BoldOblique,family:"Helvetica",bold:!0,italic:!0,label:"Helvetica Bold Oblique",css:'"Helvetica-BoldOblique", Arial, sans-serif'},{id:pt.Helvetica_Oblique,family:"Helvetica",bold:!1,italic:!0,label:"Helvetica Oblique",css:'"Helvetica-Oblique", Arial, sans-serif'},{id:pt.Times_Roman,family:"Times",bold:!1,italic:!1,label:"Times Roman",css:'"Times New Roman", Times, serif'},{id:pt.Times_Bold,family:"Times",bold:!0,italic:!1,label:"Times Bold",css:'"Times New Roman Bold", Times, serif'},{id:pt.Times_BoldItalic,family:"Times",bold:!0,italic:!0,label:"Times Bold Italic",css:'"Times New Roman Bold Italic", Times, serif'},{id:pt.Times_Italic,family:"Times",bold:!1,italic:!0,label:"Times Italic",css:'"Times New Roman Italic", Times, serif'},{id:pt.Symbol,family:"Symbol",bold:!1,italic:!1,label:"Symbol",css:"Symbol"},{id:pt.ZapfDingbats,family:"ZapfDingbats",bold:!1,italic:!1,label:"Zapf Dingbats",css:"ZapfDingbats"}]),Vt=Zt.reduce(((e,t)=>(e[t.id]=t,e)),{}),Yt=new Map;for(const e of Zt)Yt.set(`${e.family}_${e.bold}_${e.italic}`,e.id);function Xt(e){return Vt[e]??Gt}function Kt(e){return Xt(e).bold}function Qt(e){return Xt(e).italic}function Jt(e,{bold:t,italic:n}){return Yt.get(`${e}_${t}_${n}`)??qt}Object.values(Wt).filter((e=>"Unknown"!==e)).map((e=>({value:e,label:e})));const en=[...new Set(Zt.map((e=>e.family)))];function tn(e){switch(e){case"Courier":return"Courier";case"Helvetica":default:return"Helvetica";case"Times":return"Times";case"Symbol":return"Symbol";case"ZapfDingbats":return"ZapfDingbats"}}const nn=Object.freeze([{id:ft.Normal,label:"Normal",css:"normal"},{id:ft.Multiply,label:"Multiply",css:"multiply"},{id:ft.Screen,label:"Screen",css:"screen"},{id:ft.Overlay,label:"Overlay",css:"overlay"},{id:ft.Darken,label:"Darken",css:"darken"},{id:ft.Lighten,label:"Lighten",css:"lighten"},{id:ft.ColorDodge,label:"Color Dodge",css:"color-dodge"},{id:ft.ColorBurn,label:"Color Burn",css:"color-burn"},{id:ft.HardLight,label:"Hard Light",css:"hard-light"},{id:ft.SoftLight,label:"Soft Light",css:"soft-light"},{id:ft.Difference,label:"Difference",css:"difference"},{id:ft.Exclusion,label:"Exclusion",css:"exclusion"},{id:ft.Hue,label:"Hue",css:"hue"},{id:ft.Saturation,label:"Saturation",css:"saturation"},{id:ft.Color,label:"Color",css:"color"},{id:ft.Luminosity,label:"Luminosity",css:"luminosity"}]),on=nn.reduce(((e,t)=>(e[t.id]=t,e)),{});function rn(e){return function(e){return on[e]??on[ft.Normal]}(e).css}nn.reduce(((e,t)=>(e[t.css]=t.id,e)),{});const an=nn.map((e=>({value:e.id,label:e.label})));function ln(e){if(e instanceof et)return{type:"noop"};if(e instanceof tt)return{type:"console"};if(e instanceof ot)return{type:"perf"};if(e instanceof nt){const t=e;return{type:"level",config:{level:t.level,logger:ln(t.logger)}}}if(e instanceof it){return{type:"all",config:{loggers:e.loggers.map(ln)}}}return{type:"noop"}}const sn=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;function cn(e){return sn.test(e)}function dn(){var e;if("function"==typeof(null==(e=globalThis.crypto)?void 0:e.randomUUID))return globalThis.crypto.randomUUID();const t=function(e){var t;if("function"==typeof(null==(t=globalThis.crypto)?void 0:t.getRandomValues))return globalThis.crypto.getRandomValues(new Uint8Array(e));if("function"==typeof require)try{const{randomBytes:t}=require("crypto");return t(e)}catch{}const n=new Uint8Array(e);for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}(16);t[6]=15&t[6]|64,t[8]=63&t[8]|128;const n=Array.from(t,(e=>e.toString(16).padStart(2,"0"))).join("");return`${n.slice(0,8)}-${n.slice(8,12)}-${n.slice(12,16)}-${n.slice(16,20)}-${n.slice(20)}`}function un(){}class hn{constructor(){this.dependencyGraph=new Map}addNode(e,t=[]){this.dependencyGraph.set(e,new Set(t))}hasCircularDependencies(){const e=new Set,t=new Set,n=o=>{e.add(o),t.add(o);const i=this.dependencyGraph.get(o)||new Set;for(const o of i)if(e.has(o)){if(t.has(o))return!0}else if(n(o))return!0;return t.delete(o),!1};for(const t of this.dependencyGraph.keys())if(!e.has(t)&&n(t))return!0;return!1}resolveLoadOrder(){if(this.hasCircularDependencies())throw new Error("Circular dependencies detected");const e=[],t=new Set,n=new Set,o=i=>{if(n.has(i))throw new Error("Circular dependency");if(t.has(i))return;n.add(i);const r=this.dependencyGraph.get(i)||new Set;for(const e of r)o(e);n.delete(i),t.add(i),e.push(i)};for(const e of this.dependencyGraph.keys())t.has(e)||o(e);return e}}class pn extends Error{constructor(e){super(e),this.name="PluginRegistrationError"}}class gn extends Error{constructor(e){super(e),this.name="PluginNotFoundError"}}class mn extends Error{constructor(e){super(e),this.name="CircularDependencyError"}}class fn extends Error{constructor(e){super(e),this.name="PluginConfigurationError"}}class vn{constructor(e,t){this.store=e,this.pluginId=t}getState(){return this.store.getState().plugins[this.pluginId]}dispatch(e){return this.store.dispatchToPlugin(this.pluginId,e)}subscribeToState(e){return this.store.subscribeToPlugin(this.pluginId,((t,n,o)=>{e(t,n,o)}))}onAction(e,t){return this.store.onAction(e,((e,n,o)=>{t(e,n.plugins[this.pluginId],o.plugins[this.pluginId])}))}}const yn="LOAD_DOCUMENT",bn="REFRESH_DOCUMENT",wn="REFRESH_PAGES",xn="SET_DOCUMENT",kn="SET_DOCUMENT_ERROR",Cn="SET_SCALE",Sn="SET_ROTATION",Mn="SET_PAGES",Pn=[yn,bn,xn,kn,Cn,Sn,Mn],In=e=>({type:wn,payload:e}),Tn=e=>({type:Mn,payload:e});class An{constructor(e,t){this.initialCoreState=t,this.pluginReducers={},this.listeners=[],this.pluginListeners={},this.isDispatching=!1,this.state={core:t,plugins:{}},this.coreReducer=e}addPluginReducer(e,t,n){this.state.plugins[e]=n,this.pluginReducers[e]=t}dispatchToCore(e){if(!this.coreReducer)return this.getState();if(this.isDispatching)throw new Error("Reducers may not dispatch actions. To trigger cascading actions, dispatch from a listener callback instead.");const t=this.getState();try{this.isDispatching=!0,this.state.core=this.coreReducer(this.state.core,e)}finally{this.isDispatching=!1}return this.listeners.forEach((n=>{const o=this.getState();n(e,o,t)})),this.getState()}dispatchToPlugin(e,t,n=!0){if(this.isDispatching)throw new Error("Reducers may not dispatch actions. To trigger cascading actions, dispatch from a listener callback instead.");const o=this.getState(),i=this.pluginReducers[e];if(!i)return o.plugins[e];const r=o.plugins[e];try{this.isDispatching=!0;const n=i(r,t);this.state.plugins[e]=n}finally{this.isDispatching=!1}return n&&this.listeners.forEach((e=>{const n=this.getState();e(t,n,o)})),this.pluginListeners[e]&&this.pluginListeners[e].forEach((n=>{const o=this.getState().plugins[e];n(t,o,r)})),this.getState().plugins[e]}dispatch(e){if(this.isDispatching)throw new Error("Reducers may not dispatch actions. To trigger cascading actions, dispatch from a listener callback instead.");const t=this.getState();try{this.isDispatching=!0,this.isCoreAction(e)&&(this.state.core=this.coreReducer(this.state.core,e));for(const n in this.pluginReducers){const o=this.pluginReducers[n],i=t.plugins[n];o&&(this.state.plugins[n]=o(i,e))}}finally{this.isDispatching=!1}return this.listeners.forEach((n=>{const o=this.getState();n(e,o,t)})),this.getState()}getState(){if(this.isDispatching)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return{core:{...this.state.core},plugins:{...this.state.plugins}}}subscribe(e){if(this.isDispatching)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state.");return this.listeners.push(e),()=>{if(this.isDispatching)throw new Error("You may not unsubscribe from a store listener while the reducer is executing.");this.listeners=this.listeners.filter((t=>t!==e))}}subscribeToPlugin(e,t){if(!(e in this.state.plugins))throw new Error(`Plugin state not found for plugin "${e}". Did you forget to call addPluginReducer?`);if(this.isDispatching)throw new Error("You may not call store.subscribeToPlugin() while the reducer is executing.");return this.pluginListeners[e]||(this.pluginListeners[e]=[]),this.pluginListeners[e].push(t),()=>{if(this.isDispatching)throw new Error("You may not unsubscribe from a store listener while the reducer is executing.");this.pluginListeners[e]=this.pluginListeners[e].filter((e=>e!==t)),0===this.pluginListeners[e].length&&delete this.pluginListeners[e]}}onAction(e,t){return this.subscribe(((n,o,i)=>{n.type===e&&t(n,o,i)}))}getPluginStore(e){if(!(e in this.state.plugins))throw new Error(`Plugin state not found for plugin "${e}". Did you forget to call addPluginReducer?`);return new vn(this,e)}isCoreAction(e){return Pn.includes(e.type)}destroy(){var e,t;this.listeners.length=0;for(const n in this.pluginListeners)null==(t=null==(e=this.pluginListeners[n])?void 0:e.splice)||t.call(e,0);this.pluginListeners={},this.pluginReducers={},this.state.plugins={},this.state.core={...this.initialCoreState}}}const zn=e=>e.pages.map((t=>t.map((t=>({...t,rotatedSize:Fe(t.size,e.rotation,1)}))))),Rn=(e,t)=>{switch(t.type){case yn:return{...e,loading:!0,error:null};case xn:case bn:return{...e,document:t.payload,pages:t.payload.pages.map((e=>[e])),loading:!1,error:null};case Sn:return{...e,rotation:t.payload};case Mn:return{...e,pages:t.payload};case kn:return{...e,loading:!1,error:t.payload};case Cn:return{...e,scale:t.payload};default:return e}};class En{constructor(e,t){this.plugins=new Map,this.manifests=new Map,this.capabilities=new Map,this.status=new Map,this.configurations=new Map,this.engineInitialized=!1,this.initPromise=null,this.pendingRegistrations=[],this.processingRegistrations=[],this.initialized=!1,this.isInitializing=!1,this.pluginsReadyPromise=null,this.destroyed=!1,this.resolver=new hn,this.engine=e,this.initialCoreState=(e=>({scale:(null==e?void 0:e.scale)??1,rotation:(null==e?void 0:e.rotation)??Oe.Degree0,document:null,pages:[],loading:!1,error:null}))(t),this.store=new An(Rn,this.initialCoreState),this.logger=(null==t?void 0:t.logger)??new et}getLogger(){return this.logger}async ensureEngineInitialized(){if(!this.engineInitialized)if(this.engine.initialize){const e=this.engine.initialize();await e.toPromise(),this.engineInitialized=!0}else this.engineInitialized=!0}registerPlugin(e,t){if(this.initialized&&!this.isInitializing)throw new pn("Cannot register plugins after initialization");this.validateManifest(e.manifest),this.store.addPluginReducer(e.manifest.id,e.reducer,"function"==typeof e.initialState?e.initialState(this.initialCoreState,{...e.manifest.defaultConfig,...t}):e.initialState),this.pendingRegistrations.push({package:e,config:t})}getStore(){return this.store}getEngine(){return this.engine}pluginsReady(){return this.pluginsReadyPromise||(this.pluginsReadyPromise=(async()=>{this.initialized||await this.initialize();const e=Array.from(this.plugins.values()).map((e=>"function"==typeof e.ready?e.ready():Promise.resolve()));await Promise.all(e)})()),this.pluginsReadyPromise}async initialize(){if(this.destroyed)throw new pn("Registry has been destroyed");return this.initPromise||(this.initPromise=(async()=>{var e;if(this.initialized)throw new pn("Registry is already initialized");this.isInitializing=!0;try{if(await this.ensureEngineInitialized(),this.destroyed)return;for(;this.pendingRegistrations.length>0;){if(this.destroyed)return;this.processingRegistrations=[...this.pendingRegistrations],this.pendingRegistrations=[];for(const e of this.processingRegistrations){const t=new Set,n=[...e.package.manifest.requires,...e.package.manifest.optional];for(const e of n){const n=this.processingRegistrations.find((t=>t.package.manifest.provides.includes(e)));n&&t.add(n.package.manifest.id)}this.resolver.addNode(e.package.manifest.id,[...t])}const e=this.resolver.resolveLoadOrder();for(const t of e){const e=this.processingRegistrations.find((e=>e.package.manifest.id===t));await this.initializePlugin(e.package.manifest,e.package.create,e.config)}this.processingRegistrations=[],this.resolver=new hn}for(const t of this.plugins.values())await(null==(e=t.postInitialize)?void 0:e.call(t).catch((e=>{console.error(`Error in postInitialize for plugin ${t.id}`,e),this.status.set(t.id,"error")})));this.initialized=!0}catch(e){if(e instanceof Error)throw new mn(`Failed to resolve plugin dependencies: ${e.message}`);throw e}finally{this.isInitializing=!1}})()),this.initPromise}async initializePlugin(e,t,n){const o={...e.defaultConfig,...n};this.validateConfig(e.id,o,e.defaultConfig);const i=t(this,o);this.validatePlugin(i);for(const t of e.requires)if(!this.capabilities.has(t))throw new pn(`Missing required capability: ${t} for plugin ${e.id}`);for(const t of e.optional)this.capabilities.has(t)&&this.logger.debug("PluginRegistry","OptionalCapability",`Optional capability ${t} is available for plugin ${e.id}`);this.logger.debug("PluginRegistry","InitializePlugin",`Initializing plugin ${e.id}`,{provides:e.provides});for(const t of e.provides){if(this.capabilities.has(t))throw new pn(`Capability ${t} is already provided by plugin ${this.capabilities.get(t)}`);this.capabilities.set(t,e.id)}this.plugins.set(e.id,i),this.manifests.set(e.id,e),this.status.set(e.id,"registered"),this.configurations.set(e.id,o);try{i.initialize&&await i.initialize(o),this.status.set(e.id,"active"),this.logger.info("PluginRegistry","PluginInitialized",`Plugin ${e.id} initialized successfully`)}catch(t){throw this.plugins.delete(e.id),this.manifests.delete(e.id),this.logger.error("PluginRegistry","InitializationFailed",`Plugin ${e.id} initialization failed`,{provides:e.provides,error:t}),e.provides.forEach((e=>this.capabilities.delete(e))),t}}getPluginConfig(e){const t=this.configurations.get(e);if(!t)throw new gn(`Configuration for plugin ${e} not found`);return t}validateConfig(e,t,n){const o=Object.keys(n).filter((e=>!t.hasOwnProperty(e)));if(o.length>0)throw new fn(`Missing required configuration keys for plugin ${e}: ${o.join(", ")}`)}async updatePluginConfig(e,t){const n=this.getPlugin(e);if(!n)throw new gn(`Plugin ${e} not found`);const o=this.manifests.get(e),i=this.configurations.get(e);if(!o||!i)throw new gn(`Plugin ${e} not found`);const r={...i,...t};this.validateConfig(e,r,o.defaultConfig),this.configurations.set(e,r),n.initialize&&await n.initialize(r)}registerPluginBatch(e){for(const t of e)this.registerPlugin(t.package,t.config)}async unregisterPlugin(e){const t=this.plugins.get(e);if(!t)throw new gn(`Plugin ${e} is not registered`);const n=this.manifests.get(e);if(!n)throw new gn(`Manifest for plugin ${e} not found`);for(const[t,o]of this.manifests.entries()){if(t===e)continue;if([...o.requires,...o.optional].some((e=>n.provides.includes(e))))throw new pn(`Cannot unregister plugin ${e}: plugin ${t} depends on it`)}try{t.destroy&&await t.destroy();for(const e of n.provides)this.capabilities.delete(e);this.plugins.delete(e),this.manifests.delete(e),this.status.delete(e)}catch(t){if(t instanceof Error)throw new Error(`Failed to unregister plugin ${e}: ${t.message}`);throw t}}getPlugin(e){const t=this.plugins.get(e);return t||null}getCapabilityProvider(e){const t=this.capabilities.get(e);return t?this.getPlugin(t):null}hasCapability(e){return this.capabilities.has(e)}getAllPlugins(){return Array.from(this.plugins.values())}getPluginStatus(e){const t=this.status.get(e);if(!t)throw new gn(`Plugin ${e} not found`);return t}validatePlugin(e){if(!e.id)throw new pn("Plugin must have an id")}validateManifest(e){if(!e.id)throw new pn("Manifest must have an id");if(!e.name)throw new pn("Manifest must have a name");if(!e.version)throw new pn("Manifest must have a version");if(!Array.isArray(e.provides))throw new pn("Manifest must have a provides array");if(!Array.isArray(e.requires))throw new pn("Manifest must have a requires array");if(!Array.isArray(e.optional))throw new pn("Manifest must have an optional array")}isDestroyed(){return this.destroyed}async destroy(){var e;if(this.destroyed)throw new pn("Registry has already been destroyed");this.destroyed=!0;try{await this.initPromise}catch{}for(const t of Array.from(this.plugins.values()).reverse())await(null==(e=t.destroy)?void 0:e.call(t));this.store.destroy(),this.plugins.clear(),this.manifests.clear(),this.capabilities.clear(),this.status.clear(),this.pendingRegistrations.length=0,this.processingRegistrations.length=0}}function _n(e,t){return{package:e,config:t}}function Nn(e){return"autoMountElements"in e&&"function"==typeof e.autoMountElements}class Ln{constructor(e,t){if(this.id=e,this.registry=t,this.cooldownActions={},this.debouncedTimeouts={},this.unsubscribeFromState=null,this.unsubscribeFromCoreStore=null,e!==this.constructor.id)throw new Error(`Plugin ID mismatch: ${e} !== ${this.constructor.id}`);this.engine=this.registry.getEngine(),this.logger=this.registry.getLogger(),this.coreStore=this.registry.getStore(),this.pluginStore=this.coreStore.getPluginStore(this.id),this.unsubscribeFromState=this.pluginStore.subscribeToState(((e,t,n)=>{this.onStoreUpdated(n,t)})),this.unsubscribeFromCoreStore=this.coreStore.subscribe(((e,t,n)=>{this.onCoreStoreUpdated(n,t)})),this.readyPromise=new Promise((e=>{this.readyResolve=e})),this.readyResolve()}provides(){if(!this._capability){const e=this.buildCapability();this._capability=Object.freeze(e)}return this._capability}get state(){return this.pluginStore.getState()}get coreState(){return this.coreStore.getState()}getState(){return this.pluginStore.getState()}getCoreState(){return this.coreStore.getState()}dispatchCoreAction(e){return this.coreStore.dispatchToCore(e)}dispatchToAllPlugins(e){return this.coreStore.dispatch(e)}dispatch(e){return this.pluginStore.dispatch(e)}cooldownDispatch(e,t=100){const n=Date.now();return n-(this.cooldownActions[e.type]||0)>=t&&(this.cooldownActions[e.type]=n,this.dispatch(e),!0)}debouncedDispatch(e,t=100){const n=e.type;this.debouncedTimeouts[n]&&clearTimeout(this.debouncedTimeouts[n]),this.debouncedTimeouts[n]=setTimeout((()=>{this.dispatch(e),delete this.debouncedTimeouts[n]}),t)}cancelDebouncedDispatch(e){this.debouncedTimeouts[e]&&(clearTimeout(this.debouncedTimeouts[e]),delete this.debouncedTimeouts[e])}subscribe(e){return this.pluginStore.subscribeToState(e)}subscribeToCoreStore(e){return this.coreStore.subscribe(e)}onStoreUpdated(e,t){}onCoreStoreUpdated(e,t){}destroy(){Object.values(this.debouncedTimeouts).forEach((e=>{clearTimeout(e)})),this.debouncedTimeouts={},this.unsubscribeFromState&&(this.unsubscribeFromState(),this.unsubscribeFromState=null),this.unsubscribeFromCoreStore&&(this.unsubscribeFromCoreStore(),this.unsubscribeFromCoreStore=null)}ready(){return this.readyPromise}markReady(){this.readyResolve()}resetReady(){this.readyPromise=new Promise((e=>{this.readyResolve=e}))}}class Dn{constructor(e,t){this.handler=e,this.options=t,this.lastRun=0,this.handle=e=>{"debounce"===this.options.mode?this.debounce(e):this.throttle(e)}}debounce(e){this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout((()=>{this.handler(e),this.timeoutId=void 0}),this.options.wait)}throttle(e){if("debounce"===this.options.mode)return;const t=Date.now(),n=this.options.throttleMode||"leading-trailing";t-this.lastRun>=this.options.wait&&("leading-trailing"===n&&this.handler(e),this.lastRun=t),this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout((()=>{this.handler(e),this.lastRun=Date.now(),this.timeoutId=void 0}),this.options.wait-(t-this.lastRun))}destroy(){this.timeoutId&&window.clearTimeout(this.timeoutId)}}function On(e,t,n){return e<t?t:e>n?n:e}function Bn(e,t,n){if(e===t)return!0;if(null==e||null==t)return e===t;const o=typeof e;if(o!==typeof t)return!1;if("object"===o){n||(n=new Set);const o=function(e,t){return`${$n(e)}__${$n(t)}`}(e,t);if(n.has(o))return!0;n.add(o);const i=Array.isArray(e),r=Array.isArray(t);return i&&r?function(e,t,n){if(e.length!==t.length)return!1;const o=new Array(t.length).fill(!1);e:for(let i=0;i<e.length;i++){const r=e[i];for(let e=0;e<t.length;e++)if(!o[e]&&Bn(r,t[e],n)){o[e]=!0;continue e}return!1}return!0}(e,t,n):!i&&!r&&function(e,t,n){const o=Object.keys(e).sort(),i=Object.keys(t).sort();if(o.length!==i.length)return!1;for(let e=0;e<o.length;e++)if(o[e]!==i[e])return!1;for(const i of o){if(!Bn(e[i],t[i],n))return!1}return!0}(e,t,n)}return!1}let Hn=0;const jn=new WeakMap;function $n(e){return jn.has(e)||jn.set(e,++Hn),jn.get(e)}function Fn(){const e=new Set;return{emit:(t=void 0)=>e.forEach((e=>e(t))),on:t=>(e.add(t),()=>e.delete(t)),off:t=>e.delete(t),clear:()=>e.clear()}}function Un(e,t=Bn){const n=new Set,o=new Map;let i=e;const r=(e,t)=>{let r=e,a=()=>{};if(t){const n=new Dn(e,t);r=n.handle,a=()=>n.destroy(),o.set(e,{wrapped:r,destroy:a})}return void 0!==i&&r(i),n.add(r),()=>{n.delete(r),a(),o.delete(e)}};return{get value(){return i},emit(e=void 0){void 0!==i&&t(i,e)||(i=e,(e=>{n.forEach((t=>t(e)))})(e))},on:r,off(e){const t=o.get(e);t?(n.delete(t.wrapped),t.destroy(),o.delete(e)):n.delete(e)},clear(){n.clear(),o.forEach((e=>e.destroy())),o.clear()},select:(e,t=Bn)=>(n,o)=>{let a;if(void 0!==i){const t=e(i);a=t,n(t)}return r((o=>{const i=e(o);void 0!==a&&t(a,i)||(a=i,n(i))}),o)}}}class Wn{constructor(e){this.autoMountElements=[],this.package=e}addUtility(e){return this.autoMountElements.push({component:e,type:"utility"}),this}addWrapper(e){return this.autoMountElements.push({component:e,type:"wrapper"}),this}build(){return{...this.package,autoMountElements:()=>this.autoMountElements}}}function qn(e){return new Wn(e)}const Gn=ae({registry:null,isInitializing:!0,pluginsReady:!1});function Zn({plugins:e,children:t}){const{utilities:n,wrappers:o}=Pe((()=>{const t=[],n=[];for(const o of e){const e=o.package;if(Nn(e)){const o=e.autoMountElements()||[];for(const e of o)"utility"===e.type?t.push(e.component):"wrapper"===e.type&&n.push(e.component)}}return{utilities:t,wrappers:n}}),[e]);return De($,{children:[o.reduce(((e,t)=>De(t,{children:e})),t),n.map(((e,t)=>De(e,{},`utility-${t}`)))]})}function Vn({engine:e,logger:t,onInitialized:n,plugins:o,children:i,autoMountDomElements:r=!0}){const[a,l]=ke(null),[s,c]=ke(!0),[d,u]=ke(!1),h=Me(n);Ce((()=>{h.current=n}),[n]),Ce((()=>{const n=new En(e,{logger:t});n.registerPluginBatch(o);return(async()=>{var e;await n.initialize(),n.isDestroyed()||(await(null==(e=h.current)?void 0:e.call(h,n)),n.isDestroyed()||(n.pluginsReady().then((()=>{n.isDestroyed()||u(!0)})),l(n),c(!1)))})().catch(console.error),()=>{n.destroy(),l(null),c(!0),u(!1)}}),[e,o]);const p="function"==typeof i?i({registry:a,isInitializing:s,pluginsReady:d}):i;return De(Gn.Provider,{value:{registry:a,isInitializing:s,pluginsReady:d},children:d&&r?De(Zn,{plugins:o,children:p}):p})}function Yn(){const e=function(e){var t=se.context[e.__c],n=xe(le++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(se)),t.props.value):e.__}(Gn);if(void 0===e)throw new Error("useCapability must be used within a PDFContext.Provider");const{registry:t,isInitializing:n}=e;if(n)return e;if(null===t)throw new Error("PDF registry failed to initialize properly");return e}function Xn(e){const{registry:t}=Yn();if(null===t)return{plugin:null,isLoading:!0,ready:new Promise((()=>{}))};const n=t.getPlugin(e);if(!n)throw new Error(`Plugin ${e} not found`);return{plugin:n,isLoading:!1,ready:n.ready()}}function Kn(e){const{plugin:t,isLoading:n,ready:o}=Xn(e);if(!t)return{provides:null,isLoading:n,ready:o};if(!t.provides)throw new Error(`Plugin ${e} does not provide a capability`);return{provides:t.provides(),isLoading:n,ready:o}}const Qn="https://cdn.jsdelivr.net/npm/@embedpdf/pdfium@1.4.1/dist/pdfium.wasm";ae(void 0);const Jn="viewport",eo={id:Jn,name:"Viewport Plugin",version:"1.0.0",provides:["viewport"],requires:[],optional:[],defaultConfig:{enabled:!0,viewportGap:10,scrollEndDelay:300}},to="SET_VIEWPORT_METRICS",no="SET_VIEWPORT_SCROLL_METRICS",oo="SET_VIEWPORT_GAP",io="SET_SCROLL_ACTIVITY",ro="SET_SMOOTH_SCROLL_ACTIVITY";function ao(e){return{type:ro,payload:e}}const lo={viewportGap:0,viewportMetrics:{width:0,height:0,scrollTop:0,scrollLeft:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0,relativePosition:{x:0,y:0}},isScrolling:!1,isSmoothScrolling:!1},so=class extends Ln{constructor(e,t,n){var o;super(e,t),this.id=e,this.viewportResize$=Un(),this.viewportMetrics$=Un(),this.scrollMetrics$=Un(),this.scrollReq$=Fn(),this.scrollActivity$=Un(),this.rectProvider=null,n.viewportGap&&this.dispatch((o=n.viewportGap,{type:oo,payload:o})),this.scrollEndDelay=n.scrollEndDelay||100}buildCapability(){return{getViewportGap:()=>this.state.viewportGap,getMetrics:()=>this.state.viewportMetrics,getBoundingRect:()=>{var e;return(null==(e=this.rectProvider)?void 0:e.call(this))??{origin:{x:0,y:0},size:{width:0,height:0}}},scrollTo:e=>this.scrollTo(e),isScrolling:()=>this.state.isScrolling,isSmoothScrolling:()=>this.state.isSmoothScrolling,onScrollChange:this.scrollMetrics$.on,onViewportChange:this.viewportMetrics$.on,onViewportResize:this.viewportResize$.on,onScrollActivity:this.scrollActivity$.on}}setViewportResizeMetrics(e){this.registry.isDestroyed()||(this.dispatch(function(e){return{type:to,payload:e}}(e)),this.viewportResize$.emit(this.state.viewportMetrics))}setViewportScrollMetrics(e){this.registry.isDestroyed()||e.scrollTop===this.state.viewportMetrics.scrollTop&&e.scrollLeft===this.state.viewportMetrics.scrollLeft||(this.dispatch(function(e){return{type:no,payload:e}}(e)),this.bumpScrollActivity(),this.scrollMetrics$.emit({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}))}onScrollRequest(e){return this.scrollReq$.on(e)}registerBoundingRectProvider(e){this.rectProvider=e}bumpScrollActivity(){this.debouncedDispatch({type:io,payload:!1},this.scrollEndDelay),this.debouncedDispatch(ao(!1),this.scrollEndDelay)}scrollTo(e){const{x:t,y:n,center:o,behavior:i="auto"}=e;if("smooth"===i&&this.dispatch(ao(!0)),o){const e=this.state.viewportMetrics,o=t-e.clientWidth/2,r=n-e.clientHeight/2;this.scrollReq$.emit({x:o,y:r,behavior:i})}else this.scrollReq$.emit({x:t,y:n,behavior:i})}emitScrollActivity(){const e={isSmoothScrolling:this.state.isSmoothScrolling,isScrolling:this.state.isScrolling};this.scrollActivity$.emit(e)}onStoreUpdated(e,t){e!==t&&(this.viewportMetrics$.emit(t.viewportMetrics),e.isScrolling===t.isScrolling&&e.isSmoothScrolling===t.isSmoothScrolling||this.emitScrollActivity())}async initialize(e){}async destroy(){super.destroy(),this.viewportMetrics$.clear(),this.viewportResize$.clear(),this.scrollMetrics$.clear(),this.scrollReq$.clear(),this.scrollActivity$.clear(),this.rectProvider=null}};so.id="viewport";let co=so;const uo={manifest:eo,create:(e,t)=>new co(Jn,e,t),reducer:(e=lo,t)=>{switch(t.type){case oo:return{...e,viewportGap:t.payload};case to:return{...e,viewportMetrics:{width:t.payload.width,height:t.payload.height,scrollTop:t.payload.scrollTop,scrollLeft:t.payload.scrollLeft,clientWidth:t.payload.clientWidth,clientHeight:t.payload.clientHeight,scrollWidth:t.payload.scrollWidth,scrollHeight:t.payload.scrollHeight,relativePosition:{x:t.payload.scrollWidth<=t.payload.clientWidth?0:t.payload.scrollLeft/(t.payload.scrollWidth-t.payload.clientWidth),y:t.payload.scrollHeight<=t.payload.clientHeight?0:t.payload.scrollTop/(t.payload.scrollHeight-t.payload.clientHeight)}}};case no:return{...e,viewportMetrics:{...e.viewportMetrics,scrollTop:t.payload.scrollTop,scrollLeft:t.payload.scrollLeft},isScrolling:!0};case io:return{...e,isScrolling:t.payload};case ro:return{...e,isSmoothScrolling:t.payload};default:return e}},initialState:lo},ho=()=>Kn(co.id);function po(){const{plugin:e}=Xn(co.id),t=Me(null);return Se((()=>{if(!e)return;const n=t.current;if(!n)return;let o=!1;e.registerBoundingRectProvider((()=>{const e=n.getBoundingClientRect();return{origin:{x:e.left,y:e.top},size:{width:e.width,height:e.height}}}));const i=()=>{e.setViewportScrollMetrics({scrollTop:n.scrollTop,scrollLeft:n.scrollLeft})};n.addEventListener("scroll",i);const r=new ResizeObserver((()=>{o||e.setViewportResizeMetrics({width:n.offsetWidth,height:n.offsetHeight,clientWidth:n.clientWidth,clientHeight:n.clientHeight,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft,scrollWidth:n.scrollWidth,scrollHeight:n.scrollHeight})}));r.observe(n);const a=e.onScrollRequest((({x:e,y:t,behavior:o="auto"})=>{requestAnimationFrame((()=>{n.scrollTo({left:e,top:t,behavior:o})}))}));return()=>{o=!0,r.disconnect(),e.registerBoundingRectProvider(null),n.removeEventListener("scroll",i),a()}}),[e]),t}function go({children:e,...t}){const[n,o]=ke(0),i=po(),{provides:r}=ho();Ce((()=>{r&&o(r.getViewportGap())}),[r]);const{style:a,...l}=t;return De("div",{...l,ref:i,style:{width:"100%",height:"100%",overflow:"auto",..."object"==typeof a?a:{},padding:`${n}px`},children:e})}var mo=(e=>(e.Vertical="vertical",e.Horizontal="horizontal",e))(mo||{});class fo{constructor(e){this.pageGap=e.pageGap??20,this.viewportGap=e.viewportGap??20,this.bufferSize=e.bufferSize??2}getVisibleRange(e,t,n){const o=this.getScrollOffset(e),i=o,r=o+this.getClientSize(e);let a=0;for(;a<t.length&&(t[a].offset+t[a].height)*n<=i;)a++;let l=a;for(;l<t.length&&t[l].offset*n<=r;)l++;return{start:Math.max(0,a-this.bufferSize),end:Math.min(t.length-1,l+this.bufferSize-1)}}handleScroll(e,t,n){const o=this.getVisibleRange(e,t,n),i=t.slice(o.start,o.end+1),r=this.calculatePageVisibility(i,e,n),a=r.map((e=>e.pageNumber)),l=t.slice(o.start,o.end+1).flatMap((e=>e.index)),s=this.determineCurrentPage(r),c=t[o.start],d=t[o.end],u=c?c.offset*n:0,h=d?(t[t.length-1].offset+t[t.length-1].height)*n-(d.offset+d.height)*n:0;return{currentPage:s,visiblePages:a,pageVisibilityMetrics:r,renderedPageIndexes:l,scrollOffset:{x:e.scrollLeft,y:e.scrollTop},startSpacing:u,endSpacing:h}}calculatePageVisibility(e,t,n){const o=[];return e.forEach((e=>{e.pageLayouts.forEach((i=>{const r=e.x*n,a=e.y*n,l=r+i.x*n,s=a+i.y*n,c=i.rotatedWidth*n,d=i.rotatedHeight*n,u=t.scrollLeft,h=t.scrollTop,p=u+t.clientWidth,g=h+t.clientHeight,m=Math.max(l,u),f=Math.max(s,h),v=Math.min(l+c,p),y=Math.min(s+d,g);if(m<v&&f<y){const e=v-m,t=y-f,r=c*d,a=e*t;o.push({pageNumber:i.pageNumber,viewportX:m-u,viewportY:f-h,visiblePercentage:a/r*100,original:{pageX:(m-l)/n,pageY:(f-s)/n,visibleWidth:e/n,visibleHeight:t/n,scale:1},scaled:{pageX:m-l,pageY:f-s,visibleWidth:e,visibleHeight:t,scale:n}})}}))})),o}determineCurrentPage(e){if(0===e.length)return 1;const t=Math.max(...e.map((e=>e.visiblePercentage))),n=e.filter((e=>e.visiblePercentage===t));return 1===n.length?n[0].pageNumber:n.sort(((e,t)=>e.pageNumber-t.pageNumber))[0].pageNumber}getRectLocationForPage(e,t,n){const o=t.find((t=>t.pageNumbers.includes(e)));if(!o)return null;const i=o.pageLayouts.find((t=>t.pageNumber===e));if(!i)return null;let r=0;if(n){const e=n.width;o.width<e&&(r=(e-o.width)/2)}return{origin:{x:o.x+i.x+r,y:o.y+i.y},size:{width:i.width,height:i.height}}}getScrollPositionForPage(e,t,n,o,i){const r=this.getTotalContentSize(t),a=this.getRectLocationForPage(e,t,r);if(!a)return null;const l=Ge(a.origin,n);if(i){const e=function(e,t,n,o){return Ge(qe(e,t,n),o)}({width:a.size.width,height:a.size.height},{x:i.x,y:i.y},o,n);return{x:l.x+e.x+this.viewportGap,y:l.y+e.y+this.viewportGap}}return{x:l.x+this.viewportGap,y:l.y+this.viewportGap}}getRectPositionForPage(e,t,n,o,i){const r=this.getTotalContentSize(t),a=this.getRectLocationForPage(e,t,r);if(!a)return null;const l=Ge(a.origin,n),s=Ke({width:a.size.width,height:a.size.height},i,o,n);return{origin:{x:l.x+s.origin.x,y:l.y+s.origin.y},size:s.size}}}class vo extends fo{constructor(e){super(e)}createVirtualItems(e){let t=0;return e.map(((e,n)=>{let o=0;const i=e.map((e=>{const t={pageNumber:e.index+1,pageIndex:e.index,x:o,y:0,width:e.size.width,height:e.size.height,rotatedWidth:e.rotatedSize.width,rotatedHeight:e.rotatedSize.height};return o+=e.rotatedSize.width+this.pageGap,t})),r=e.reduce(((t,n,o)=>t+n.rotatedSize.width+(o<e.length-1?this.pageGap:0)),0),a=Math.max(...e.map((e=>e.rotatedSize.height))),l={id:`item-${n}`,x:0,y:t,offset:t,width:r,height:a,pageLayouts:i,pageNumbers:e.map((e=>e.index+1)),index:n};return t+=a+this.pageGap,l}))}getTotalContentSize(e){if(0===e.length)return{width:0,height:0};return{width:Math.max(...e.map((e=>e.width))),height:e[e.length-1].y+e[e.length-1].height}}getScrollOffset(e){return e.scrollTop}getClientSize(e){return e.clientHeight}}class yo extends fo{constructor(e){super(e)}createVirtualItems(e){let t=0;return e.map(((e,n)=>{let o=0;const i=e.map((e=>{const t={pageNumber:e.index+1,pageIndex:e.index,x:o,y:0,width:e.size.width,height:e.size.height,rotatedWidth:e.rotatedSize.width,rotatedHeight:e.rotatedSize.height};return o+=e.rotatedSize.width+this.pageGap,t})),r=e.reduce(((t,n,o)=>t+n.rotatedSize.width+(o<e.length-1?this.pageGap:0)),0),a=Math.max(...e.map((e=>e.rotatedSize.height))),l={id:`item-${n}`,x:t,y:0,offset:t,width:r,height:a,pageLayouts:i,pageNumbers:e.map((e=>e.index+1)),index:n};return t+=r+this.pageGap,l}))}getTotalContentSize(e){if(0===e.length)return{width:0,height:0};return{width:e[e.length-1].x+e[e.length-1].width,height:Math.max(...e.map((e=>e.height)))}}getScrollOffset(e){return e.scrollLeft}getClientSize(e){return e.clientWidth}}const bo="UPDATE_SCROLL_STATE",wo="UPDATE_TOTAL_PAGES",xo="SET_PAGE_CHANGE_STATE";function ko(e){return{type:bo,payload:e}}function Co(e){return{type:xo,payload:e}}const So=class extends Ln{constructor(e,t,n){var o,i,r,a;super(e,t),this.id=e,this.config=n,this.currentScale=1,this.currentRotation=Oe.Degree0,this.currentPage=1,this.layoutReady=!1,this.pageChangeState$=Un(),this.layout$=Un(),this.scroll$=Un(),this.state$=Un(),this.scrollerLayout$=Un(),this.pageChange$=Un(),this.layoutReady$=Un(),this.viewport=this.registry.getPlugin("viewport").provides(),this.strategyConfig={pageGap:(null==(o=this.config)?void 0:o.pageGap)??10,viewportGap:this.viewport.getViewportGap(),bufferSize:(null==(i=this.config)?void 0:i.bufferSize)??2},this.strategy=(null==(r=this.config)?void 0:r.strategy)===mo.Horizontal?new yo(this.strategyConfig):new vo(this.strategyConfig),this.initialPage=null==(a=this.config)?void 0:a.initialPage,this.currentScale=this.coreState.core.scale,this.currentRotation=this.coreState.core.rotation,this.viewport.onScrollActivity((e=>{this.state.pageChangeState.isChanging&&!e.isSmoothScrolling&&this.completePageChange()})),this.viewport.onViewportChange((e=>this.commitMetrics(this.computeMetrics(e))),{mode:"throttle",wait:100}),this.coreStore.onAction(xn,((e,t)=>{const n=t.core.pages.length;this.dispatch({type:wo,payload:n}),this.pageChange$.emit({pageNumber:this.currentPage,totalPages:n}),this.refreshAll(zn(t.core),this.viewport.getMetrics())})),this.coreStore.onAction(Sn,((e,t)=>this.refreshAll(zn(t.core),this.viewport.getMetrics()))),this.coreStore.onAction(Mn,((e,t)=>this.refreshAll(zn(t.core),this.viewport.getMetrics())))}startPageChange(e,t="smooth"){const n={isChanging:!0,targetPage:e,fromPage:this.currentPage,startTime:Date.now()};this.dispatch(Co(n)),"instant"===t&&this.completePageChange()}completePageChange(){if(!this.state.pageChangeState.isChanging)return;const e={isChanging:!1,targetPage:this.state.pageChangeState.targetPage,fromPage:this.state.pageChangeState.fromPage,startTime:this.state.pageChangeState.startTime};this.dispatch(Co(e))}computeLayout(e){const t=this.strategy.createVirtualItems(e);return{virtualItems:t,totalContentSize:this.strategy.getTotalContentSize(t)}}computeMetrics(e,t=this.state.virtualItems){return this.strategy.handleScroll(e,t,this.currentScale)}commit(e,t){this.dispatch(ko(e)),(null==t?void 0:t.layout)&&this.layout$.emit(t.layout),(null==t?void 0:t.metrics)&&(this.scroll$.emit(t.metrics),t.metrics.currentPage!==this.currentPage&&(this.currentPage=t.metrics.currentPage,this.pageChange$.emit({pageNumber:this.currentPage,totalPages:this.state.totalPages}))),this.scrollerLayout$.emit(this.getScrollerLayout())}commitMetrics(e){this.commit(e,{metrics:e})}refreshAll(e,t){const n=this.computeLayout(e),o=this.computeMetrics(t,n.virtualItems);this.commit({...n,...o},{layout:n,metrics:o})}getVirtualItemsFromState(){return this.state.virtualItems||[]}onScrollerData(e){return this.scrollerLayout$.on(e)}getScrollerLayout(){const e=this.coreState.core.scale;return((e,t)=>({startSpacing:e.startSpacing,endSpacing:e.endSpacing,totalWidth:e.totalContentSize.width*t,totalHeight:e.totalContentSize.height*t,pageGap:e.pageGap*t,strategy:e.strategy,items:e.renderedPageIndexes.map((n=>({...e.virtualItems[n],pageLayouts:e.virtualItems[n].pageLayouts.map((e=>({...e,rotatedWidth:e.rotatedWidth*t,rotatedHeight:e.rotatedHeight*t,width:e.width*t,height:e.height*t})))})))}))(this.state,e)}pushScrollLayout(){this.scrollerLayout$.emit(this.getScrollerLayout())}onStoreUpdated(e,t){this.pushScrollLayout(),e.pageChangeState!==t.pageChangeState&&this.pageChangeState$.emit(t.pageChangeState)}onCoreStoreUpdated(e,t){e.core.scale!==t.core.scale&&(this.currentScale=t.core.scale,this.commitMetrics(this.computeMetrics(this.viewport.getMetrics()))),e.core.rotation!==t.core.rotation&&(this.currentRotation=t.core.rotation)}setScrollStrategy(e){if(e===mo.Horizontal&&this.strategy instanceof yo||e===mo.Vertical&&this.strategy instanceof vo)return;this.strategy=e===mo.Horizontal?new yo(this.strategyConfig):new vo(this.strategyConfig),this.dispatch(ko({strategy:e}));const t=zn(this.coreState.core);this.refreshAll(t,this.viewport.getMetrics())}setLayoutReady(){this.layoutReady||(this.layoutReady=!0,this.layoutReady$.emit(!0),this.initialPage&&this.scrollToPage({pageNumber:this.initialPage,behavior:"instant"}))}buildCapability(){return{onStateChange:this.state$.on,onLayoutChange:this.layout$.on,onScroll:this.scroll$.on,onPageChange:this.pageChange$.on,onLayoutReady:this.layoutReady$.on,onPageChangeState:this.pageChangeState$.on,getCurrentPage:()=>this.currentPage,getTotalPages:()=>this.state.totalPages,getPageChangeState:()=>this.state.pageChangeState,scrollToPage:this.scrollToPage.bind(this),scrollToNextPage:this.scrollToNextPage.bind(this),scrollToPreviousPage:this.scrollToPreviousPage.bind(this),getMetrics:this.getMetrics.bind(this),getLayout:this.getLayout.bind(this),getRectPositionForPage:this.getRectPositionForPage.bind(this),getPageGap:()=>this.state.pageGap,setScrollStrategy:e=>this.setScrollStrategy(e)}}scrollToPage(e){const{pageNumber:t,behavior:n="smooth",pageCoordinates:o,center:i=!1}=e;this.startPageChange(t,n);const r=this.getVirtualItemsFromState(),a=this.strategy.getScrollPositionForPage(t,r,this.currentScale,this.currentRotation,o);a?this.viewport.scrollTo({...a,behavior:n,center:i}):this.completePageChange()}scrollToNextPage(e="smooth"){const t=this.getVirtualItemsFromState(),n=t.findIndex((e=>e.pageNumbers.includes(this.currentPage)));if(n>=0&&n<t.length-1){const o=t[n+1],i=o.pageNumbers[0];this.startPageChange(i,e);const r=this.strategy.getScrollPositionForPage(o.pageNumbers[0],t,this.currentScale,this.currentRotation);r?this.viewport.scrollTo({...r,behavior:e}):this.completePageChange()}}scrollToPreviousPage(e="smooth"){const t=this.getVirtualItemsFromState(),n=t.findIndex((e=>e.pageNumbers.includes(this.currentPage)));if(n>0){const o=t[n-1],i=o.pageNumbers[0];this.startPageChange(i,e);const r=this.strategy.getScrollPositionForPage(o.pageNumbers[0],t,this.currentScale,this.currentRotation);r?this.viewport.scrollTo({...r,behavior:e}):this.completePageChange()}}getMetrics(e){const t=e||this.viewport.getMetrics(),n=this.getVirtualItemsFromState();return this.strategy.handleScroll(t,n,this.currentScale)}getLayout(){return{virtualItems:this.state.virtualItems,totalContentSize:this.state.totalContentSize}}getRectPositionForPage(e,t,n,o){return this.strategy.getRectPositionForPage(e+1,this.state.virtualItems,n??this.currentScale,o??this.currentRotation,t)}async initialize(){}async destroy(){this.layout$.clear(),this.scroll$.clear(),this.pageChange$.clear(),this.state$.clear(),this.scrollerLayout$.clear(),this.layoutReady$.clear(),this.pageChangeState$.clear(),super.destroy()}};So.id="scroll";let Mo=So;const Po="scroll",Io={currentPage:1,visiblePages:[],pageVisibilityMetrics:[],renderedPageIndexes:[],scrollOffset:{x:0,y:0},startSpacing:0,endSpacing:0},To={isChanging:!1,targetPage:1,fromPage:1,startTime:0},Ao={manifest:{id:Po,name:"Scroll Plugin",version:"1.0.0",provides:["scroll"],requires:["viewport"],optional:[],defaultConfig:{enabled:!0,pageGap:10}},create:(e,t)=>new Mo(Po,e,t),reducer:(e,t)=>{switch(t.type){case wo:return{...e,totalPages:t.payload};case Cn:return{...e,scale:t.payload};case bo:return{...e,...t.payload};case"SET_DESIRED_SCROLL_POSITION":return{...e,desiredScrollPosition:t.payload};case xo:return{...e,pageChangeState:t.payload};default:return e}},initialState:(e,t)=>((e,t)=>({virtualItems:[],totalPages:e.pages.length,totalContentSize:{width:0,height:0},desiredScrollPosition:{x:0,y:0},strategy:t.strategy??mo.Vertical,pageGap:t.pageGap??10,scale:e.scale,pageChangeState:To,...Io}))(e,t)},zo=()=>Kn(Mo.id);function Ro({renderPage:e,overlayElements:t,...n}){const{plugin:o}=Xn(Mo.id),{registry:i}=Yn(),[r,a]=ke((()=>(null==o?void 0:o.getScrollerLayout())??null));if(Ce((()=>{if(o)return o.onScrollerData(a)}),[o]),Ce((()=>{o&&o.setLayoutReady()}),[o]),!r)return null;if(!i)return null;const l=i.getStore().getState();return De("div",{...n,style:{width:`${r.totalWidth}px`,height:`${r.totalHeight}px`,position:"relative",boxSizing:"border-box",margin:"0 auto",...r.strategy===mo.Horizontal&&{display:"flex",flexDirection:"row"}},children:[De("div",{style:{...r.strategy===mo.Horizontal?{width:r.startSpacing,height:"100%",flexShrink:0}:{height:r.startSpacing,width:"100%"}}}),De("div",{style:{gap:r.pageGap,display:"flex",alignItems:"center",position:"relative",boxSizing:"border-box",...r.strategy===mo.Horizontal?{flexDirection:"row",minHeight:"100%"}:{flexDirection:"column",minWidth:"fit-content"}},children:r.items.map((t=>De("div",{style:{display:"flex",justifyContent:"center",gap:r.pageGap},children:t.pageLayouts.map((t=>De("div",{style:{width:`${t.rotatedWidth}px`,height:`${t.rotatedHeight}px`},children:e({...t,rotation:l.core.rotation,scale:l.core.scale,document:l.core.document})},t.pageNumber)))},t.pageNumbers[0])))}),De("div",{style:{...r.strategy===mo.Horizontal?{width:r.endSpacing,height:"100%",flexShrink:0}:{height:r.endSpacing,width:"100%"}}}),t]})}var Eo=(e=>(e.None="none",e.Odd="odd",e.Even="even",e))(Eo||{});const _o="SET_SPREAD_MODE";function No(e){return{type:_o,payload:e}}const Lo=class extends Ln{constructor(e,t,n){super(e,t),this.spreadEmitter$=Un(),this.resetReady(),this.dispatch(No(n.defaultSpreadMode??Eo.None));t.getPlugin("loader").provides().onDocumentLoaded((e=>this.documentLoaded(e)))}async initialize(e){e.defaultSpreadMode&&this.dispatch(No(e.defaultSpreadMode))}documentLoaded(e){this.dispatchCoreAction(Tn(this.getSpreadPagesObjects(e.pages))),this.markReady()}getSpreadPagesObjects(e){if(!e.length)return[];switch(this.state.spreadMode){case Eo.None:return e.map((e=>[e]));case Eo.Odd:return Array.from({length:Math.ceil(e.length/2)},((t,n)=>e.slice(2*n,2*n+2)));case Eo.Even:return[[e[0]],...Array.from({length:Math.ceil((e.length-1)/2)},((t,n)=>e.slice(1+2*n,1+2*n+2)))];default:return e.map((e=>[e]))}}setSpreadMode(e){const t=this.state.spreadMode,n=this.coreState.core.document;if(!n)throw new Error("Document not loaded");t!==e&&(this.dispatch(No(e)),this.dispatchCoreAction(Tn(this.getSpreadPagesObjects(n.pages))),this.notifySpreadChange(e))}notifySpreadChange(e){this.spreadEmitter$.emit(e)}buildCapability(){return{onSpreadChange:this.spreadEmitter$.on,setSpreadMode:e=>this.setSpreadMode(e),getSpreadMode:()=>this.state.spreadMode}}async destroy(){this.spreadEmitter$.clear()}};Lo.id="spread";let Do=Lo;const Oo="spread",Bo={id:Oo,name:"Spread Plugin",version:"1.0.0",provides:["spread"],requires:["loader"],optional:[],defaultConfig:{enabled:!0}},Ho={spreadMode:Eo.None},jo={manifest:Bo,create:(e,t)=>new Do(Oo,e,t),reducer:(e=Ho,t)=>t.type===_o?{...e,spreadMode:t.payload}:e,initialState:Ho};class $o{async load(e){const{pdfFile:t,options:n,engine:o}=e,i=o.openDocumentUrl(t,n);return new Promise(((e,t)=>{i.wait((t=>e(t)),(e=>{"abort"===e.type?t(new Error(`PDF loading aborted: ${e.reason}`)):t(new Error(`PDF loading failed: ${e.reason}`))}))}))}}class Fo{async load(e){const{pdfFile:t,options:n,engine:o}=e,i=o.openDocumentBuffer(t,n);return new Promise(((e,t)=>{i.wait((t=>e(t)),(e=>{"abort"===e.type?t(new Error(`PDF loading aborted: ${e.reason}`)):t(new Error(`PDF loading failed: ${e.reason}`))}))}))}}class Uo{constructor(){this.strategies=new Map,this.strategyResolvers=[];const e=new Fo;this.registerStrategy("url",new $o),this.registerStrategy("buffer",e),this.addStrategyResolver((e=>function(e){return"url"===e.type}(e)?this.strategies.get("url"):this.strategies.get("buffer")))}registerStrategy(e,t){this.strategies.set(e,t)}getStrategy(e){return this.strategies.get(e)}addStrategyResolver(e){this.strategyResolvers.push(e)}async loadDocument(e){try{const t=this.resolveStrategy(e);if(!t)throw new Error("No suitable strategy found for the given options");return await t.load(e)}catch(e){throw console.error("Error loading document:",e),e}}resolveStrategy(e){for(const t of this.strategyResolvers){const n=t(e);if(n)return n}}}const Wo=class extends Ln{constructor(e,t){super(e,t),this.id=e,this.loaderHandlers$=Un(),this.documentLoadedHandlers$=Un(),this.openFileRequest$=Fn(),this.documentLoader=new Uo}buildCapability(){return{onLoaderEvent:this.loaderHandlers$.on,onDocumentLoaded:this.documentLoadedHandlers$.on,onOpenFileRequest:this.openFileRequest$.on,openFileDialog:()=>this.openFileRequest$.emit("open"),loadDocument:e=>this.loadDocument(e),registerStrategy:(e,t)=>this.documentLoader.registerStrategy(e,t),getDocument:()=>this.loadedDocument,addStrategyResolver:e=>this.documentLoader.addStrategyResolver(e)}}async initialize(e){e.defaultStrategies&&Object.entries(e.defaultStrategies).forEach((([e,t])=>{this.documentLoader.registerStrategy(e,t)})),e.loadingOptions&&(this.loadingOptions=e.loadingOptions)}async postInitialize(){this.loadingOptions&&await this.loadDocument(this.loadingOptions)}async loadDocument(e){try{this.loadedDocument&&this.engine.closeDocument(this.loadedDocument),this.loaderHandlers$.emit({type:"start",documentId:e.pdfFile.id}),this.dispatchCoreAction({type:yn});const t=await this.documentLoader.loadDocument({...e,engine:this.engine});return this.dispatchCoreAction((e=>({type:xn,payload:e}))(t)),this.loadedDocument=t,this.loaderHandlers$.emit({type:"complete",documentId:e.pdfFile.id}),this.documentLoadedHandlers$.emit(t),t}catch(t){const n={type:"error",documentId:e.pdfFile.id,error:t instanceof Error?t:new Error(String(t))};throw this.loaderHandlers$.emit(n),t}}async destroy(){this.loaderHandlers$.clear(),this.documentLoadedHandlers$.clear(),this.openFileRequest$.clear(),super.destroy()}};Wo.id="loader";let qo=Wo;const Go="loader";const Zo=qn({manifest:{id:Go,name:"Loader Plugin",version:"1.0.0",provides:["loader"],requires:[],optional:[],metadata:{name:"Loader Plugin",description:"A plugin for loading PDF documents",version:"1.0.0",author:"EmbedPDF",license:"MIT"},defaultConfig:{enabled:!0}},create:e=>new qo(Go,e),reducer:()=>{},initialState:{}}).addUtility((function(){const{provides:e}=Kn(qo.id),t=Me(null);return Ce((()=>{if(!e)return;return e.onOpenFileRequest((e=>{"open"===e&&t.current&&t.current.click()}))}),[e]),De($,{children:De("input",{ref:t,type:"file",accept:"application/pdf",style:{display:"none"},onChange:async t=>{var n;const o=null==(n=t.currentTarget.files)?void 0:n[0];o&&e&&await e.loadDocument({type:"buffer",pdfFile:{id:Math.random().toString(36).substring(2,15),name:o.name,content:await o.arrayBuffer()}})}})})})).build();class Vo{constructor(e,t){this.children=[],this.updateCallbacks=[],this.hadUpdateBeforeListeners=!1,this.componentConfig=e;const n=e.props||{};if("function"==typeof n){const t=n(e.initialState);this.props={...t,id:e.id}}else this.props={...n,id:e.id};this.type=e.type,this.registry=t}addChild(e,t,n=0,o){this.children.push({id:e,component:t,priority:n,className:o}),this.sortChildren()}sortChildren(){this.children.sort(((e,t)=>e.priority-t.priority))}removeChild(e){this.children=this.children.filter((t=>t.component!==e))}clearChildren(){this.children=[]}get getRenderType(){return this.componentConfig.render||this.type}getRenderer(){return this.registry[this.getRenderType]}getChildren(){return this.children}getChildContext(e){const t=this.componentConfig.getChildContext;return"function"==typeof t?{...e,...t(this.props)}:t&&"object"==typeof t?{...e,...t}:e}update(e){const{id:t,...n}=e;this.props={...this.props,...n},0===this.updateCallbacks.length&&(this.hadUpdateBeforeListeners=!0),this.notifyUpdate()}onUpdate(e){return this.updateCallbacks.push(e),this.hadUpdateBeforeListeners}offUpdate(e){this.updateCallbacks=this.updateCallbacks.filter((t=>t!==e))}notifyUpdate(){this.updateCallbacks.forEach((e=>e()))}}const Yo="UI_INIT_COMPONENTS",Xo="UI_SET_HEADER_VISIBLE",Ko="UI_TOGGLE_PANEL",Qo="UI_SHOW_COMMAND_MENU",Jo="UI_HIDE_COMMAND_MENU",ei="UI_UPDATE_COMPONENT_STATE",ti=e=>({type:Jo,payload:e}),ni={panel:{},header:{},groupedItems:{},divider:{},iconButton:{},tabButton:{},selectButton:{},custom:{},floating:{},commandMenu:{}};function oi(e,t){const n=e=>"function"==typeof e?e(t):e;return"group"===e.type?{...e,label:n(e.label)??""}:{...e,icon:n(e.icon)??"",iconProps:n(e.iconProps)??{},label:n(e.label)??"",visible:n(e.visible)??!0,active:n(e.active)??!1,disabled:n(e.disabled)??!1}}function ii(e,t){const n=oi(e,t);return"group"!==n.type&&!!n.active}function ri(e,t){const n=oi(e,t);return"group"!==n.type&&!!n.disabled}function ai(e,t){const n=oi(e,t);return"group"===n.type?{}:n.iconProps??{}}const li=class e{constructor(e={},t){this.registry={},this.shortcutMap={},this.eventController=function(){const e=new Map;return{emit(t,n){const o=e.get(t);o&&o.forEach((e=>e(n)))},on(t,n){return e.has(t)||e.set(t,new Set),e.get(t).add(n),()=>this.off(t,n)},off(t,n){const o=e.get(t);o&&(o.delete(n),0===o.size&&e.delete(t))}}}(),this.pluginRegistry=t,this.registerItems(e),this.setupKeyboardListeners()}get state(){return this.pluginRegistry.getStore().getState()}registerItem(e){this.registry[e.id]&&console.warn(`Menu item with ID ${e.id} already exists and will be overwritten`),this.registry[e.id]=e,"shortcut"in e&&e.shortcut&&(this.shortcutMap[this.normalizeShortcut(e.shortcut)]=e.id)}registerItems(e){Object.values(e).forEach((e=>{this.registerItem(e)}))}resolve(e){return oi(this.registry[e],this.state)}getMenuItem(e){const t=this.resolve(e);if(t)return{item:t,isGroup:"group"===t.type,isMenu:"menu"===t.type,isAction:"action"===t.type}}getAction(e){const t=this.getMenuItem(e);if(t&&t.isAction)return t.item}getMenuOrAction(e){const t=this.getMenuItem(e);if(t)return t.item}getAllItems(){return{...this.registry}}getItemsByIds(e){return e.map((e=>this.resolve(e))).filter((e=>void 0!==e))}getChildItems(e,t={}){var n;const o=this.resolve(e);if(!o||!("children"in o)||!(null==(n=o.children)?void 0:n.length))return[];const i=this.getItemsByIds(o.children);if(!t.flatten)return i;const r=[];for(const e of i)if("group"===e.type)r.push(e);else if("menu"===e.type){const t=this.getChildItems(e.id,{flatten:!0});r.push(...t)}else r.push(e);return r}executeCommand(t,n={}){var o;const i=this.getMenuItem(t);if(!i)return void console.warn(`Menu item '${t}' not found`);if("group"===i.item.type)return void console.warn(`Cannot execute group '${t}'`);const{item:r}=i;r.disabled?console.warn(`Menu item '${t}' is disabled`):i.isAction?(r.action(this.pluginRegistry,this.state),this.eventController.emit(e.EVENTS.COMMAND_EXECUTED,{command:r,source:n.source||"api"})):"children"in r&&(null==(o=r.children)?void 0:o.length)&&this.handleSubmenu(r,n)}executeShortcut(t){const n=this.normalizeShortcut(t),o=this.shortcutMap[n];return!!o&&(this.executeCommand(o,{source:"shortcut"}),this.eventController.emit(e.EVENTS.SHORTCUT_EXECUTED,{shortcut:n,itemId:o}),!0)}on(e,t){return this.eventController.on(e,t)}off(e,t){this.eventController.off(e,t)}handleSubmenu(t,n){this.eventController.emit(e.EVENTS.MENU_REQUESTED,{menuId:t.id,triggerElement:n.triggerElement,position:n.position,flatten:n.flatten||!1})}setupKeyboardListeners(){if("undefined"==typeof window)return;document.addEventListener("keydown",(e=>{const t=e.target;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return;const n=this.buildShortcutString(e);n&&this.executeShortcut(n)&&e.preventDefault()}))}buildShortcutString(e){const t=[];e.ctrlKey&&t.push("Ctrl"),e.shiftKey&&t.push("Shift"),e.altKey&&t.push("Alt"),e.metaKey&&t.push("Meta");const n=e.key;if(!["Control","Shift","Alt","Meta"].includes(n)){const e=1===n.length?n.toUpperCase():n;return[...t,e].join("+")}return null}normalizeShortcut(e){return e.split("+").map((e=>e.trim())).join("+")}capabilities(){return{registerItem:this.registerItem.bind(this),registerItems:this.registerItems.bind(this),executeCommand:this.executeCommand.bind(this),getAction:this.getAction.bind(this),getMenuOrAction:this.getMenuOrAction.bind(this),getChildItems:this.getChildItems.bind(this),getItemsByIds:this.getItemsByIds.bind(this),getAllItems:this.getAllItems.bind(this)}}};li.EVENTS={COMMAND_EXECUTED:"menu:command_executed",MENU_REQUESTED:"menu:requested",SHORTCUT_EXECUTED:"menu:shortcut_executed"};let si=li;const ci=class extends Ln{constructor(e,t,n){super(e,t),this.componentRenderers={},this.components={},this.mapStateCallbacks={},this.globalStoreSubscription=()=>{},this.config=n,this.menuManager=new si(n.menuItems||{},this.registry),this.setupCommandEventHandlers(),this.globalStoreSubscription=this.registry.getStore().subscribe(((e,t)=>{this.onGlobalStoreChange(t)}))}async initialize(){this.buildComponents(),this.linkGroupedItems(),this.setInitialStateUIComponents()}setupCommandEventHandlers(){this.menuManager.on(si.EVENTS.MENU_REQUESTED,(e=>{var t;const{menuId:n,triggerElement:o,position:i,flatten:r}=e;if((null==(t=this.state.commandMenu.commandMenu)?void 0:t.activeCommand)===n)return this.dispatch(ti({id:"commandMenu"}));this.dispatch({type:Qo,payload:{id:"commandMenu",commandId:n,triggerElement:o,position:i,flatten:r}})})),this.menuManager.on(si.EVENTS.COMMAND_EXECUTED,(e=>{this.logger.debug("UIPlugin","CommandExecuted",`Command executed: ${e.command.id}`,{commandId:e.command.id,source:e.source})}))}addComponent(e,t){this.components[e]&&this.logger.warn("UIPlugin","ComponentAlreadyExists",`Component with ID ${e} already exists and will be overwritten`);const n=new Vo(t,this.componentRenderers);return this.components[e]=n,"function"==typeof t.mapStateToProps&&(this.mapStateCallbacks[e]=t.mapStateToProps),n}buildComponents(){Object.entries(this.config.components).forEach((([e,t])=>{this.addComponent(e,t)}))}linkGroupedItems(){Object.values(this.components).forEach((e=>{var t;if(ui(e)){const n=e.componentConfig;null==(t=n.slots)||t.forEach((t=>{const o=this.components[t.componentId];o?e.addChild(t.componentId,o,t.priority,t.className):this.logger.warn("UIPlugin","ChildComponentNotFound",`Child component ${t.componentId} not found for GroupedItems ${n.id}`)}))}}))}setInitialStateUIComponents(){const e=ni;Object.entries(this.config.components).forEach((([t,n])=>{n.initialState?e[n.type][t]=n.initialState:e[n.type][t]={}})),this.dispatch({type:Yo,payload:e})}onGlobalStoreChange(e){for(const[t,n]of Object.entries(this.components)){const o=this.mapStateCallbacks[t];if(!o)continue;const{id:i,...r}=n.props,a=o(e,r);Bn(r,{...r,...a})||n.update(a)}}addSlot(e,t,n,o){const i=this.components[e];if(!i)return void this.logger.error("UIPlugin","ParentComponentNotFound",`Parent component ${e} not found`);if(!ui(i))return void this.logger.error("UIPlugin","ParentComponentDoesNotSupportSlots",`Parent component ${e} does not support slots`);const r=this.components[t];if(!r)return void this.logger.error("UIPlugin","ChildComponentNotFound",`Child component ${t} not found`);const a=i.getChildren();let l=n;if(void 0===l){l=(a.length>0?Math.max(...a.map((e=>e.priority))):0)+10}i.addChild(t,r,l,o)}buildCapability(){return{registerComponentRenderer:(e,t)=>{this.componentRenderers[e]=t},getComponent:e=>this.components[e],registerComponent:this.addComponent.bind(this),getCommandMenu:()=>Object.values(this.components).find((e=>function(e){return"commandMenu"===e.type}(e))),hideCommandMenu:()=>this.cooldownDispatch(ti({id:"commandMenu"}),100),getFloatingComponents:e=>Object.values(this.components).filter((e=>gi(e))).filter((t=>!e||t.props.scrollerPosition===e)),getHeadersByPlacement:e=>Object.values(this.components).filter((e=>hi(e))).filter((t=>t.props.placement===e)),getPanelsByLocation:e=>Object.values(this.components).filter((e=>pi(e))).filter((t=>t.props.location===e)),addSlot:this.addSlot.bind(this),togglePanel:e=>{this.dispatch((e=>({type:Ko,payload:e}))(e))},setHeaderVisible:e=>{this.dispatch((e=>({type:Xo,payload:e}))(e))},updateComponentState:e=>{this.dispatch((e=>({type:ei,payload:e}))(e))},...this.menuManager.capabilities()}}async destroy(){this.globalStoreSubscription(),this.components={},this.componentRenderers={},this.mapStateCallbacks={}}};ci.id="ui";let di=ci;function ui(e){return function(e){return"groupedItems"===e.type}(e)||hi(e)||pi(e)||gi(e)||function(e){return"custom"===e.type}(e)}function hi(e){return"header"===e.type}function pi(e){return"panel"===e.type}function gi(e){return"floating"===e.type}const mi="ui",fi={manifest:{id:mi,name:"UI Plugin",version:"1.0.0",provides:["ui"],requires:[],optional:[],defaultConfig:{enabled:!0,components:{}}},create:(e,t)=>new di(mi,e,t),reducer:(e=ni,t)=>{switch(t.type){case Yo:return{...e,...t.payload};case Ko:{const n=e.panel[t.payload.id]||{},{open:o,visibleChild:i}=t.payload,r=n.visibleChild;let a=n.open,l=n.visibleChild;return i===r?a=void 0!==o?o:!n.open:(l=i,a=!0),{...e,panel:{...e.panel,[t.payload.id]:{...n,open:a,visibleChild:l}}}}case Xo:return{...e,header:{...e.header,[t.payload.id]:{...e.header[t.payload.id],visible:t.payload.visible,visibleChild:t.payload.visibleChild}}};case Qo:return{...e,commandMenu:{...e.commandMenu,[t.payload.id]:{activeCommand:t.payload.commandId,triggerElement:t.payload.triggerElement,position:t.payload.position,open:!0,flatten:t.payload.flatten}}};case Jo:return{...e,commandMenu:{...e.commandMenu,[t.payload.id]:{...e.commandMenu[t.payload.id],open:!1,activeCommand:null,triggerElement:void 0,position:void 0,flatten:!1}}};case ei:{const{componentType:n,componentId:o,patch:i}=t.payload;if(!e[n]||!e[n][o])return e;const r=e[n][o],a=Object.fromEntries(Object.entries(i).filter((([e])=>e in r)));return 0===Object.keys(a).length?e:{...e,[n]:{...e[n],[o]:{...r,...a}}}}default:return e}},initialState:ni},vi=()=>Kn(di.id);function yi({component:e,parentContext:t={}}){const[n,o]=ke({});Ce((()=>{const t=()=>o({});return e.onUpdate(t)&&o({}),()=>e.offUpdate(t)}),[e]);const i=e.getChildContext(t),r=e.getRenderer();if(!r)throw new Error(`No renderer for type: ${e.getRenderType}`);return r(e.props,(function(t){const n=(null==t?void 0:t.context)?{...i,...t.context}:i;return e.getChildren().filter((({id:e})=>!(null==t?void 0:t.filter)||t.filter(e))).map((({component:e,id:t,className:o})=>o?De("div",{className:o,children:De(yi,{component:e,parentContext:n},t)}):De(yi,{component:e,parentContext:n},t)))}),i)}function bi({children:e}){const{provides:t}=vi(),n=e=>e.map((e=>De(yi,{component:e},e.props.id)));return e({headers:{top:n((null==t?void 0:t.getHeadersByPlacement("top"))||[]),bottom:n((null==t?void 0:t.getHeadersByPlacement("bottom"))||[]),left:n((null==t?void 0:t.getHeadersByPlacement("left"))||[]),right:n((null==t?void 0:t.getHeadersByPlacement("right"))||[])},panels:{left:n((null==t?void 0:t.getPanelsByLocation("left"))||[]),right:n((null==t?void 0:t.getPanelsByLocation("right"))||[])},floating:{insideScroller:n((null==t?void 0:t.getFloatingComponents("inside"))||[]),outsideScroller:n((null==t?void 0:t.getFloatingComponents("outside"))||[])},commandMenu:(null==t?void 0:t.getCommandMenu())?De(yi,{component:t.getCommandMenu()}):null})}var wi=["id","children","onClick","active","disabled","className","tooltip","ref"];function xi(e){var t=e.id,n=e.children,o=e.onClick,i=e.active,r=void 0!==i&&i,a=e.disabled,l=void 0!==a&&a,s=e.className,c=void 0===s?"":s,d=e.tooltip,u=e.ref,g=p(e,wi);return H("button",h({id:t,ref:u,onClick:o,className:"flex h-[32px] w-auto min-w-[32px] items-center justify-center rounded-md p-[5px] transition-colors ".concat(r?"border-none bg-blue-50 text-blue-500 shadow ring ring-blue-500":"hover:bg-gray-100 hover:ring hover:ring-[#1a466b]"," ").concat(l?"cursor-not-allowed opacity-50 hover:bg-transparent hover:ring-0":"cursor-pointer"," ").concat(c," "),title:d},g),n)}const ki=Math.min,Ci=Math.max,Si=Math.round,Mi=Math.floor,Pi=e=>({x:e,y:e}),Ii={left:"right",right:"left",bottom:"top",top:"bottom"},Ti={start:"end",end:"start"};function Ai(e,t,n){return Ci(e,ki(t,n))}function zi(e,t){return"function"==typeof e?e(t):e}function Ri(e){return e.split("-")[0]}function Ei(e){return e.split("-")[1]}function _i(e){return"x"===e?"y":"x"}function Ni(e){return"y"===e?"height":"width"}function Li(e){return["top","bottom"].includes(Ri(e))?"y":"x"}function Di(e){return _i(Li(e))}function Oi(e){return e.replace(/start|end/g,(e=>Ti[e]))}function Bi(e){return e.replace(/left|right|bottom|top/g,(e=>Ii[e]))}function Hi(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function ji(e){const{x:t,y:n,width:o,height:i}=e;return{width:o,height:i,top:n,left:t,right:t+o,bottom:n+i,x:t,y:n}}function $i(e,t,n){let{reference:o,floating:i}=e;const r=Li(t),a=Di(t),l=Ni(a),s=Ri(t),c="y"===r,d=o.x+o.width/2-i.width/2,u=o.y+o.height/2-i.height/2,h=o[l]/2-i[l]/2;let p;switch(s){case"top":p={x:d,y:o.y-i.height};break;case"bottom":p={x:d,y:o.y+o.height};break;case"right":p={x:o.x+o.width,y:u};break;case"left":p={x:o.x-i.width,y:u};break;default:p={x:o.x,y:o.y}}switch(Ei(t)){case"start":p[a]-=h*(n&&c?-1:1);break;case"end":p[a]+=h*(n&&c?-1:1)}return p}async function Fi(e,t){var n;void 0===t&&(t={});const{x:o,y:i,platform:r,rects:a,elements:l,strategy:s}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:p=0}=zi(t,e),g=Hi(p),m=l[h?"floating"===u?"reference":"floating":u],f=ji(await r.getClippingRect({element:null==(n=await(null==r.isElement?void 0:r.isElement(m)))||n?m:m.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:s})),v="floating"===u?{x:o,y:i,width:a.floating.width,height:a.floating.height}:a.reference,y=await(null==r.getOffsetParent?void 0:r.getOffsetParent(l.floating)),b=await(null==r.isElement?void 0:r.isElement(y))&&await(null==r.getScale?void 0:r.getScale(y))||{x:1,y:1},w=ji(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:y,strategy:s}):v);return{top:(f.top-w.top+g.top)/b.y,bottom:(w.bottom-f.bottom+g.bottom)/b.y,left:(f.left-w.left+g.left)/b.x,right:(w.right-f.right+g.right)/b.x}}function Ui(){return"undefined"!=typeof window}function Wi(e){return Zi(e)?(e.nodeName||"").toLowerCase():"#document"}function qi(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Gi(e){var t;return null==(t=(Zi(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Zi(e){return!!Ui()&&(e instanceof Node||e instanceof qi(e).Node)}function Vi(e){return!!Ui()&&(e instanceof Element||e instanceof qi(e).Element)}function Yi(e){return!!Ui()&&(e instanceof HTMLElement||e instanceof qi(e).HTMLElement)}function Xi(e){return!(!Ui()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof qi(e).ShadowRoot)}function Ki(e){const{overflow:t,overflowX:n,overflowY:o,display:i}=or(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(i)}function Qi(e){return["table","td","th"].includes(Wi(e))}function Ji(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function er(e){const t=tr(),n=Vi(e)?or(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function tr(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function nr(e){return["html","body","#document"].includes(Wi(e))}function or(e){return qi(e).getComputedStyle(e)}function ir(e){return Vi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function rr(e){if("html"===Wi(e))return e;const t=e.assignedSlot||e.parentNode||Xi(e)&&e.host||Gi(e);return Xi(t)?t.host:t}function ar(e){const t=rr(e);return nr(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yi(t)&&Ki(t)?t:ar(t)}function lr(e,t,n){var o;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=ar(e),r=i===(null==(o=e.ownerDocument)?void 0:o.body),a=qi(i);if(r){const e=sr(a);return t.concat(a,a.visualViewport||[],Ki(i)?i:[],e&&n?lr(e):[])}return t.concat(i,lr(i,[],n))}function sr(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function cr(e){const t=or(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const i=Yi(e),r=i?e.offsetWidth:n,a=i?e.offsetHeight:o,l=Si(n)!==r||Si(o)!==a;return l&&(n=r,o=a),{width:n,height:o,$:l}}function dr(e){return Vi(e)?e:e.contextElement}function ur(e){const t=dr(e);if(!Yi(t))return Pi(1);const n=t.getBoundingClientRect(),{width:o,height:i,$:r}=cr(t);let a=(r?Si(n.width):n.width)/o,l=(r?Si(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),l&&Number.isFinite(l)||(l=1),{x:a,y:l}}const hr=Pi(0);function pr(e){const t=qi(e);return tr()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:hr}function gr(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),r=dr(e);let a=Pi(1);t&&(o?Vi(o)&&(a=ur(o)):a=ur(e));const l=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==qi(e))&&t}(r,n,o)?pr(r):Pi(0);let s=(i.left+l.x)/a.x,c=(i.top+l.y)/a.y,d=i.width/a.x,u=i.height/a.y;if(r){const e=qi(r),t=o&&Vi(o)?qi(o):o;let n=e,i=sr(n);for(;i&&o&&t!==n;){const e=ur(i),t=i.getBoundingClientRect(),o=or(i),r=t.left+(i.clientLeft+parseFloat(o.paddingLeft))*e.x,a=t.top+(i.clientTop+parseFloat(o.paddingTop))*e.y;s*=e.x,c*=e.y,d*=e.x,u*=e.y,s+=r,c+=a,n=qi(i),i=sr(n)}}return ji({width:d,height:u,x:s,y:c})}function mr(e,t){const n=ir(e).scrollLeft;return t?t.left+n:gr(Gi(e)).left+n}function fr(e,t,n){void 0===n&&(n=!1);const o=e.getBoundingClientRect();return{x:o.left+t.scrollLeft-(n?0:mr(e,o)),y:o.top+t.scrollTop}}function vr(e,t,n){let o;if("viewport"===t)o=function(e,t){const n=qi(e),o=Gi(e),i=n.visualViewport;let r=o.clientWidth,a=o.clientHeight,l=0,s=0;if(i){r=i.width,a=i.height;const e=tr();(!e||e&&"fixed"===t)&&(l=i.offsetLeft,s=i.offsetTop)}return{width:r,height:a,x:l,y:s}}(e,n);else if("document"===t)o=function(e){const t=Gi(e),n=ir(e),o=e.ownerDocument.body,i=Ci(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),r=Ci(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let a=-n.scrollLeft+mr(e);const l=-n.scrollTop;return"rtl"===or(o).direction&&(a+=Ci(t.clientWidth,o.clientWidth)-i),{width:i,height:r,x:a,y:l}}(Gi(e));else if(Vi(t))o=function(e,t){const n=gr(e,!0,"fixed"===t),o=n.top+e.clientTop,i=n.left+e.clientLeft,r=Yi(e)?ur(e):Pi(1);return{width:e.clientWidth*r.x,height:e.clientHeight*r.y,x:i*r.x,y:o*r.y}}(t,n);else{const n=pr(e);o={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return ji(o)}function yr(e,t){const n=rr(e);return!(n===t||!Vi(n)||nr(n))&&("fixed"===or(n).position||yr(n,t))}function br(e,t,n){const o=Yi(t),i=Gi(t),r="fixed"===n,a=gr(e,!0,r,t);let l={scrollLeft:0,scrollTop:0};const s=Pi(0);if(o||!o&&!r)if(("body"!==Wi(t)||Ki(i))&&(l=ir(t)),o){const e=gr(t,!0,r,t);s.x=e.x+t.clientLeft,s.y=e.y+t.clientTop}else i&&(s.x=mr(i));const c=!i||o||r?Pi(0):fr(i,l);return{x:a.left+l.scrollLeft-s.x-c.x,y:a.top+l.scrollTop-s.y-c.y,width:a.width,height:a.height}}function wr(e){return"static"===or(e).position}function xr(e,t){if(!Yi(e)||"fixed"===or(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Gi(e)===n&&(n=n.ownerDocument.body),n}function kr(e,t){const n=qi(e);if(Ji(e))return n;if(!Yi(e)){let t=rr(e);for(;t&&!nr(t);){if(Vi(t)&&!wr(t))return t;t=rr(t)}return n}let o=xr(e,t);for(;o&&Qi(o)&&wr(o);)o=xr(o,t);return o&&nr(o)&&wr(o)&&!er(o)?n:o||function(e){let t=rr(e);for(;Yi(t)&&!nr(t);){if(er(t))return t;if(Ji(t))return null;t=rr(t)}return null}(e)||n}const Cr={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:o,strategy:i}=e;const r="fixed"===i,a=Gi(o),l=!!t&&Ji(t.floating);if(o===a||l&&r)return n;let s={scrollLeft:0,scrollTop:0},c=Pi(1);const d=Pi(0),u=Yi(o);if((u||!u&&!r)&&(("body"!==Wi(o)||Ki(a))&&(s=ir(o)),Yi(o))){const e=gr(o);c=ur(o),d.x=e.x+o.clientLeft,d.y=e.y+o.clientTop}const h=!a||u||r?Pi(0):fr(a,s,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-s.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-s.scrollTop*c.y+d.y+h.y}},getDocumentElement:Gi,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:o,strategy:i}=e;const r=[..."clippingAncestors"===n?Ji(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let o=lr(e,[],!1).filter((e=>Vi(e)&&"body"!==Wi(e))),i=null;const r="fixed"===or(e).position;let a=r?rr(e):e;for(;Vi(a)&&!nr(a);){const t=or(a),n=er(a);n||"fixed"!==t.position||(i=null),(r?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||Ki(a)&&!n&&yr(e,a))?o=o.filter((e=>e!==a)):i=t,a=rr(a)}return t.set(e,o),o}(t,this._c):[].concat(n),o],a=r[0],l=r.reduce(((e,n)=>{const o=vr(t,n,i);return e.top=Ci(o.top,e.top),e.right=ki(o.right,e.right),e.bottom=ki(o.bottom,e.bottom),e.left=Ci(o.left,e.left),e}),vr(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:kr,getElementRects:async function(e){const t=this.getOffsetParent||kr,n=this.getDimensions,o=await n(e.floating);return{reference:br(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=cr(e);return{width:t,height:n}},getScale:ur,isElement:Vi,isRTL:function(e){return"rtl"===or(e).direction}};function Sr(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Mr(e,t,n,o){void 0===o&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:s=!1}=o,c=dr(e),d=i||r?[...c?lr(c):[],...lr(t)]:[];d.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),r&&e.addEventListener("resize",n)}));const u=c&&l?function(e,t){let n,o=null;const i=Gi(e);function r(){var e;clearTimeout(n),null==(e=o)||e.disconnect(),o=null}return function a(l,s){void 0===l&&(l=!1),void 0===s&&(s=1),r();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:p}=c;if(l||t(),!h||!p)return;const g={rootMargin:-Mi(u)+"px "+-Mi(i.clientWidth-(d+h))+"px "+-Mi(i.clientHeight-(u+p))+"px "+-Mi(d)+"px",threshold:Ci(0,ki(1,s))||1};let m=!0;function f(t){const o=t[0].intersectionRatio;if(o!==s){if(!m)return a();o?a(!1,o):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}1!==o||Sr(c,e.getBoundingClientRect())||a(),m=!1}try{o=new IntersectionObserver(f,{...g,root:i.ownerDocument})}catch(e){o=new IntersectionObserver(f,g)}o.observe(e)}(!0),r}(c,n):null;let h,p=-1,g=null;a&&(g=new ResizeObserver((e=>{let[o]=e;o&&o.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var e;null==(e=g)||e.observe(t)}))),n()})),c&&!s&&g.observe(c),g.observe(t));let m=s?gr(e):null;return s&&function t(){const o=gr(e);m&&!Sr(m,o)&&n();m=o,h=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach((e=>{i&&e.removeEventListener("scroll",n),r&&e.removeEventListener("resize",n)})),null==u||u(),null==(e=g)||e.disconnect(),g=null,s&&cancelAnimationFrame(h)}}const Pr=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:i,y:r,placement:a,middlewareData:l}=t,s=await async function(e,t){const{placement:n,platform:o,elements:i}=e,r=await(null==o.isRTL?void 0:o.isRTL(i.floating)),a=Ri(n),l=Ei(n),s="y"===Li(n),c=["left","top"].includes(a)?-1:1,d=r&&s?-1:1,u=zi(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&"number"==typeof g&&(p="end"===l?-1*g:g),s?{x:p*d,y:h*c}:{x:h*c,y:p*d}}(t,e);return a===(null==(n=l.offset)?void 0:n.placement)&&null!=(o=l.arrow)&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:a}}}}},Ir=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:i}=t,{mainAxis:r=!0,crossAxis:a=!1,limiter:l={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...s}=zi(e,t),c={x:n,y:o},d=await Fi(t,s),u=Li(Ri(i)),h=_i(u);let p=c[h],g=c[u];if(r){const e="y"===h?"bottom":"right";p=Ai(p+d["y"===h?"top":"left"],p,p-d[e])}if(a){const e="y"===u?"bottom":"right";g=Ai(g+d["y"===u?"top":"left"],g,g-d[e])}const m=l.fn({...t,[h]:p,[u]:g});return{...m,data:{x:m.x-n,y:m.y-o,enabled:{[h]:r,[u]:a}}}}}},Tr=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:i,middlewareData:r,rects:a,initialPlacement:l,platform:s,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...f}=zi(e,t);if(null!=(n=r.arrow)&&n.alignmentOffset)return{};const v=Ri(i),y=Li(l),b=Ri(l)===l,w=await(null==s.isRTL?void 0:s.isRTL(c.floating)),x=h||(b||!m?[Bi(l)]:function(e){const t=Bi(e);return[Oi(e),t,Oi(t)]}(l)),k="none"!==g;!h&&k&&x.push(...function(e,t,n,o){const i=Ei(e);let r=function(e,t,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:o:t?o:i;case"left":case"right":return t?r:a;default:return[]}}(Ri(e),"start"===n,o);return i&&(r=r.map((e=>e+"-"+i)),t&&(r=r.concat(r.map(Oi)))),r}(l,m,g,w));const C=[l,...x],S=await Fi(t,f),M=[];let P=(null==(o=r.flip)?void 0:o.overflows)||[];if(d&&M.push(S[v]),u){const e=function(e,t,n){void 0===n&&(n=!1);const o=Ei(e),i=Di(e),r=Ni(i);let a="x"===i?o===(n?"end":"start")?"right":"left":"start"===o?"bottom":"top";return t.reference[r]>t.floating[r]&&(a=Bi(a)),[a,Bi(a)]}(i,a,w);M.push(S[e[0]],S[e[1]])}if(P=[...P,{placement:i,overflows:M}],!M.every((e=>e<=0))){var I,T;const e=((null==(I=r.flip)?void 0:I.index)||0)+1,t=C[e];if(t)return{data:{index:e,overflows:P},reset:{placement:t}};let n=null==(T=P.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:T.placement;if(!n)switch(p){case"bestFit":{var A;const e=null==(A=P.filter((e=>{if(k){const t=Li(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:A[0];e&&(n=e);break}case"initialPlacement":n=l}if(i!==n)return{reset:{placement:n}}}return{}}}},Ar=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:i,rects:r,platform:a,elements:l,middlewareData:s}=t,{element:c,padding:d=0}=zi(e,t)||{};if(null==c)return{};const u=Hi(d),h={x:n,y:o},p=Di(i),g=Ni(p),m=await a.getDimensions(c),f="y"===p,v=f?"top":"left",y=f?"bottom":"right",b=f?"clientHeight":"clientWidth",w=r.reference[g]+r.reference[p]-h[p]-r.floating[g],x=h[p]-r.reference[p],k=await(null==a.getOffsetParent?void 0:a.getOffsetParent(c));let C=k?k[b]:0;C&&await(null==a.isElement?void 0:a.isElement(k))||(C=l.floating[b]||r.floating[g]);const S=w/2-x/2,M=C/2-m[g]/2-1,P=ki(u[v],M),I=ki(u[y],M),T=P,A=C-m[g]-I,z=C/2-m[g]/2+S,R=Ai(T,z,A),E=!s.arrow&&null!=Ei(i)&&z!==R&&r.reference[g]/2-(z<T?P:I)-m[g]/2<0,_=E?z<T?z-T:z-A:0;return{[p]:h[p]+_,data:{[p]:R,centerOffset:z-R-_,...E&&{alignmentOffset:_}},reset:E}}}),zr=(e,t,n)=>{const o=new Map,i={platform:Cr,...n},r={...i.platform,_c:o};return(async(e,t,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:a}=n,l=r.filter(Boolean),s=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:u}=$i(c,o,s),h=o,p={},g=0;for(let n=0;n<l.length;n++){const{name:r,fn:m}=l[n],{x:f,y:v,data:y,reset:b}=await m({x:d,y:u,initialPlacement:o,placement:h,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});d=null!=f?f:d,u=null!=v?v:u,p={...p,[r]:{...p[r],...y}},b&&g<=50&&(g++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:d,y:u}=$i(c,h,s))),n=-1)}return{x:d,y:u,placement:h,strategy:i,middlewareData:p}})(e,t,{...i,platform:r})};var Rr=function(){function e(){return o(this,e),n(this,e,arguments)}return c(e,F),r(e,[{key:"render",value:function(){return this.props.children}}])}();function Er(e){var t=e.children,n=e.content,o=e.position,i=void 0===o?"top":o,r=e.className,a=void 0===r?"":r,s=e.delay,c=void 0===s?200:s,d=e.style,u=void 0===d?"dark":d,h=e.trigger,p=void 0===h?"hover":h,g=Me(null),m=Me(null),v=Me(null),y=f(ke(!1),2),b=y[0],w=y[1],x=Me(null);return Ce((function(){var e;if(null!==(e=g.current)&&void 0!==e&&e.base&&m.current)return Mr(g.current.base,m.current,(function(){zr(g.current.base,m.current,{placement:i,middleware:[Pr(8),Tr(),Ir({padding:8}),Ar({element:v.current,padding:6})]}).then((function(e){var t,n=e.x,o=e.y,i=e.placement,r=e.middlewareData;Object.assign(m.current.style,{left:"".concat(n,"px"),top:"".concat(o,"px")});var a=null!==(t=r.arrow)&&void 0!==t?t:{},s=a.x,c=a.y,d={top:"bottom",bottom:"top",left:"right",right:"left"}[i.split("-")[0]];Object.assign(v.current.style,l({left:null!=s?"".concat(s,"px"):"",top:null!=c?"".concat(c,"px"):"",right:"",bottom:""},d,"-4px"))}))}))}),[i,b]),Ce((function(){var e,t=null===(e=g.current)||void 0===e?void 0:e.base,n=m.current;if(t&&n){var o=function(){x.current&&clearTimeout(x.current)},i=function(){o(),x.current=setTimeout((function(){return w(!0)}),c)},r=function(){o(),w(!1)},a=function(){return w((function(e){return!e}))};return"hover"===p?(t.addEventListener("mouseenter",i),t.addEventListener("mouseleave",r),n.addEventListener("mouseenter",i),n.addEventListener("mouseleave",r),t.addEventListener("pointerdown",r)):"click"===p&&t.addEventListener("click",a),"none"===p&&(x.current&&clearTimeout(x.current),w(!1)),function(){o(),"hover"===p?(t.removeEventListener("mouseenter",i),t.removeEventListener("mouseleave",r),n.removeEventListener("mouseenter",i),n.removeEventListener("mouseleave",r),t.removeEventListener("pointerdown",r)):"click"===p&&t.removeEventListener("click",a)}}}),[p,c]),H($,null,H("div",{ref:m,role:"tooltip",className:"z-100 pointer-events-none absolute select-none whitespace-nowrap rounded-lg px-3 py-2 text-sm shadow-md transition-opacity duration-150 ".concat("dark"===u?"bg-gray-900 text-white":"border border-gray-200 bg-white text-gray-900"," ").concat(b?"opacity-100":"opacity-0"," ").concat(a," "),style:{visibility:b?"visible":"hidden"}},n,H("div",{ref:v,className:"absolute h-2 w-2 rotate-45 bg-inherit ".concat("light"===u?"border border-gray-200":""," ")})),H(Rr,{ref:g},t))}function _r(e){var t=e.open,n=e.trigger,o=e.children,i=e.placement,r=void 0===i?"bottom-start":i,a=e.offsetSkidding,l=void 0===a?-2:a,s=e.offsetDistance,c=void 0===s?5:s,d=e.delay,u=void 0===d?0:d,p=e.onShow,g=e.onHide,m=e.className,v=Me(null),y=f(ke({x:0,y:0}),2),b=y[0],w=y[1],x=function(e){return e&&{top:"top-start",bottom:"bottom-start",left:"left-start",right:"right-start"}[e]||e||"bottom-start"}(r);return Ce((function(){var e=n,o=v.current;if(o&&(t?(o.style.display="block",null==p||p()):(u?setTimeout((function(){return o.style.display="none"}),u):o.style.display="none",null==g||g()),e&&t)){var i=Mr(e,o,(function(){zr(e,o,{placement:x,strategy:"absolute",middleware:[Pr({mainAxis:c,crossAxis:l}),Tr(),Ir({padding:8})]}).then((function(e){var t=e.x,n=e.y;w({x:t,y:n})}))}));return function(){return i()}}}),[t,n,r,l,c,u]),Ce((function(){if(t){var e=v.current;if(e){var o=function(t){var o,i,r=null!==(o=null===(i=t.composedPath)||void 0===i?void 0:i.call(t))&&void 0!==o?o:[t.target];n&&r.includes(n)||r.includes(e)||null==g||g()};return window.addEventListener("pointerdown",o,!0),function(){return window.removeEventListener("pointerdown",o,!0)}}}}),[t,n,g]),H("div",{ref:v,style:h({},n&&{display:"none",left:"".concat(b.x,"px"),top:"".concat(b.y,"px")}),className:"absolute z-50 min-w-[8rem] divide-y divide-gray-100 rounded-lg border border-[#cfd4da] bg-white shadow-sm transition-opacity duration-150 focus:outline-none ".concat(t?"opacity-100":"opacity-0"," ").concat(!n&&"bottom-0 left-0 right-0"," ").concat(m," ")},H("div",{className:"flex flex-col py-2"},o))}var Nr=(e=>(e.Automatic="automatic",e.FitPage="fit-page",e.FitWidth="fit-width",e))(Nr||{}),Lr=(e=>(e[e.Center=0]="Center",e[e.Top=1]="Top",e))(Lr||{});const Dr="zoom",Or={id:Dr,name:"Zoom Plugin",version:"1.0.0",provides:["zoom"],requires:["viewport","scroll"],optional:["interaction-manager"],defaultConfig:{enabled:!0,defaultZoomLevel:Nr.Automatic,minZoom:.2,maxZoom:60,zoomStep:.1,zoomRanges:[{min:.2,max:.5,step:.05},{min:.5,max:1,step:.1},{min:1,max:2,step:.2},{min:2,max:4,step:.4},{min:4,max:10,step:.8},{min:10,max:20,step:1.6},{min:20,max:40,step:3.2},{min:40,max:60,step:6.4}],presets:[{name:"Fit Page",value:Nr.FitPage},{name:"Fit Width",value:Nr.FitWidth},{name:"Automatic",value:Nr.Automatic},{name:"25%",value:.25},{name:"50%",value:.5},{name:"100%",value:1},{name:"125%",value:1.25},{name:"150%",value:1.5},{name:"200%",value:2},{name:"400%",value:4},{name:"800%",value:8},{name:"1600%",value:16}]}},Br="SET_ZOOM_LEVEL",Hr="SET_INITIAL_ZOOM_LEVEL";const jr={zoomLevel:Nr.Automatic,currentZoomLevel:1};const $r=class extends Ln{constructor(e,t,n){var o;super(e,t),this.zoom$=Fn(),this.state$=Un(),this.viewportPlugin=t.getPlugin("viewport"),this.viewport=this.viewportPlugin.provides(),this.scroll=t.getPlugin("scroll").provides();const i=t.getPlugin("interaction-manager");var r;this.interactionManager=(null==i?void 0:i.provides())??null,this.minZoom=n.minZoom??.25,this.maxZoom=n.maxZoom??10,this.zoomStep=n.zoomStep??.1,this.presets=n.presets??[],this.zoomRanges=this.normalizeRanges(n.zoomRanges??[]),this.dispatch((r=n.defaultZoomLevel,{type:Hr,payload:{zoomLevel:r}})),this.viewport.onViewportResize((()=>this.recalcAuto(Lr.Top)),{mode:"debounce",wait:150}),this.coreStore.onAction(Sn,(()=>this.recalcAuto(Lr.Top))),this.coreStore.onAction(Mn,(()=>this.recalcAuto(Lr.Top))),this.coreStore.onAction(xn,(()=>this.recalcAuto(Lr.Top))),null==(o=this.interactionManager)||o.registerMode({id:"marqueeZoom",scope:"page",exclusive:!0,cursor:"zoom-in"}),this.resetReady()}buildCapability(){return{onZoomChange:this.zoom$.on,onStateChange:this.state$.on,zoomIn:()=>this.zoomIn(),zoomOut:()=>this.zoomOut(),zoomToArea:(e,t)=>this.zoomToArea(e,t),requestZoom:(e,t)=>this.handleRequest({level:e,center:t}),requestZoomBy:(e,t)=>{const n=this.state.currentZoomLevel,o=this.toZoom(n+e);return this.handleRequest({level:o,center:t})},enableMarqueeZoom:()=>{var e;null==(e=this.interactionManager)||e.activate("marqueeZoom")},disableMarqueeZoom:()=>{var e;null==(e=this.interactionManager)||e.activateDefaultMode()},toggleMarqueeZoom:()=>{var e,t,n;"marqueeZoom"===(null==(e=this.interactionManager)?void 0:e.getActiveMode())?null==(t=this.interactionManager)||t.activateDefaultMode():null==(n=this.interactionManager)||n.activate("marqueeZoom")},isMarqueeZoomActive:()=>{var e;return"marqueeZoom"===(null==(e=this.interactionManager)?void 0:e.getActiveMode())},registerMarqueeOnPage:e=>this.registerMarqueeOnPage(e),getState:()=>this.state,getPresets:()=>this.presets}}zoomOut(){const e=this.state.currentZoomLevel;return this.handleRequest({level:e,delta:-this.stepFor(e)})}zoomIn(){const e=this.state.currentZoomLevel;return this.handleRequest({level:e,delta:this.stepFor(e)})}zoomToArea(e,t){this.handleZoomToArea(e,t)}async initialize(){this.markReady()}async destroy(){this.zoom$.clear()}normalizeRanges(e){return[...e].filter((e=>e.step>0&&e.max>e.min)).sort(((e,t)=>e.min-t.min))}stepFor(e){const t=this.zoomRanges.find((t=>e>=t.min&&e<t.max));return t?t.step:this.zoomStep}toZoom(e){return parseFloat(On(e,this.minZoom,this.maxZoom).toFixed(2))}handleRequest({level:e,delta:t=0,center:n,focus:o=Lr.Center,align:i="keep"}){const r=this.viewport.getMetrics(),a=this.state.currentZoomLevel;if(0===r.clientWidth||0===r.clientHeight)return;const l="number"==typeof e?e:this.computeZoomForMode(e,r);if(!1===l)return;const s=On(l+t,this.minZoom,this.maxZoom),c=Math.floor(1e3*s)/1e3,d=n??{vx:r.clientWidth/2,vy:o===Lr.Top?0:r.clientHeight/2},{desiredScrollLeft:u,desiredScrollTop:h}=this.computeScrollForZoomChange(r,a,c,d,i);isNaN(u)||isNaN(h)||this.viewportPlugin.setViewportScrollMetrics({scrollLeft:u,scrollTop:h}),this.dispatch({type:Br,payload:{zoomLevel:"number"==typeof e?c:e,currentZoomLevel:c}}),this.dispatchCoreAction({type:Cn,payload:c}),this.markReady(),this.viewport.scrollTo({x:u,y:h,behavior:"instant"});const p={oldZoom:a,newZoom:c,level:e,center:d,desiredScrollLeft:u,desiredScrollTop:h,viewport:r};this.zoom$.emit(p)}computeZoomForMode(e,t){const n=zn(this.coreState.core);if(!n.length)return!1;const o=this.scroll.getPageGap(),i=this.viewport.getViewportGap();if(0===t.clientWidth||0===t.clientHeight)return!1;const r=t.clientWidth-2*i,a=t.clientHeight-2*i;if(r<=0||a<=0)return!1;let l=0,s=0;switch(n.forEach((e=>{const t=e.reduce(((e,t,n)=>e+t.rotatedSize.width+(n?o:0)),0),n=Math.max(...e.map((e=>e.rotatedSize.height)));l=Math.max(l,t),s=Math.max(s,n)})),e){case Nr.FitWidth:return r/l;case Nr.FitPage:return Math.min(r/l,a/s);case Nr.Automatic:return Math.min(r/l,1);default:return 1}}computeScrollForZoomChange(e,t,n,o,i="keep"){const r=this.scroll.getLayout(),a=this.viewport.getViewportGap(),l=r.totalContentSize.width,s=r.totalContentSize.height,c=e.clientWidth-2*a,d=e.clientHeight-2*a,u=(e,t,n)=>t*n<e?(e-t*n)/2:0,h=u(c,l,t),p=u(d,s,t),g=u(c,l,n),m=u(d,s,n),f=(e.scrollLeft+o.vx-a-h)/t*n+a+g,v=(e.scrollTop+o.vy-a-p)/t*n+a+m,y="center"===i?f-e.clientWidth/2:f-o.vx,b="center"===i?v-e.clientHeight/2:v-o.vy;return{desiredScrollLeft:Math.max(0,y),desiredScrollTop:Math.max(0,b)}}handleZoomToArea(e,t){const n=this.coreState.core.rotation,o=this.viewport.getMetrics(),i=this.viewport.getViewportGap(),r=this.state.currentZoomLevel,a=o.clientWidth-2*i,l=o.clientHeight-2*i,s=this.scroll.getLayout(),c=s.virtualItems.find((t=>t.pageLayouts.some((t=>t.pageIndex===e))));if(!c)return;const d=c.pageLayouts.find((t=>t.pageIndex===e)),u=Ye({width:d.width,height:d.height},t,n),h=this.toZoom(Math.min(a/u.size.width,l/u.size.height)),p=c.x+d.x,g=c.y+d.y,m=p+u.origin.x+u.size.width/2,f=g+u.origin.y+u.size.height/2,v=(e,t,n)=>t*n<e?(e-t*n)/2:0,y=v(a,s.totalContentSize.width,r),b=v(l,s.totalContentSize.height,r),w=i+y+m*r-o.scrollLeft,x=i+b+f*r-o.scrollTop;this.handleRequest({level:h,center:{vx:w,vy:x},align:"center"})}recalcAuto(e){const t=this.state;t.zoomLevel!==Nr.Automatic&&t.zoomLevel!==Nr.FitPage&&t.zoomLevel!==Nr.FitWidth||this.handleRequest({level:t.zoomLevel,focus:e})}onStoreUpdated(e,t){this.state$.emit(t)}registerMarqueeOnPage(e){if(!this.interactionManager)return this.logger.warn("ZoomPlugin","MissingDependency","Interaction manager plugin not loaded, marquee zoom disabled"),()=>{};const t=this.coreState.core.document;if(!t)return this.logger.warn("ZoomPlugin","DocumentNotFound","Document not found"),()=>{};const n=t.pages[e.pageIndex];if(!n)return this.logger.warn("ZoomPlugin","PageNotFound",`Page ${e.pageIndex} not found`),()=>{};const o=function(e){const{pageSize:t,scale:n,minDragPx:o=5,onPreview:i,onCommit:r,onSmallDrag:a}=e;let l=null,s=null;return{onPointerDown:(e,t)=>{var n;l=e,s={origin:{x:e.x,y:e.y},size:{width:0,height:0}},null==i||i(s),null==(n=t.setPointerCapture)||n.call(t)},onPointerMove:e=>{if(!l)return;const n=On(e.x,0,t.width),o=On(e.y,0,t.height);s={origin:{x:Math.min(l.x,n),y:Math.min(l.y,o)},size:{width:Math.abs(n-l.x),height:Math.abs(o-l.y)}},null==i||i(s)},onPointerUp:(e,t)=>{var c;s&&(Math.max(s.size.width,s.size.height)*n>o?null==r||r(s):null==a||a()),l=null,s=null,null==i||i(null),null==(c=t.releasePointerCapture)||c.call(t)},onPointerCancel:(e,t)=>{var n;l=null,s=null,null==i||i(null),null==(n=t.releasePointerCapture)||n.call(t)}}}({pageSize:n.size,scale:e.scale,onPreview:e.callback.onPreview,onCommit:t=>{var n,o;this.zoomToArea(e.pageIndex,t),null==(o=(n=e.callback).onCommit)||o.call(n,t)},onSmallDrag:()=>{var t,n;this.zoomIn(),null==(n=(t=e.callback).onSmallDrag)||n.call(t)}});return this.interactionManager.registerHandlers({modeId:"marqueeZoom",handlers:o,pageIndex:e.pageIndex})}};$r.id="zoom";let Fr=$r;const Ur={manifest:Or,create:(e,t)=>new Fr(Dr,e,t),reducer:(e=jr,t)=>{switch(t.type){case Br:return{...e,zoomLevel:t.payload.zoomLevel,currentZoomLevel:t.payload.currentZoomLevel};case Hr:return{...e,zoomLevel:t.payload.zoomLevel};default:return e}},initialState:jr},Wr=()=>Kn(Fr.id);function qr({element:e,viewportProvides:t,zoomProvides:n}){if("undefined"==typeof window)return()=>{};let o,i=0,r={x:0,y:0};const a=()=>{e.style.transform="none",e.style.transformOrigin="0 0"},l=o=>{var a;i=n.getState().currentZoomLevel;const l=t.getBoundingRect();r={x:o.center.x-l.origin.x,y:o.center.y-l.origin.y};const s=e.getBoundingClientRect();e.style.transformOrigin=`${o.center.x-s.left}px ${o.center.y-s.top}px`,(null==(a=o.srcEvent)?void 0:a.cancelable)&&(o.srcEvent.preventDefault(),o.srcEvent.stopPropagation())},s=t=>{var n,o;o=t.scale,e.style.transform=`scale(${o})`,(null==(n=t.srcEvent)?void 0:n.cancelable)&&(t.srcEvent.preventDefault(),t.srcEvent.stopPropagation())},c=e=>{const t=(e.scale-1)*i;n.requestZoomBy(t,{vx:r.x,vy:r.y}),a(),i=0};return(async()=>{try{const t=(await import("./hammer-e1aXHboh-6cda5c0f.js").then((e=>e.h))).default,n=(()=>{const e="ontouchstart"in window||navigator.maxTouchPoints>0;return e&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent)?t.TouchInput:e?t.TouchMouseInput:t.MouseInput})();o=new t(e,{touchAction:"pan-x pan-y",inputClass:n}),o.get("pinch").set({enable:!0,pointers:2,threshold:.1}),o.on("pinchstart",l),o.on("pinchmove",s),o.on("pinchend",c)}catch(e){console.warn("Failed to load HammerJS:",e)}})(),()=>{null==o||o.destroy(),a()}}function Gr({children:e,style:t,...n}){const{elementRef:o}=function(){const{provides:e}=Kn("viewport"),{provides:t}=Wr(),n=Me(null);return Ce((()=>{const o=n.current;if(o&&e&&t)return qr({element:o,viewportProvides:e,zoomProvides:t})}),[e,t]),{elementRef:n}}();return De("div",{ref:o,...n,style:{...t,display:"block",width:"fit-content",overflow:"visible",boxSizing:"border-box",margin:"0px auto"},children:e})}const Zr=({pageIndex:e,scale:t,className:n,stroke:o="rgba(33,150,243,0.8)",fill:i="rgba(33,150,243,0.15)"})=>{const{provides:r}=Wr(),[a,l]=ke(null);return Ce((()=>{if(r)return r.registerMarqueeOnPage({pageIndex:e,scale:t,callback:{onPreview:l}})}),[r,e,t]),a?De("div",{style:{position:"absolute",pointerEvents:"none",left:a.origin.x*t,top:a.origin.y*t,width:a.size.width*t,height:a.size.height*t,border:`1px solid ${o}`,background:i,boxSizing:"border-box"},className:n}):null};var Vr={download:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),H("path",{d:"M7 11l5 5l5 -5"}),H("path",{d:"M12 4l0 12"}))},menu:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M4 8l16 0"}),H("path",{d:"M4 16l16 0"}))},fullscreen:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2"}),H("path",{d:"M4 16v2a2 2 0 0 0 2 2h2"}),H("path",{d:"M16 4h2a2 2 0 0 1 2 2v2"}),H("path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2"}))},fullscreenExit:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M4 8v-2c0 -.551 .223 -1.05 .584 -1.412"}),H("path",{d:"M4 16v2a2 2 0 0 0 2 2h2"}),H("path",{d:"M16 4h2a2 2 0 0 1 2 2v2"}),H("path",{d:"M16 20h2c.545 0 1.04 -.218 1.4 -.572"}),H("path",{d:"M3 3l18 18"}))},save:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}),H("path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),H("path",{d:"M14 4l0 4l-6 0l0 -4"}))},print:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M17 17h2a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-14a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h2"}),H("path",{d:"M17 9v-4a2 2 0 0 0 -2 -2h-6a2 2 0 0 0 -2 2v4"}),H("path",{d:"M7 13m0 2a2 2 0 0 1 2 -2h6a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2z"}))},settings:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}),H("path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}))},viewSettings:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),H("path",{d:"M12 10.5v1.5"}),H("path",{d:"M12 16v1.5"}),H("path",{d:"M15.031 12.25l-1.299 .75"}),H("path",{d:"M10.268 15l-1.3 .75"}),H("path",{d:"M15 15.803l-1.285 -.773"}),H("path",{d:"M10.285 12.97l-1.285 -.773"}),H("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),H("path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"}))},rotateClockwise:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M4.05 11a8 8 0 1 1 .5 4m-.5 5v-5h5"}))},rotateCounterClockwise:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M19.95 11a8 8 0 1 0 -.5 4m.5 5v-5h-5"}))},singlePage:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M5 3m0 1a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-12a1 1 0 0 1 -1 -1z"}))},doublePage:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M3 3m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1zm9 -1v18"}))},zoomIn:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}),H("path",{d:"M9 12h6"}),H("path",{d:"M12 9v6"}))},zoomOut:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),H("path",{d:"M9 12l6 0"}))},fitToWidth:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M4 12v-6a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v6"}),H("path",{d:"M10 18h-7"}),H("path",{d:"M21 18h-7"}),H("path",{d:"M6 15l-3 3l3 3"}),H("path",{d:"M18 15l3 3l-3 3"}))},fitToPage:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M12 20h-6a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h6"}),H("path",{d:"M18 14v7"}),H("path",{d:"M18 3v7"}),H("path",{d:"M15 18l3 3l3 -3"}),H("path",{d:"M15 6l3 -3l3 3"}))},chevronRight:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M9 6l6 6l-6 6"}))},chevronLeft:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M15 6l-6 6l6 6"}))},chevronDown:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M6 9l6 6l6 -6"}))},search:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"}),H("path",{d:"M21 21l-6 -6"}))},comment:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M12 11v.01"}),H("path",{d:"M8 11v.01"}),H("path",{d:"M16 11v.01"}),H("path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3z"}))},sidebar:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M4 18v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"}),H("path",{d:"M14 18v-12a2 2 0 0 0 -2 -2h-6a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h6a2 2 0 0 0 2 -2z"}))},dots:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),H("path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),H("path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}))},vertical:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M8 7l4 -4l4 4"}),H("path",{d:"M8 17l4 4l4 -4"}),H("path",{d:"M12 3l0 18"}))},horizontal:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M7 8l-4 4l4 4"}),H("path",{d:"M17 8l4 4l-4 4"}),H("path",{d:"M3 12l18 0"}))},book:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),H("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),H("path",{d:"M3 6l0 13"}),H("path",{d:"M12 6l0 13"}),H("path",{d:"M21 6l0 13"}))},book2:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M19 4v16h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12z"}),H("path",{d:"M19 16h-12a2 2 0 0 0 -2 2"}),H("path",{d:"M9 8h6"}))},squares:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M8 10a2 2 0 0 1 2 -2h9a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-9a2 2 0 0 1 -2 -2z"}),H("path",{d:"M16 8v-3a2 2 0 0 0 -2 -2h-9a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h3"}))},listTree:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M9 6h11"}),H("path",{d:"M12 12h8"}),H("path",{d:"M15 18h5"}),H("path",{d:"M5 6v.01"}),H("path",{d:"M8 12v.01"}),H("path",{d:"M11 18v.01"}))},paperclip:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M15 7l-6.5 6.5a1.5 1.5 0 0 0 3 3l6.5 -6.5a3 3 0 0 0 -6 -6l-6.5 6.5a4.5 4.5 0 0 0 9 9l6.5 -6.5"}))},copy:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z"}),H("path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1"}))},underline:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M4 20h16",stroke:a}),H("path",{d:"M8 16v-8a4 4 0 1 1 8 0v8",stroke:"#000000"}),H("path",{d:"M8 10h8",stroke:"#000000"}))},squiggly:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M8 16v-8a4 4 0 1 1 8 0v8",stroke:"#000000"}),H("path",{d:"M8 10h8",stroke:"#000000"}),H("path",{d:"M4 20c1.5 -1.5 3.5 -1.5 5 0s3.5 1.5 5 0 3.5 -1.5 5 0",stroke:a}))},strikethrough:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M8 16v-8a4 4 0 1 1 8 0v8",stroke:"#000000"}),H("path",{d:"M4 10h16",stroke:a}))},highlight:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("rect",{x:"2",y:"6",width:"20",height:"16",rx:"2",fill:a,stroke:"none"}),H("path",{d:"M8 16v-8a4 4 0 1 1 8 0v8",stroke:"#000000"}),H("path",{d:"M8 10h8",stroke:"#000000"}))},palette:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M12 21a9 9 0 0 1 0 -18c4.97 0 9 3.582 9 8c0 1.06 -.474 2.078 -1.318 2.828c-.844 .75 -1.989 1.172 -3.182 1.172h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25"}),H("path",{d:"M8.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),H("path",{d:"M12.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),H("path",{d:"M16.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}))},x:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M18 6l-12 12"}),H("path",{d:"M6 6l12 12"}))},fileImport:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),H("path",{d:"M5 13v-8a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2h-5.5m-9.5 -2h7m-3 -3l3 3l-3 3"}))},hand:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),H("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),H("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),H("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"}))},zoomInArea:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M15 13v4"}),H("path",{d:"M13 15h4"}),H("path",{d:"M15 15m-5 0a5 5 0 1 0 10 0a5 5 0 1 0 -10 0"}),H("path",{d:"M22 22l-3 -3"}),H("path",{d:"M6 18h-1a2 2 0 0 1 -2 -2v-1"}),H("path",{d:"M3 11v-1"}),H("path",{d:"M3 6v-1a2 2 0 0 1 2 -2h1"}),H("path",{d:"M10 3h1"}),H("path",{d:"M15 3h1a2 2 0 0 1 2 2v1"}))},screenshot:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M7 19a2 2 0 0 1 -2 -2"}),H("path",{d:"M5 13v-2"}),H("path",{d:"M5 7a2 2 0 0 1 2 -2"}),H("path",{d:"M11 5h2"}),H("path",{d:"M17 5a2 2 0 0 1 2 2"}),H("path",{d:"M19 11v2"}),H("path",{d:"M19 17v4"}),H("path",{d:"M21 19h-4"}),H("path",{d:"M13 19h-2"}))},arrowBackUp:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M9 14l-4 -4l4 -4"}),H("path",{d:"M5 10h11a4 4 0 1 1 0 8h-1"}))},arrowForwardUp:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M15 14l4 -4l-4 -4"}),H("path",{d:"M19 10h-11a4 4 0 1 0 0 8h1"}))},trash:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M4 7l16 0"}),H("path",{d:"M10 11l0 6"}),H("path",{d:"M14 11l0 6"}),H("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),H("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"}))},deviceFloppy:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}),H("path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),H("path",{d:"M14 4l0 4l-6 0l0 -4"}))},pencilMarker:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":i,class:e.className,role:"img","aria-label":e.title},H("g",{transform:"rotate(47.565 12.1875 10.75)"},H("path",{stroke:"#000000",d:"m14.18752,16.75l0,-12c0,-1.1 -0.9,-2 -2,-2s-2,0.9 -2,2l0,12l2,2l2,-2z"}),H("path",{stroke:"#000000",d:"m10.18752,6.75l4,0"})),H("path",{stroke:a,d:"m19.37499,20.125c0.56874,0.0625 -4.04999,-0.5625 -6.41249,-0.4375c-2.3625,0.125 -4.75833,1.22916 -6.85624,1.625c-1.76458,0.6875 -3.40416,-0.9375 -1.98125,-2.49999"}))},circle:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r,l=e.secondaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:void 0===l?"none":l,stroke:a,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}))},square:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r,l=e.secondaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:void 0===l?"none":l,stroke:a,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}))},line:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2.2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M20 4l-16 16"}))},lineArrow:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2.2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M20 4l-16 16"}),H("path",{d:"M16 3h5v5"}))},polygon:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r,l=e.secondaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:void 0===l?"none":l,stroke:a,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M13.163 2.168l8.021 5.828c.694 .504 .984 1.397 .719 2.212l-3.064 9.43a1.978 1.978 0 0 1 -1.881 1.367h-9.916a1.978 1.978 0 0 1 -1.881 -1.367l-3.064 -9.43a1.978 1.978 0 0 1 .719 -2.212l8.021 -5.828a1.978 1.978 0 0 1 2.326 0z"}))},zigzag:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{d:"M12 2.4L21.36 11.76L2.64 12.24L12 21.6"}))},text:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M6.5 15.5m-3.5 0a3.5 3.5 0 1 0 7 0a3.5 3.5 0 1 0 -7 0"}),H("path",{d:"M14 19v-10.5a3.5 3.5 0 0 1 7 0v10.5"}),H("path",{d:"M14 13h7"}),H("path",{d:"M10 12v7"}))},italic:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M11 5l6 0"}),H("path",{d:"M7 19l6 0"}),H("path",{d:"M14 5l-4 14"}))},bold:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z"}),H("path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7"}))},alignLeft:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M4 6l16 0"}),H("path",{d:"M4 12l10 0"}),H("path",{d:"M4 18l14 0"}))},alignCenter:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M4 6l16 0"}),H("path",{d:"M8 12l8 0"}),H("path",{d:"M6 18l12 0"}))},alignRight:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M4 6l16 0"}),H("path",{d:"M10 12l10 0"}),H("path",{d:"M6 18l14 0"}))},alignTop:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}),H("path",{d:"M11 13h2"}),H("path",{d:"M9 10h6"}),H("path",{d:"M10 7h4"}))},alignMiddle:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}),H("path",{d:"M11 15h2"}),H("path",{d:"M9 12h6"}),H("path",{d:"M10 9h4"}))},alignBottom:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}),H("path",{d:"M11 17h2"}),H("path",{d:"M9 14h6"}),H("path",{d:"M10 11h4"}))},photo:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M15 8h.01"}),H("path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"}),H("path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"}),H("path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3"}))},pointer:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M7.904 17.563a1.2 1.2 0 0 0 2.228 .308l2.09 -3.093l4.907 4.907a1.067 1.067 0 0 0 1.509 0l1.047 -1.047a1.067 1.067 0 0 0 0 -1.509l-4.907 -4.907l3.113 -2.09a1.2 1.2 0 0 0 -.309 -2.228l-13.582 -3.904l3.904 13.563z"}))},redact:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M7 4h10"}),H("path",{d:"M12 4v8"}),H("defs",null,H("clipPath",{id:"stripeClip"},H("rect",{x:"2",y:"12",width:"20",height:"10",rx:"2"}))),H("rect",{x:"2",y:"12",width:"20",height:"10",rx:"2",fill:"none"}),H("g",{"clip-path":"url(#stripeClip)"},H("path",{d:"M-7 24l12 -12"}),H("path",{d:"M-3 24l12 -12"}),H("path",{d:"M1 24l12 -12"}),H("path",{d:"M5 24l12 -12"}),H("path",{d:"M9 24l12 -12"}),H("path",{d:"M13 24l12 -12"}),H("path",{d:"M17 24l12 -12"}),H("path",{d:"M21 24l12 -12"}),H("path",{d:"M25 24l12 -12"})))},redactArea:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M6 20h-1a2 2 0 0 1 -2 -2v-1"}),H("path",{d:"M3 13v-3"}),H("path",{d:"M3 6v-1a2 2 0 0 1 2 -2h1"}),H("path",{d:"M10 3h3"}),H("path",{d:"M17 3h1a2 2 0 0 1 2 2v1"}),H("defs",null,H("clipPath",{id:"redactClip"},H("rect",{x:"10",y:"10",width:"12",height:"12",rx:"2"}))),H("rect",{x:"10",y:"10",width:"12",height:"12",rx:"2",fill:"none"}),H("g",{"clip-path":"url(#redactClip)"},H("path",{d:"M-2 24l14 -14"}),H("path",{d:"M2 24l14 -14"}),H("path",{d:"M6 24l14 -14"}),H("path",{d:"M10 24l15 -15"}),H("path",{d:"M14 24l15 -15"}),H("path",{d:"M18 24l15 -15"})))},check:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return H("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M5 12l5 5l10 -10"}))}},Yr=["icon","title","size","strokeWidth","primaryColor","secondaryColor","className"];function Xr(e){var t=e.icon,n=e.title,o=e.size,i=void 0===o?24:o,r=e.strokeWidth,a=void 0===r?2:r,l=e.primaryColor,s=void 0===l?"currentColor":l,c=e.secondaryColor,d=e.className,u=p(e,Yr),g=Vr[t];return g?H(g,h({size:i,strokeWidth:a,primaryColor:s,secondaryColor:c,className:d,title:n},u)):(console.warn("Icon not found: ".concat(t)),null)}const Kr="START_SEARCH_SESSION",Qr="STOP_SEARCH_SESSION",Jr="SET_SEARCH_FLAGS",ea="SET_SHOW_ALL_RESULTS",ta="START_SEARCH",na="SET_SEARCH_RESULTS",oa="APPEND_SEARCH_RESULTS",ia="SET_ACTIVE_RESULT_INDEX";function ra(e){return{type:Jr,payload:e}}function aa(e){return{type:ea,payload:e}}function la(e,t,n){return{type:na,payload:{results:e,total:t,activeResultIndex:n}}}function sa(e){return{type:ia,payload:e}}const ca=class extends Ln{constructor(e,t){super(e,t),this.searchStop$=Un(),this.searchStart$=Un(),this.searchResult$=Un(),this.searchActiveResultChange$=Un(),this.searchResultState$=Un(),this.searchState$=Un(),this.loader=this.registry.getPlugin("loader").provides(),this.loader.onDocumentLoaded(this.handleDocumentLoaded.bind(this)),this.loader.onLoaderEvent(this.handleLoaderEvent.bind(this))}handleDocumentLoaded(e){this.currentDocument=e,this.state.active&&this.startSearchSession()}handleLoaderEvent(e){("error"===e.type||"start"===e.type&&this.currentDocument)&&(this.state.active&&this.stopSearchSession(),this.currentDocument=void 0)}async initialize(e){this.dispatch(ra(e.flags||[])),this.dispatch(aa(void 0===e.showAllResults||e.showAllResults))}onStoreUpdated(e,t){this.searchResultState$.emit({results:t.results,activeResultIndex:t.activeResultIndex,showAllResults:t.showAllResults,active:t.active}),this.searchState$.emit(t)}buildCapability(){return{startSearch:this.startSearchSession.bind(this),stopSearch:this.stopSearchSession.bind(this),searchAllPages:this.searchAllPages.bind(this),nextResult:this.nextResult.bind(this),previousResult:this.previousResult.bind(this),goToResult:this.goToResult.bind(this),setShowAllResults:e=>this.dispatch(aa(e)),getShowAllResults:()=>this.state.showAllResults,onSearchResult:this.searchResult$.on,onSearchStart:this.searchStart$.on,onSearchStop:this.searchStop$.on,onActiveResultChange:this.searchActiveResultChange$.on,onSearchResultStateChange:this.searchResultState$.on,onStateChange:this.searchState$.on,getFlags:()=>this.state.flags,setFlags:e=>this.setFlags(e),getState:()=>this.state}}setFlags(e){this.dispatch(ra(e)),this.state.active&&this.searchAllPages(this.state.query,!0)}notifySearchStart(){this.searchStart$.emit()}notifySearchStop(){this.searchStop$.emit()}notifyActiveResultChange(e){this.searchActiveResultChange$.emit(e)}startSearchSession(){this.currentDocument&&(this.dispatch({type:Kr}),this.notifySearchStart())}stopSearchSession(){var e,t;if(this.currentDocument&&this.state.active){try{null==(t=null==(e=this.currentTask)?void 0:e.abort)||t.call(e,{type:"abort",code:"cancelled",message:"search stopped"})}catch{}this.currentTask=void 0,this.dispatch({type:Qr}),this.notifySearchStop()}}searchAllPages(e,t=!1){var n,o;const i=e.trim();if(this.state.query===i&&!t)return Nt.resolve({results:this.state.results,total:this.state.total});if(this.currentTask){try{null==(o=(n=this.currentTask).abort)||o.call(n,{type:"abort",code:"superseded",message:"new search"})}catch{}this.currentTask=void 0}if(this.dispatch({type:ta,payload:i}),!i||!this.currentDocument)return this.dispatch(la([],0,-1)),Nt.resolve({results:[],total:0});this.state.active||this.startSearchSession();const r=this.currentTask=this.engine.searchAllPages(this.currentDocument,i,{flags:this.state.flags});return r.onProgress((e=>{var t,n;(null==(t=null==e?void 0:e.results)?void 0:t.length)&&(this.dispatch((n=e.results,{type:oa,payload:{results:n}})),-1===this.state.activeResultIndex&&(this.dispatch(sa(0)),this.notifyActiveResultChange(0)))})),r.wait((e=>{this.currentTask=void 0;const t=e.total>0?0:-1;this.dispatch(la(e.results,e.total,t)),this.searchResult$.emit(e),e.total>0&&this.notifyActiveResultChange(0)}),(e=>{this.currentTask=void 0,console.error("Error during search:",e),this.dispatch(la([],0,-1))})),r}nextResult(){if(0===this.state.results.length)return-1;const e=this.state.activeResultIndex>=this.state.results.length-1?0:this.state.activeResultIndex+1;return this.goToResult(e)}previousResult(){if(0===this.state.results.length)return-1;const e=this.state.activeResultIndex<=0?this.state.results.length-1:this.state.activeResultIndex-1;return this.goToResult(e)}goToResult(e){return 0===this.state.results.length||e<0||e>=this.state.results.length?-1:(this.dispatch(sa(e)),this.notifyActiveResultChange(e),e)}async destroy(){this.state.active&&this.currentDocument&&this.stopSearchSession(),this.searchResult$.clear(),this.searchStart$.clear(),this.searchStop$.clear(),this.searchActiveResultChange$.clear(),this.searchResultState$.clear(),this.searchState$.clear()}};ca.id="search";let da=ca;const ua="search",ha={flags:[],results:[],total:0,activeResultIndex:-1,showAllResults:!0,query:"",loading:!1,active:!1},pa={manifest:{id:ua,name:"Search Plugin",version:"1.0.0",provides:["search"],requires:["loader"],optional:[],defaultConfig:{enabled:!0,flags:[]}},create:e=>new da(ua,e),reducer:(e=ha,t)=>{switch(t.type){case Kr:return{...e,active:!0};case Qr:return{...e,results:[],total:0,activeResultIndex:-1,query:"",loading:!1,active:!1};case Jr:return{...e,flags:t.payload};case ea:return{...e,showAllResults:t.payload};case ta:return{...e,loading:!0,query:t.payload,results:[],total:0,activeResultIndex:-1};case oa:{const n=[...e.results,...t.payload.results],o=-1===e.activeResultIndex&&n.length>0?0:e.activeResultIndex;return{...e,results:n,total:n.length,activeResultIndex:o,loading:!0}}case na:return{...e,results:t.payload.results,total:t.payload.total,activeResultIndex:t.payload.activeResultIndex,loading:!1};case ia:return{...e,activeResultIndex:t.payload};default:return e}},initialState:ha},ga=()=>Kn(da.id);function ma({pageIndex:e,scale:t,style:n,highlightColor:o="#FFFF00",activeHighlightColor:i="#FFBF00",...r}){const{provides:a}=ga(),[l,s]=ke(null);if(Ce((()=>null==a?void 0:a.onSearchResultStateChange((e=>{s(e)}))),[a]),!l)return null;return De("div",{style:{...n},...r,children:l.results.map(((e,t)=>({result:e,originalIndex:t}))).filter((({result:t})=>t.pageIndex===e)).map((({result:e,originalIndex:n})=>e.rects.map(((e,r)=>De("div",{style:{position:"absolute",top:e.origin.y*t,left:e.origin.x*t,width:e.size.width*t,height:e.size.height*t,backgroundColor:n===l.activeResultIndex?i:o,mixBlendMode:"multiply",transform:"scale(1.02)",transformOrigin:"center",transition:"opacity .3s ease-in-out",opacity:1}},`${n}-${r}`)))))})}const fa="thumbnail",va={id:fa,name:"Thumbnail Plugin",version:"1.0.0",provides:["thumbnail"],requires:["render"],optional:["scroll"],defaultConfig:{enabled:!0,width:150,gap:10,buffer:3,labelHeight:16,autoScroll:!0,scrollBehavior:"smooth",imagePadding:0,paddingY:0}},ya=class extends Ln{constructor(e,t,n){var o;super(e,t),this.cfg=n,this.scrollCapability=null,this.thumbs=[],this.window=null,this.viewportH=0,this.scrollY=0,this.emitWindow=Un(),this.refreshPages$=Fn(),this.taskCache=new Map,this.canAutoScroll=!0,this.scrollTo$=Un(),this.renderCapability=this.registry.getPlugin("render").provides(),this.scrollCapability=(null==(o=this.registry.getPlugin("scroll"))?void 0:o.provides())??null,this.coreStore.onAction(xn,((e,t)=>{this.taskCache.clear(),this.setWindowState(t)})),this.coreStore.onAction(wn,(e=>{this.refreshPages$.emit(e.payload);for(const t of e.payload)this.taskCache.delete(t)})),this.scrollCapability&&!1!==this.cfg.autoScroll&&(this.scrollCapability.onPageChangeState((({isChanging:e,targetPage:t})=>{this.canAutoScroll=!e,e||this.scrollToThumb(t-1)})),this.scrollCapability.onPageChange((({pageNumber:e})=>{this.canAutoScroll&&this.scrollToThumb(e-1)})))}async initialize(){}onRefreshPages(e){return this.refreshPages$.on(e)}onWindow(e){return this.emitWindow.on(e)}onScrollTo(e){return this.scrollTo$.on(e)}setWindowState(e){const t=e.core;if(!t.document)return;const n=this.cfg.width??120,o=this.cfg.labelHeight??16,i=this.cfg.gap??8,r=this.cfg.imagePadding??0,a=this.cfg.paddingY??0,l=Math.max(1,n-2*r);let s=a;this.thumbs=t.document.pages.map((e=>{const t=e.size.height/e.size.width,n=Math.round(l*t),a=r+n+r+o,c={pageIndex:e.index,width:l,height:n,wrapperHeight:a,top:s,labelHeight:o,padding:r};return s+=a+i,c})),this.window={start:-1,end:-1,items:[],totalHeight:s-i+a},this.viewportH>0?this.updateWindow(this.scrollY,this.viewportH):this.emitWindow.emit(this.window)}buildCapability(){return{renderThumb:(e,t)=>this.renderThumb(e,t),scrollToThumb:e=>this.scrollToThumb(e)}}updateWindow(e,t){const n=this.cfg.buffer??3;if(this.scrollY=e,this.viewportH=t,!this.window||0===this.thumbs.length)return;let o=0,i=this.thumbs.length-1,r=0;for(;o<=i;){const t=o+i>>1,n=this.thumbs[t];n.top+n.wrapperHeight<e?o=t+1:(r=t,i=t-1)}let a=r;const l=e+t;for(;a+1<this.thumbs.length&&this.thumbs[a].top<l;)a++;a=Math.min(this.thumbs.length-1,a+n);const s=Math.max(0,r-n);s===this.window.start&&a===this.window.end||(this.window={start:s,end:a,items:this.thumbs.slice(s,a+1),totalHeight:this.window.totalHeight},this.emitWindow.emit(this.window))}scrollToThumb(e){if(!this.window)return;const t=this.thumbs[e];if(!t)return;const n=this.cfg.scrollBehavior??"smooth",o=this.cfg.paddingY??0;if(this.viewportH<=0){const e=Math.max(o,t.top-t.wrapperHeight);return void this.scrollTo$.emit({top:e,behavior:n})}const i=t.top,r=t.top+t.wrapperHeight,a=i<this.scrollY+8+o,l=r>this.scrollY+this.viewportH-8;a?this.scrollTo$.emit({top:Math.max(0,i-o),behavior:n}):l&&this.scrollTo$.emit({top:Math.max(0,r-this.viewportH+o),behavior:n})}renderThumb(e,t){if(this.taskCache.has(e))return this.taskCache.get(e);const n=this.coreState.core.document.pages[e],o=this.cfg.width??120,i=this.cfg.imagePadding??0,r=Math.max(1,o-2*i)/n.size.width,a=this.renderCapability.renderPageRect({pageIndex:e,rect:{origin:{x:0,y:0},size:n.size},options:{scaleFactor:r,dpr:t}});return this.taskCache.set(e,a),a.wait(un,(()=>this.taskCache.delete(e))),a}};ya.id="thumbnail";let ba=ya;const wa={manifest:va,create:(e,t)=>new ba(fa,e,t),reducer:()=>{},initialState:{}},xa=()=>Xn(ba.id);function ka({style:e,scrollOptions:t,selectedPage:n,...o}){const{plugin:i}=xa(),r=Me(null),[a,l]=ke(null);Ce((()=>null==i?void 0:i.onWindow(l)),[i]),Ce((()=>{const e=r.current;if(!e)return;const t=()=>null==i?void 0:i.updateWindow(e.scrollTop,e.clientHeight);return e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}),[i]),Ce((()=>{const e=r.current;if(!e||!i)return;const t=new ResizeObserver((()=>{i.updateWindow(e.scrollTop,e.clientHeight)}));return t.observe(e),()=>t.disconnect()}),[i]),Ce((()=>{const e=r.current;e&&i&&i.updateWindow(e.scrollTop,e.clientHeight)}),[a,i]),Ce((()=>{const e=r.current;if(e&&i&&a)return i.onScrollTo((({top:t,behavior:n})=>{e.scrollTo({top:t,behavior:n})}))}),[i,!!a]);const s=(null==i?void 0:i.cfg.paddingY)??0;return De("div",{ref:r,style:{overflowY:"auto",position:"relative",paddingTop:s,paddingBottom:s,height:"100%",...e},...o,children:De("div",{style:{height:(null==a?void 0:a.totalHeight)??0,position:"relative"},children:null==a?void 0:a.items.map((e=>o.children(e)))})})}function Ca({meta:e,style:t,...n}){const{provides:o}=Kn(ba.id),{plugin:i}=xa(),[r,a]=ke(),l=Me(null),[s,c]=ke(0);Ce((()=>{if(i)return i.onRefreshPages((t=>{t.includes(e.pageIndex)&&c((e=>e+1))}))}),[i]),Ce((()=>{const t=null==o?void 0:o.renderThumb(e.pageIndex,window.devicePixelRatio);return null==t||t.wait((e=>{const t=URL.createObjectURL(e);l.current=t,a(t)}),un),()=>{l.current?(URL.revokeObjectURL(l.current),l.current=null):null==t||t.abort({code:_t.Cancelled,message:"canceled render task"})}}),[o,e.pageIndex,s]);return r?De("img",{src:r,onLoad:()=>{l.current&&(URL.revokeObjectURL(l.current),l.current=null)},style:t,...n}):null}function Sa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=f(ke(e),2),o=n[0],i=n[1];return Ce((function(){var n=window.setTimeout((function(){return i(e)}),t);return function(){return clearTimeout(n)}}),[e,t]),o}var Ma=function(e){var t=e.label,n=e.checked,o=e.onChange;return H("label",{className:"inline-flex cursor-pointer select-none items-center gap-2 text-xs font-medium text-gray-700"},H("input",{type:"checkbox",checked:n,onChange:function(e){return o(e.target.checked)},className:"peer h-4 w-4 shrink-0 appearance-none rounded-[3px] border border-gray-300 bg-white transition-all checked:border-blue-600 checked:bg-blue-600"}),H("svg",{viewBox:"0 0 24 24",className:"/* fine-tune centering */ pointer-events-none absolute h-3.5 w-3.5 translate-x-[1px] translate-y-[1px] text-white opacity-0 peer-checked:opacity-100",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"},H("polyline",{points:"20 6 9 17 4 12"})),t)};const Pa="selection",Ia={id:Pa,name:"Selection Plugin",version:"1.0.0",provides:["selection"],requires:["interaction-manager"],optional:[],defaultConfig:{enabled:!0}},Ta="CACHE_PAGE_GEOMETRY",Aa="SET_SELECTION",za="START_SELECTION",Ra="END_SELECTION",Ea="CLEAR_SELECTION",_a="SET_RECTS",Na="SET_SLICES",La="RESET";function Da(e,t){return e.rects[t]??[]}function Oa(e,t){return Qe(Da(e,t))}function Ba(e,t){for(const n of e.runs){if(!(t.y>=n.rect.y&&t.y<=n.rect.y+n.rect.height&&t.x>=n.rect.x&&t.x<=n.rect.x+n.rect.width))continue;const e=n.glyphs.findIndex((e=>t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height));if(-1!==e)return n.charStart+e}return-1}function Ha(e,t,n){if(!e||!t)return null;if(n<e.start.page||n>e.end.page)return null;const o=n===e.start.page?e.start.index:0,i=t.runs[t.runs.length-1],r=i.charStart+i.glyphs.length-1;return{from:o,to:n===e.end.page?e.end.index:r}}function ja(e,t,n,o=!0){const i=[];for(const o of e.runs){const e=o.charStart,r=e+o.glyphs.length-1;if(r<t||e>n)continue;const a=Math.max(t,e)-e,l=Math.min(n,r)-e;let s=1/0,c=-1/0,d=1/0,u=-1/0,h=0;for(let e=a;e<=l;e++){const t=o.glyphs[e];2!==t.flags&&(s=Math.min(s,t.x),c=Math.max(c,t.x+t.width),d=Math.min(d,t.y),u=Math.max(u,t.y+t.height),h++)}s!==1/0&&h>0&&i.push({rect:{origin:{x:s,y:d},size:{width:c-s,height:u-d}},charCount:h})}return o?function(e){const t=[];let n=null,o=null;for(const i of e)n&&o?Wa(n,i)?o=$a(o,i.rect):(t.push(o),o=i.rect):o=i.rect,n=i;o&&!Fa(o)&&t.push(o);return t}(i):i.map((e=>e.rect))}function $a(e,t){const n=Math.min(e.origin.x,t.origin.x),o=Math.min(e.origin.y,t.origin.y);return{origin:{x:n,y:o},size:{width:Math.max(e.origin.x+e.size.width,t.origin.x+t.size.width)-n,height:Math.max(e.origin.y+e.size.height,t.origin.y+t.size.height)-o}}}function Fa(e){return e.size.width<=0||e.size.height<=0}function Ua(e,t){if(Fa(e)||Fa(t))return 0;const n=$a(e,t);if(n.size.height===e.size.height||n.size.height===t.size.height)return 1;const o=function(e,t){const n=Math.max(e.origin.x,t.origin.x),o=Math.max(e.origin.y,t.origin.y),i=Math.min(e.origin.x+e.size.width,t.origin.x+t.size.width),r=Math.min(e.origin.y+e.size.height,t.origin.y+t.size.height);return{origin:{x:n,y:o},size:{width:Math.max(0,i-n),height:Math.max(0,r-o)}}}(e,t);return o.size.height/n.size.height}function Wa(e,t){const n=e.rect,o=t.rect;if(Ua(n,o)<.8)return!1;const i=1*n.size.width/e.charCount,r=1*o.size.width/t.charCount,a=n.origin.x-i,l=n.origin.x+n.size.width+i,s=o.origin.x-r;return a<o.origin.x+o.size.width+r&&l>s}const qa=class extends Ln{constructor(e,t){var n;super(e,t),this.enabledModes=new Set(["pointerMode"]),this.selecting=!1,this.pageCallbacks=new Map,this.selChange$=Un(),this.textRetrieved$=Un(),this.copyToClipboard$=Fn(),this.beginSelection$=Fn(),this.endSelection$=Fn(),this.interactionManagerCapability=null==(n=this.registry.getPlugin("interaction-manager"))?void 0:n.provides(),this.coreStore.onAction(xn,(e=>{this.dispatch({type:La}),this.notifyAllPages()})),this.coreStore.onAction(wn,(e=>{const t=e.payload.map((e=>this.getNewPageGeometryAndCache(e)));lt.all(t).wait((()=>{e.payload.forEach((e=>{this.notifyPage(e)}))}),un)}))}async initialize(){}async destroy(){this.selChange$.clear()}buildCapability(){return{getFormattedSelection:()=>function(e){const t=[],n=Object.keys(e.rects).map(Number);for(const o of n){const n=e.rects[o]||[];if(0===n.length)continue;const i=Oa(e,o);i&&t.push({pageIndex:o,rect:i,segmentRects:n})}return t}(this.state),getFormattedSelectionForPage:e=>function(e,t){const n=e.rects[t]||[];if(0===n.length)return null;const o=Oa(e,t);return o?{pageIndex:t,rect:o,segmentRects:n}:null}(this.state,e),getHighlightRectsForPage:e=>Da(this.state,e),getHighlightRects:()=>this.state.rects,getBoundingRectForPage:e=>Oa(this.state,e),getBoundingRects:()=>function(e){const t=[],n=e.rects;for(const e in n){const o=Number(e),i=Qe(n[o]);i&&t.push({page:o,rect:i})}return t}(this.state),onCopyToClipboard:this.copyToClipboard$.on,onSelectionChange:this.selChange$.on,onTextRetrieved:this.textRetrieved$.on,onBeginSelection:this.beginSelection$.on,onEndSelection:this.endSelection$.on,clear:()=>this.clearSelection(),getSelectedText:()=>this.getSelectedText(),copyToClipboard:()=>this.copyToClipboard(),enableForMode:e=>this.enabledModes.add(e),isEnabledForMode:e=>this.enabledModes.has(e),getState:()=>this.state}}registerSelectionOnPage(e){if(!this.interactionManagerCapability)return this.logger.warn("SelectionPlugin","MissingDependency","Interaction manager plugin not loaded, text selection disabled"),()=>{};const{pageIndex:t,onRectsChange:n}=e;this.pageCallbacks.set(t,n);const o=this.getOrLoadGeometry(t);n({rects:Da(this.state,t),boundingRect:Oa(this.state,t)});const i={onPointerDown:(e,n,o)=>{if(!this.enabledModes.has(o))return;this.clearSelection();const i=this.state.geometry[t];if(i){const n=Ba(i,e);-1!==n&&this.beginSelection(t,n)}},onPointerMove:(e,n,o)=>{var i,r;if(!this.enabledModes.has(o))return;const a=this.state.geometry[t];if(a){const n=Ba(a,e);-1!==n?null==(i=this.interactionManagerCapability)||i.setCursor("selection-text","text",10):null==(r=this.interactionManagerCapability)||r.removeCursor("selection-text"),this.selecting&&-1!==n&&this.updateSelection(t,n)}},onPointerUp:(e,t,n)=>{this.enabledModes.has(n)&&this.endSelection()},onHandlerActiveEnd:e=>{this.enabledModes.has(e)&&this.clearSelection()}},r=this.interactionManagerCapability.registerAlways({scope:{type:"page",pageIndex:t},handlers:i});return()=>{r(),this.pageCallbacks.delete(t),o.abort({code:_t.Cancelled,message:"Cleanup"})}}notifyPage(e){var t;const n=this.pageCallbacks.get(e);if(n){n("pointerMode"===(null==(t=this.interactionManagerCapability)?void 0:t.getActiveMode())?{rects:Da(this.state,e),boundingRect:Oa(this.state,e)}:{rects:[],boundingRect:null})}}notifyAllPages(){this.pageCallbacks.forEach(((e,t)=>{this.notifyPage(t)}))}getNewPageGeometryAndCache(e){if(!this.coreState.core.document)return Nt.reject({code:_t.NotFound,message:"Doc Not Found"});const t=this.coreState.core.document.pages.find((t=>t.index===e)),n=this.engine.getPageGeometry(this.coreState.core.document,t);return n.wait((t=>{this.dispatch(((e,t)=>({type:Ta,payload:{page:e,geo:t}}))(e,t))}),un),n}getOrLoadGeometry(e){const t=this.state.geometry[e];return t?Nt.resolve(t):this.getNewPageGeometryAndCache(e)}beginSelection(e,t){this.selecting=!0,this.anchor={page:e,index:t},this.dispatch({type:za}),this.beginSelection$.emit({page:e,index:t})}endSelection(){this.selecting=!1,this.anchor=void 0,this.dispatch({type:Ra}),this.endSelection$.emit()}clearSelection(){this.selecting=!1,this.anchor=void 0,this.dispatch({type:Ea}),this.selChange$.emit(null),this.notifyAllPages()}updateSelection(e,t){if(!this.selecting||!this.anchor)return;const n=this.anchor,o=e>n.page||e===n.page&&t>=n.index,i={start:o?n:{page:e,index:t},end:o?{page:e,index:t}:n};this.dispatch({type:Aa,payload:i}),this.updateRectsAndSlices(i),this.selChange$.emit(i);for(let e=i.start.page;e<=i.end.page;e++)this.notifyPage(e)}updateRectsAndSlices(e){const t={},n={};for(let o=e.start.page;o<=e.end.page;o++){const i=this.state.geometry[o],r=Ha(e,i,o);r&&(t[o]=ja(i,r.from,r.to),n[o]={start:r.from,count:r.to-r.from+1})}this.dispatch((e=>({type:_a,payload:e}))(t)),this.dispatch({type:Na,payload:n})}getSelectedText(){if(!this.coreState.core.document||!this.state.selection)return Nt.reject({code:_t.NotFound,message:"Doc Not Found or No Selection"});const e=this.state.selection,t=[];for(let n=e.start.page;n<=e.end.page;n++){const e=this.state.slices[n];e&&t.push({pageIndex:n,charIndex:e.start,charCount:e.count})}if(0===t.length)return Nt.resolve([]);const n=this.engine.getTextSlices(this.coreState.core.document,t);return n.wait((e=>{this.textRetrieved$.emit(e)}),un),n}copyToClipboard(){this.getSelectedText().wait((e=>{this.copyToClipboard$.emit(e.join("\n"))}),un)}};qa.id="selection";let Ga=qa;const Za={geometry:{},rects:{},slices:{},selection:null,active:!1,selecting:!1},Va=()=>Kn(Ga.id);function Ya({pageIndex:e,scale:t,background:n="rgba(33,150,243)"}){const{plugin:o}=Xn(Ga.id),[i,r]=ke([]),[a,l]=ke(null);return Ce((()=>{if(o)return o.registerSelectionOnPage({pageIndex:e,onRectsChange:({rects:e,boundingRect:t})=>{r(e),l(t)}})}),[o,e]),a?De("div",{style:{position:"absolute",left:a.origin.x*t,top:a.origin.y*t,width:a.size.width*t,height:a.size.height*t,mixBlendMode:"multiply",isolation:"isolate"},children:i.map(((e,o)=>De("div",{style:{position:"absolute",left:(e.origin.x-a.origin.x)*t,top:(e.origin.y-a.origin.y)*t,width:e.size.width*t,height:e.size.height*t,background:n,pointerEvents:"none"}},o)))}):null}const Xa=qn({manifest:Ia,create:e=>new Ga(Pa,e),reducer:(e=Za,t)=>{switch(t.type){case Ta:{const{page:n,geo:o}=t.payload;return{...e,geometry:{...e.geometry,[n]:o}}}case Aa:return{...e,selection:t.payload,active:!0};case za:return{...e,selecting:!0,selection:null,rects:{}};case Ra:return{...e,selecting:!1};case Ea:return{...e,selecting:!1,selection:null,rects:{},active:!1};case _a:return{...e,rects:t.payload};case Na:return{...e,slices:t.payload};case La:return Za;default:return e}},initialState:Za}).addUtility((function(){const{provides:e}=Va();return Ce((()=>{if(e)return e.onCopyToClipboard((e=>{navigator.clipboard.writeText(e)}))}),[e]),null})).build();function Ka(e,t,n,o,i,r){return r?e.origin.y+i>=n+o:e.origin.y+i+e.size.height+n+o<=t.scrollTop+t.clientHeight}var Qa=function(e){if(!e)return"(no date)";try{return(e instanceof Date?e:new Date(e)).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}catch(t){return"string"==typeof e?e:"(no date)"}};function Ja(e){var t=e.open,n=e.title,o=e.children,i=e.onClose,r=e.className,a=e.showCloseButton,l=void 0===a||a;e.maxWidth;var s=Me(null);Ce((function(){if(t){var e=function(e){"Escape"===e.key&&(null==i||i())};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}}),[t,i]);return Ce((function(){return document.body.style.overflow=t?"hidden":"",function(){document.body.style.overflow=""}}),[t]),t?De("div",{ref:s,className:"fixed inset-0 z-50 bg-black/50 md:flex md:items-center md:justify-center",onClick:function(e){e.target===s.current&&(null==i||i())},children:De("div",{className:"relative flex h-full w-full flex-col bg-white md:h-auto md:w-[28rem] md:max-w-[90vw] md:rounded-lg md:border md:border-gray-200 md:shadow-lg ".concat(r),onClick:function(e){return e.stopPropagation()},children:[(n||l)&&De("div",{className:"flex flex-shrink-0 items-center justify-between border-b border-gray-200 px-6 py-4",children:[n&&De("h2",{className:"text-lg font-semibold text-gray-900",children:n}),l&&De(xi,{onClick:i,className:"p-1 hover:bg-gray-100",children:De(Xr,{icon:"x",className:"h-5 w-5"})})]}),De("div",{className:"flex-1 overflow-y-auto px-6 py-4 md:max-h-[80vh] md:flex-none",children:o})]})}):null}const el="print",tl={id:el,name:"Print Plugin",version:"1.0.0",provides:["print"],requires:[],optional:[],defaultConfig:{enabled:!0}},nl=class extends Ln{constructor(e,t,n){super(e,t),this.printReady$=Fn()}async initialize(e){}buildCapability(){return{print:this.print.bind(this)}}onPrintRequest(e){return this.printReady$.on(e)}print(e){const t=e??{},n=new lt;n.progress({stage:"preparing",message:"Preparing document..."});return this.preparePrintDocument(t).wait((e=>{n.progress({stage:"document-ready",message:"Document prepared successfully"}),this.printReady$.emit({options:t,buffer:e,task:n})}),n.fail),n}preparePrintDocument(e){const t=this.coreState.core.document;return t?this.engine.preparePrintDocument(t,e):Nt.reject({code:_t.DocNotOpen,message:"Document not found"})}};nl.id="print";let ol=nl;const il=()=>Kn(ol.id);const rl=qn({manifest:tl,create:(e,t)=>new ol(el,e,t),reducer:()=>{},initialState:{}}).addUtility((function(){const{provides:e}=il(),{plugin:t}=Xn(ol.id),n=Me(null),o=Me(null);return Ce((()=>{if(!e||!t)return;const i=t.onPrintRequest((({buffer:e,task:t})=>{const i=n.current;if(!i)return;o.current&&(URL.revokeObjectURL(o.current),o.current=null);const r=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));o.current=r,i.onload=()=>{var n,o;i.src===r&&(t.progress({stage:"iframe-ready",message:"Ready to print"}),null==(n=i.contentWindow)||n.focus(),null==(o=i.contentWindow)||o.print(),t.progress({stage:"printing",message:"Print dialog opened"}),t.resolve(e))},i.src=r}));return()=>{i(),o.current&&URL.revokeObjectURL(o.current)}}),[e,t]),De("iframe",{ref:n,style:{position:"absolute",display:"none"},title:"Print Document",src:"about:blank"})})).build(),al="bookmark",ll={id:al,name:"Bookmark Plugin",version:"1.0.0",provides:["bookmark"],requires:[],optional:[],defaultConfig:{enabled:!0}},sl=class extends Ln{constructor(e,t){super(e,t)}async initialize(e){}buildCapability(){return{getBookmarks:this.getBookmarks.bind(this)}}getBookmarks(){const e=this.coreState.core.document;if(!e)throw new Error("Document not open");return this.engine.getBookmarks(e)}};sl.id="bookmark";let cl=sl;const dl={manifest:ll,create:e=>new cl(al,e),reducer:()=>{},initialState:{}},ul=class extends Ln{constructor(e,t){super(e,t)}async initialize(e){}buildCapability(){return{getAttachments:this.getAttachments.bind(this),downloadAttachment:this.downloadAttachment.bind(this)}}downloadAttachment(e){const t=this.coreState.core.document;return t?this.engine.readAttachmentContent(t,e):Nt.reject({code:_t.NotFound,message:"Document not found"})}getAttachments(){const e=this.coreState.core.document;return e?this.engine.getAttachments(e):Nt.reject({code:_t.NotFound,message:"Document not found"})}};ul.id="attachment";let hl=ul;const pl="attachment",gl={manifest:{id:pl,name:"Attachment Plugin",version:"1.0.0",provides:["attachment"],requires:[],optional:[],defaultConfig:{enabled:!0}},create:e=>new hl(pl,e),reducer:()=>{},initialState:{}};var ml=["commandId","onClick","active","iconProps","disabled"],fl=["commandId","onClick","active"],vl=function(e,t,n){var o=e.commandId,i=e.onClick,r=e.active,a=e.iconProps,l=e.disabled,s=void 0!==l&&l,c=p(e,ml),d=vi().provides,u=o?null==d?void 0:d.getMenuOrAction(o):null,g=Ie((function(e){if(e.preventDefault(),e.stopPropagation(),i)i();else if(o&&d&&u){var t=e.currentTarget;d.executeCommand(o,{source:"click",triggerElement:t,position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right"})}}),[u,o,d,i]);return H(Er,{position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right",content:c.label||(null==u?void 0:u.label)||"",trigger:r?"none":"hover",delay:500},H(xi,{active:r,onClick:g,disabled:s,className:" ".concat("flyout"===(null==n?void 0:n.variant)?"w-full rounded-none px-2":""," ")},!(null!=u&&u.icon)&&c.img&&H("img",{src:c.img,alt:c.label,className:"h-5 w-5"}),(null==u?void 0:u.icon)&&H(Xr,h({icon:u.icon,className:"h-5 w-5"},a))))},yl=function(e,t){var n=e.commandId,o=e.onClick,i=e.active,r=p(e,fl),a=vi().provides,l=n?null==a?void 0:a.getMenuOrAction(n):null,s=Ie((function(e){e.preventDefault(),e.stopPropagation(),o?o():n&&a&&l&&a.executeCommand(n,{source:"click"})}),[l,n,a,o]);return H(xi,{key:r.id,className:"rounded-none px-2 py-1 text-sm hover:bg-transparent ".concat(i?"border-b-2 border-b-blue-500 text-blue-500":"border-b-2 border-b-transparent hover:border-b-gray-500"," hover:ring-transparent"),onClick:s},r.label)},bl=function(e,t,n){return H("div",{className:"horizontal"===(null==n?void 0:n.direction)?"h-6 w-[1px] bg-gray-300 self-center":"h-[1px] w-6 bg-gray-300 self-center"})},wl=function(e,t,n){return H("div",{style:{display:"flex",flexDirection:"horizontal"===(null==n?void 0:n.direction)?"row":"column",justifyContent:e.justifyContent||"start",gap:"".concat(e.gap||0,"px")}},t())},xl=function(e,t){var n=h(h(h({},"top"===e.placement?{borderBottom:"1px solid #cfd4da"}:"bottom"===e.placement?{borderTop:"1px solid #cfd4da"}:"left"===e.placement?{borderRight:"1px solid #cfd4da"}:{borderLeft:"1px solid #cfd4da"}),{},{width:"top"===e.placement||"bottom"===e.placement?"100%":"auto",height:"left"===e.placement||"right"===e.placement?"100%":"auto",zIndex:10,justifyContent:"space-between",display:"flex",flexDirection:"top"===e.placement||"bottom"===e.placement?"row":"column"},"top"===e.placement||"bottom"===e.placement?{paddingTop:"8px",paddingBottom:"8px",paddingLeft:"16px",paddingRight:"16px"}:{paddingLeft:"8px",paddingRight:"8px",paddingTop:"16px",paddingBottom:"16px"}),e.style);return void 0===e.visible||e.visible?H("div",{style:n,className:"header"},t(h({},e.visibleChild&&{filter:function(t){return t===e.visibleChild}}))):null},kl=function(e,t){var n=vi().provides,o=e.tabsCommandId?null==n?void 0:n.getMenuOrAction(e.tabsCommandId):null,i=o&&"menu"===o.type?null==n?void 0:n.getItemsByIds(o.children):null;return H($,null,o&&i&&H("div",{role:"tablist",className:"mx-4 my-4 flex flex-shrink-0 overflow-hidden bg-white"},i.filter((function(e){return"action"===e.type})).map((function(e,t,o){var i=!!e.active,r=0===t,a=t===o.length-1;return H(Er,{key:e.id,content:e.label,trigger:"hover",position:"bottom"},H("button",{role:"tab","aria-selected":i,tabIndex:i?0:-1,onClick:function(t){return null==n?void 0:n.executeCommand(e.id,{source:"click",triggerElement:t.currentTarget,position:"bottom"})},className:"relative flex h-7 flex-1 cursor-pointer items-center justify-center border outline-none transition-colors ".concat(r?"rounded-l-md":""," ").concat(a?"rounded-r-md":""," ").concat(a?"":"border-r-0"," ").concat(i?"border-blue-600 bg-blue-600 text-white":"border-gray-300 text-gray-600 hover:bg-gray-50"," ")},e.icon&&H(Xr,{icon:e.icon,className:"pointer-events-none block h-5 w-5"})))}))),t(h({},e.visibleChild&&{filter:function(t){return t===e.visibleChild}})))},Cl=function(e,t){var n=function(e){var t=f(ke(!1),2),n=t[0],o=t[1],i=Me(0),r=Me(0),a=Me(null),l=Me(!1);return Ce((function(){e||(o(!1),l.current=!1)}),[e]),Ce((function(){if(e){var t=a.current;if(t){var s=function(e){l.current=!0,i.current="touches"in e?e.touches[0].clientY:e.clientY,r.current=i.current},c=function(e){if(l.current){r.current="touches"in e?e.touches[0].clientY:e.clientY;var t=r.current-i.current;t<-2&&!n?(o(!0),l.current=!1):t>2&&n&&(o(!1),l.current=!1)}},d=function(){l.current=!1};return t.addEventListener("touchstart",s),t.addEventListener("touchmove",c),t.addEventListener("touchend",d),t.addEventListener("touchcancel",d),t.addEventListener("mousedown",s),t.addEventListener("mousemove",c),t.addEventListener("mouseup",d),t.addEventListener("mouseleave",d),function(){t.removeEventListener("touchstart",s),t.removeEventListener("touchmove",c),t.removeEventListener("touchend",d),t.removeEventListener("touchcancel",d),t.removeEventListener("mousedown",s),t.removeEventListener("mousemove",c),t.removeEventListener("mouseup",d),t.removeEventListener("mouseleave",d)}}}}),[e,n]),{elementRef:a,isFullscreen:n}}(e.open),o=n.elementRef,i=n.isFullscreen,r=vi().provides;if(!e.open)return null;var a="left"===e.location?"md:border-r":"md:border-l";return H("div",{className:"flex w-full flex-none shrink-0 flex-col border-t bg-white md:w-[275px] md:min-w-[275px] md:border-t-0 ".concat(a," absolute bottom-0 left-0 right-0 z-10 touch-pan-y border-[#cfd4da] transition-all duration-300 ease-in-out md:static md:h-full ").concat(i?"h-full":"h-1/2")},H("div",{className:"flex h-6 w-full cursor-grab items-center justify-center active:cursor-grabbing md:hidden",ref:o},H("div",{className:"h-1 w-12 rounded-full bg-gray-300"})),H("div",{className:"flex flex-row justify-end md:hidden"},H("button",{onClick:function(){null==r||r.togglePanel({id:e.id,visibleChild:e.visibleChild||"leftPanelMain",open:!e.open})},className:"mr-5 cursor-pointer"},H(Xr,{icon:"x",className:"h-5 w-5"}))),H("div",{className:"flex min-h-0 flex-1 flex-col"},t(h({},e.visibleChild&&{filter:function(t){return t===e.visibleChild}}))))};function Sl(e){var t=e.hit,n=e.onClick,o=e.active,i=t.context,r=i.before,a=i.match,l=i.after,s=i.truncatedLeft,c=i.truncatedRight,d=Me(null);return Ce((function(){o&&d.current&&d.current.scrollIntoView({behavior:"smooth",block:"nearest"})}),[o]),H("button",{ref:d,onClick:function(){return n(t)},className:"shadow-xs w-full cursor-pointer overflow-hidden rounded border border-[#cfd4da] p-3 text-left text-xs leading-tight text-gray-600 ".concat(o?"border-blue-500 bg-blue-50":"hover:border-[#1a466b] hover:bg-gray-100")},s&&" ",r,H("span",{className:"font-bold text-blue-500"},a),l,c&&" ")}var Ml=function(e){var t=Me(null),n=f(ke(e.query||""),2),o=n[0],i=n[1],r=ga().provides,a=zo().provides,l=Sa(o,400);Ce((function(){t.current&&t.current.focus()}),[r]),Ce((function(){""===l?null==r||r.stopSearch():null==r||r.searchAllPages(l)}),[l,r]),Ce((function(){void 0!==e.activeResultIndex&&c(e.activeResultIndex)}),[e.activeResultIndex,e.query,e.flags]);var s=function(t,n){n?null==r||r.setFlags([].concat(v(e.flags),[t])):null==r||r.setFlags(e.flags.filter((function(e){return e!==t})))},c=function(t){var n=e.results[t];if(n){var o=n.rects.reduce((function(e,t){return{x:Math.min(e.x,t.origin.x),y:Math.min(e.y,t.origin.y)}}),{x:1/0,y:1/0});null==a||a.scrollToPage({pageNumber:n.pageIndex+1,pageCoordinates:o,center:!0})}},d=e.results.reduce((function(e,t,n){var o,i;return(null!==(i=e[o=t.pageIndex])&&void 0!==i?i:e[o]=[]).push({hit:t,index:n}),e}),{});return H("div",{className:"flex h-full flex-col bg-white"},H("div",{className:"p-4"},H("div",{className:"relative"},H("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-2"},H("svg",{className:"h-4 w-4 text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},H("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"}))),H("input",{ref:t,type:"text",placeholder:"Search",autoFocus:!0,value:o,onInput:function(e){var t=e.target;i(t.value)},className:"w-full rounded-md border border-gray-300 py-1 pl-8 pr-9 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"}),o&&H("div",{className:"absolute inset-y-0 right-0 flex cursor-pointer items-center pr-3",onClick:function(){i(""),t.current&&t.current.focus()}},H("svg",{className:"h-4 w-4 text-gray-500 hover:text-gray-700",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},H("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})))),H("div",{className:"mt-3 flex flex-row gap-4"},H(Ma,{label:"Case sensitive",checked:e.flags.includes(Rt.MatchCase),onChange:function(e){return s(Rt.MatchCase,e)}}),H(Ma,{label:"Whole word",checked:e.flags.includes(Rt.MatchWholeWord),onChange:function(e){return s(Rt.MatchWholeWord,e)}})),H("hr",{className:"mb-2 mt-5 border-gray-200"}),e.active&&H("div",{className:"flex h-[32px] flex-row items-center justify-between"},H("div",{className:"text-xs text-gray-500"},e.total," results found"),e.total>1&&H("div",{className:"flex flex-row"},H(xi,{onClick:function(){null==r||r.previousResult()}},H(Xr,{icon:"chevronLeft",className:"h-4 w-4"})),H(xi,{onClick:function(){null==r||r.nextResult()}},H(Xr,{icon:"chevronRight",className:"h-4 w-4"}))))),H("div",{className:"flex min-h-0 flex-1 flex-col gap-2 overflow-y-auto px-4"},Object.entries(d).map((function(t){var n=f(t,2),o=n[0],i=n[1];return H("div",{key:o,className:"mt-2 first:mt-0"},H("div",{className:"bg-white/80 py-2 text-xs text-gray-500 backdrop-blur"},"Page ",Number(o)+1),H("div",{className:"flex flex-col gap-2"},i.map((function(t){var n=t.hit,o=t.index;return H(Sl,{key:o,hit:n,active:o===e.activeResultIndex,onClick:function(){null==r||r.goToResult(o)}})}))))})),H("div",null)))},Pl=function(e,t,n){var o=Wr().provides,i=vi().provides;if(!i)return null;var r=e.commandZoomMenu?i.getMenuOrAction(e.commandZoomMenu):null,a=e.commandZoomIn?i.getMenuOrAction(e.commandZoomIn):null,l=e.commandZoomOut?i.getMenuOrAction(e.commandZoomOut):null,s=f(ke(!1),2);s[0],s[1];var c=Me(null),d=Math.round(100*e.zoomLevel),u=function(e,t){t&&i.executeCommand(t.id,{source:"click",triggerElement:e.currentTarget,position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right",flatten:!0})};return Ce((function(){c.current&&console.log(c.current)}),[c.current]),H("div",{className:"flex flex-row items-center rounded-md bg-[#f1f3f5]"},H("form",{onSubmit:function(e){e.preventDefault();var t=e.target,n=new FormData(t).get("zoom");null==o||o.requestZoom(parseFloat(n)/100)},className:"block"},H("input",{name:"zoom",type:"text",inputMode:"numeric",pattern:"\\d*",className:"h-6 w-8 border-0 bg-transparent p-0 text-right text-sm","aria-label":"Set zoom",autoFocus:!1,value:d,onInput:function(e){var t=e.target;t.value=t.value.replace(/[^0-9]/g,"")}}),H("span",{className:"text-sm"},"%")),H(Er,{position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right",content:"Zoom Options",trigger:e.zoomMenuActive?"none":"hover"},H(xi,{className:"p-1",onClick:function(e){return u(e,r)},active:e.zoomMenuActive},H("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-chevron-down"},H("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),H("path",{d:"M6 9l6 6l6 -6"})))),H(Er,{position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right",content:"Zoom Out",trigger:"hover"},H(xi,{className:"p-1",onClick:function(e){return u(e,l)}},(null==l?void 0:l.icon)&&H(Xr,{icon:l.icon,className:"h-5 w-5"}))),H(Er,{position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right",content:"Zoom In",trigger:"hover"},H(xi,{className:"p-1",onClick:function(e){return u(e,a)}},(null==a?void 0:a.icon)&&H(Xr,{icon:a.icon,className:"h-5 w-5"}))))},Il=function(e,t){var n=Va().provides,o=zo().provides,i=ho().provides;if(!(e.open&&n&&o&&i))return null;var r=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:40;if(!e.length)return null;var r=n.getMetrics(),a=n.getViewportGap(),l=1===e.length?{first:e[0],last:e[0]}:{first:e[0],last:e[e.length-1]},s=t.getRectPositionForPage(l.first.page,l.first.rect),c=t.getRectPositionForPage(l.last.page,l.last.rect);if(!s||!c)return null;var d=Ka(c,r,i,o,a,!1),u=Ka(s,r,i,o,a,!0);return d?{left:c.origin.x+c.size.width/2,top:c.origin.y+c.size.height+o}:u?{left:s.origin.x+s.size.width/2,top:s.origin.y-o-i}:null}(n.getBoundingRects(),o,i,10,42);return r?H("div",{style:{left:"".concat(r.left,"px"),top:"".concat(r.top,"px"),transform:"translate(-50%, 0%)",zIndex:2e3},className:"absolute rounded-md border border-[#cfd4da] bg-[#f8f9fa] p-1"},t()):null},Tl=function(e,t){var n=ho().provides,o=f(ke(!1),2),i=o[0],r=o[1],a=f(ke(!1),2),l=a[0],s=a[1],c=Me(),d=Ie((function(){c.current&&clearTimeout(c.current),c.current=setTimeout((function(){l||r(!1)}),4e3)}),[l]);Ce((function(){if(n)return n.onScrollChange((function(e){(e.scrollTop>0||e.scrollLeft>0)&&(r(!0),d())}))}),[n,d]),Ce((function(){return function(){c.current&&clearTimeout(c.current)}}),[]);return H("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2",onMouseEnter:function(){s(!0),r(!0)},onMouseLeave:function(){s(!1),d()}},H("div",{className:"rounded-md border border-[#cfd4da] bg-[#f8f9fa] p-1 transition-opacity duration-200 ".concat(i?"opacity-100":"opacity-0")},t()))},Al=function(e){var t=zo().provides,n=vi().provides,o=1===e.currentPage,i=e.currentPage===e.pageCount,r=e.nextPageCommandId?null==n?void 0:n.getMenuOrAction(e.nextPageCommandId):null,a=e.previousPageCommandId?null==n?void 0:n.getMenuOrAction(e.previousPageCommandId):null,l=function(e,t){t&&n&&n.executeCommand(t.id,{source:"click",triggerElement:e.currentTarget})};return H("div",{className:"flex flex-row items-center justify-between gap-3 rounded-md"},H(Er,{position:"top",content:"Previous Page",trigger:o?"none":"hover"},H(xi,{className:"p-1 ".concat(o?"cursor-not-allowed opacity-50 hover:ring-0":""),onClick:function(e){return l(e,a)},disabled:o},(null==a?void 0:a.icon)&&H(Xr,{icon:a.icon,className:"h-5 w-5"}))),H("form",{className:"flex flex-row items-center gap-3",onSubmit:function(e){e.preventDefault();var n=e.target,o=new FormData(n).get("page"),i=parseInt(o);!isNaN(i)&&i>=1&&(null==t||t.scrollToPage({pageNumber:i}))}},H("input",{name:"page",type:"text",inputMode:"numeric",pattern:"\\d*",className:"border-1 h-8 w-8 rounded-md border-gray-600 bg-white p-0 text-center text-sm","aria-label":"Set page",value:e.currentPage,onInput:function(e){var t=e.target;t.value=t.value.replace(/[^0-9]/g,"")}}),H("span",{className:"text-sm"},e.pageCount)),H(Er,{position:"top",content:"Next Page",trigger:i?"none":"hover"},H(xi,{className:"p-1 ".concat(i?"cursor-not-allowed opacity-50 hover:ring-0":""),onClick:function(e){return l(e,r)},disabled:i},(null==r?void 0:r.icon)&&H(Xr,{icon:r.icon,className:"h-5 w-5"}))))},zl=function(e){var t=e.activeCommand,n=e.open,o=e.position,i=e.triggerElement,r=e.flatten,a=vi().provides,l=f(ke([]),2),s=l[0],c=l[1],d=Me(null);if(Ce((function(){n||c([])}),[n]),Ce((function(){t&&(d.current!==t?c([]):d.current=null)}),[t]),!a)return null;var u=t?null==a?void 0:a.getChildItems(t,{flatten:r}):null,p=s.length>0&&t?a.getMenuOrAction(t):void 0,g=function(e){t&&c((function(e){return[].concat(v(e),[t])})),d.current=e,a.executeCommand(e,{triggerElement:i,position:o})},m=function(e,t){if("group"===e.type){var n=e,o=a.getItemsByIds(n.children);return H($,{key:e.id},H("div",{className:"px-4 py-3 text-xs font-medium uppercase text-gray-600"},n.label),o.map((function(e,t){return H($,{key:e.id},m(e,t))})),H("hr",{className:"my-2 border-gray-200"}))}var i=e.dividerBefore&&0!==t?H("hr",{className:"my-2 border-gray-200"}):null;return H($,{key:e.id},i,H("button",{disabled:!!e.disabled,onClick:function(){return function(e){"action"===e.type?(a.hideCommandMenu(),a.executeCommand(e.id)):"menu"===e.type&&g(e.id)}(e)},className:"flex cursor-pointer flex-row items-center justify-between gap-2 px-4 py-1 ".concat("menu"===e.type?"menu-item":""," ").concat(e.active&&!e.disabled?"bg-blue-500 text-white":"text-gray-500 hover:bg-blue-900 hover:text-white"," ").concat(e.disabled?"pointer-events-none cursor-not-allowed opacity-50":""," ")},H("div",{className:"flex flex-row items-center gap-2"},H("div",{className:"flex h-6 w-6 items-center justify-center"},e.icon&&H(Xr,h({icon:e.icon,className:"h-6 w-6"},e.iconProps))),H("div",{className:"text-sm"},e.label)),H("div",{className:"flex items-center"},e.shortcutLabel&&H("div",{className:"mr-2 text-sm"},"(",e.shortcutLabel,")"),"menu"===e.type&&H(Xr,{icon:"chevronRight",className:"h-6 w-6"}))))},y=H($,null,s.length>0&&H("div",{onClick:function(){if(0!==s.length){var e=s[s.length-1];c((function(e){return e.slice(0,-1)})),d.current=e,a.executeCommand(e,{triggerElement:i,position:o})}},className:"flex cursor-pointer flex-row items-center gap-2 px-4 py-1 pb-2 text-sm font-medium text-gray-500 hover:bg-gray-100"},H(Xr,{icon:"chevronLeft",className:"h-6 w-6 text-gray-500"})," ",null==p?void 0:p.label),null==u?void 0:u.map((function(e,t){return m(e,t)})));return n?H(_r,{trigger:i,open:n,placement:o||"bottom",className:"@max-[600px]:!bottom-0 @max-[600px]:!top-auto @max-[600px]:!left-0 @max-[600px]:!right-0",onShow:function(){},onHide:function(){a.hideCommandMenu()}},y):null},Rl=function(e,t){var n=zo().provides;return H(ka,{className:"flex-1",selectedPage:e.currentPage},(function(t){return H("div",{key:t.pageIndex,className:"absolute flex w-full cursor-pointer flex-col items-center",style:{height:t.wrapperHeight,top:t.top},onClick:function(){null==n||n.scrollToPage({pageNumber:t.pageIndex+1})}},H("div",{style:{width:t.width,height:t.height},className:"outline outline-2 -outline-offset-2 ".concat(e.currentPage===t.pageIndex+1?"outline-blue-500":"outline-gray-300")},H(Ca,{meta:t,className:"h-full w-full object-contain"})),H("div",{className:"flex items-center justify-center text-xs text-gray-500",style:{height:t.labelHeight}},t.pageIndex+1))}))},El=function(e,t){var n=Kn(cl.id).provides,o=zo().provides,i=f(ke([]),2),r=i[0],a=i[1],l=f(ke(new Set),2),s=l[0],c=l[1];Ce((function(){if(n){var e=n.getBookmarks();return e.wait((function(e){var t=e.bookmarks;a(t);var n=t.map((function(e,t){return"bookmark-".concat(t)}));c(new Set(n))}),un),function(){e.abort({code:_t.Cancelled,message:"Bookmark task cancelled"})}}}),[n,e.document]);var d=function(t,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a="bookmark-".concat(n),l=t.children&&t.children.length>0,u=s.has(a);return H("div",{key:a,className:"outline-item"},H("div",{className:"flex cursor-pointer items-center py-1 pr-4 text-sm text-gray-700 hover:bg-gray-100",style:{paddingLeft:"".concat(16*r+8,"px")},onClick:function(){return function(t){if(o&&t.target&&"action"===t.target.type){var n=t.target.action;if(1===n.type&&n.destination){var i=n.destination;if(i.zoom.mode===ut.XYZ){var r,a=null===(r=e.document)||void 0===r?void 0:r.pages.find((function(e){return e.index===i.pageIndex}));if(!a)return;o.scrollToPage({pageNumber:i.pageIndex+1,pageCoordinates:i.zoom.params?{x:i.zoom.params.x,y:a.size.height-i.zoom.params.y}:void 0,behavior:"smooth"})}else i.zoom.mode===ut.FitPage&&o.scrollToPage({pageNumber:i.pageIndex+1,behavior:"smooth"})}}}(t)}},l&&H("button",{className:"mr-1 flex h-4 w-4 items-center justify-center rounded hover:bg-gray-200",onClick:function(e){e.stopPropagation(),function(e){c((function(t){var n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}))}(a)}},H(Xr,{icon:u?"chevronDown":"chevronRight",className:"h-3 w-3 text-gray-500"})),!l&&H("div",{className:"mr-1 w-4"}),H("span",{className:"flex-1 truncate",title:t.title},t.title)),l&&u&&H("div",{className:"outline-children"},null===(i=t.children)||void 0===i?void 0:i.map((function(e,t){return d(e,"".concat(n,"-").concat(t),r+1)}))))};return 0===r.length?H("div",{className:"flex h-full items-center justify-center p-6"},H("div",{className:"text-center text-gray-500"},H("div",{className:"text-sm"},"No outline available"),H("div",{className:"mt-1 text-xs"},"This document doesn't contain bookmarks"))):H("div",{className:"flex h-full flex-col bg-white"},H("div",{className:"flex-1 overflow-y-auto"},H("div",{className:"outline-tree"},r.map((function(e,t){return d(e,t)})))))},_l=function(e,t){var n=Kn(hl.id).provides,o=f(ke([]),2),i=o[0],r=o[1];Ce((function(){if(n){var e=n.getAttachments();return e.wait((function(e){r(e)}),un),function(){e.abort({code:_t.Cancelled,message:"Bookmark task cancelled"})}}}),[n,e.document]);var a=function(e){if(n){var t=n.downloadAttachment(e);return t.wait((function(e){console.log(e)}),un),function(){t.abort({code:_t.Cancelled,message:"Attachment task cancelled"})}}};return H("div",null,i.map((function(e){return H("div",{key:e.name,onClick:function(){return a(e)}},e.name)})))},Nl=function(e,t){var n=e.activeCommandId,o=e.menuCommandId,i=e.active,r=vi().provides;if(!r)return null;var a=r.getMenuOrAction(n),l=Ie((function(e){if(e.preventDefault(),e.stopPropagation(),r&&o){var t=e.currentTarget;r.executeCommand(o,{source:"click",triggerElement:t})}}),[o,r]);return H("div",{style:{maxWidth:"100px",width:"100px"}},H(xi,{className:"col-start-1 row-start-1 !w-full appearance-none rounded-md bg-white py-1.5 pl-3 pr-2 text-[13px] text-gray-900 ".concat(i?"text-blue-500 outline outline-2 -outline-offset-2 outline-blue-500":"outline outline-1 -outline-offset-1 outline-gray-300"," flex flex-row items-center justify-between gap-2 hover:ring-transparent"),onClick:l},H("span",{className:"min-w-0 flex-1 truncate text-left"},null==a?void 0:a.label),H(Xr,{icon:"chevronDown",className:"h-4 w-4 text-gray-500"})))},Ll=function(e){var t=vi().provides,n=zo().provides,o=il().provides,i=f(ke("all"),2),r=i[0],a=i[1],l=f(ke(""),2),s=l[0],c=l[1],d=f(ke(!0),2),u=d[0],h=d[1],p=f(ke(!1),2),g=p[0],m=p[1],v=f(ke(""),2),y=v[0],b=v[1];if(!t)return null;if(!e.open)return null;var w=null==n?void 0:n.getMetrics(),x=(null==w?void 0:w.currentPage)||1,k=(null==n?void 0:n.getTotalPages())||0,C=function(){t.updateComponentState({componentType:"floating",componentId:"printModal",patch:{open:!1}})},S=("custom"!==r||s.trim().length>0)&&!g;return H(Ja,{open:e.open,title:"Print Settings",onClose:C,maxWidth:"28rem"},H("div",{className:"space-y-6"},H("div",null,H("label",{className:"mb-3 block text-sm font-medium text-gray-700"},"Pages to print"),H("div",{className:"space-y-2"},H("label",{className:"flex items-center"},H("input",{type:"radio",name:"pageRange",value:"all",checked:"all"===r,onChange:function(){return a("all")},disabled:g,className:"mr-2"}),H("span",{className:"text-sm"},"All pages")),H("label",{className:"flex items-center"},H("input",{type:"radio",name:"pageRange",value:"current",checked:"current"===r,onChange:function(){return a("current")},disabled:g,className:"mr-2"}),H("span",{className:"text-sm"},"Current page (",x,")")),H("label",{className:"flex items-start"},H("input",{type:"radio",name:"pageRange",value:"custom",checked:"custom"===r,onChange:function(){return a("custom")},disabled:g,className:"mr-2 mt-0.5"}),H("div",{className:"flex-1"},H("span",{className:"mb-1 block text-sm"},"Specify pages"),H("input",{type:"text",placeholder:"e.g., 1-3, 5, 8-10",value:s,onInput:function(e){return c(e.target.value)},disabled:"custom"!==r||g,className:"w-full rounded-md border px-3 py-1 text-sm ".concat("custom"!==r||g?"bg-gray-100 text-gray-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"," focus:outline-none focus:ring-1")}),"custom"===r&&s.trim()&&k>0&&H("p",{className:"mt-1 text-xs text-gray-500"},"Total pages in document: ",k))))),H("div",null,H("label",{className:"flex items-center"},H("input",{type:"checkbox",checked:u,onChange:function(e){return h(e.target.checked)},disabled:g,className:"mr-2"}),H("span",{className:"text-sm font-medium text-gray-700"},"Include annotations"))),g&&H("div",{className:"flex items-center space-x-3 rounded-md bg-blue-50 p-3"},H("div",{className:"flex-shrink-0"},H("svg",{className:"h-5 w-5 animate-spin text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},H("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),H("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}))),H("div",{className:"text-sm text-blue-700"},y)),H("div",{className:"flex justify-end space-x-3 border-t border-gray-200 pt-4"},H(xi,{onClick:C,disabled:g,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Cancel"),H(xi,{onClick:function(){var e;"current"===r?e=String(x):"custom"===r&&(e=s.trim()||void 0);var t={includeAnnotations:u,pageRange:e};try{m(!0),b("Preparing document...");var n=null==o?void 0:o.print(t);n&&(n.onProgress((function(e){b(e.message)})),n.wait((function(){m(!1),b(""),C()}),(function(e){console.error("Print failed:",e),m(!1),b("")})))}catch(e){console.error("Print failed:",e),m(!1),b("")}},disabled:!S,className:"flex items-center space-x-2 rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm text-white hover:!bg-blue-700 disabled:cursor-not-allowed disabled:opacity-50"},g&&H("svg",{className:"h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},H("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),H("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),H("span",null,g?"Printing...":"Print")))))};const Dl="annotation",Ol={id:Dl,name:"Annotation Plugin",version:"1.0.0",provides:["annotation"],requires:["interaction-manager","selection"],optional:["history"],defaultConfig:{enabled:!0,autoCommit:!0,annotationAuthor:"Guest",deactivateToolAfterCreate:!1,selectAfterCreate:!0}},Bl="ANNOTATION/SET_ANNOTATIONS",Hl="ANNOTATION/SELECT_ANNOTATION",jl="ANNOTATION/DESELECT_ANNOTATION",$l="ANNOTATION/ADD_COLOR_PRESET",Fl="ANNOTATION/CREATE_ANNOTATION",Ul="ANNOTATION/PATCH_ANNOTATION",Wl="ANNOTATION/DELETE_ANNOTATION",ql="ANNOTATION/COMMIT",Gl="ANNOTATION/PURGE_ANNOTATION",Zl="ANNOTATION/SET_ACTIVE_TOOL_ID",Vl="ANNOTATION/SET_TOOL_DEFAULTS",Yl="ANNOTATION/ADD_TOOL",Xl=()=>({type:jl}),Kl=(e,t)=>({type:Fl,payload:{pageIndex:e,annotation:t}}),Ql=(e,t,n)=>({type:Ul,payload:{pageIndex:e,id:t,patch:n}}),Jl=(e,t)=>({type:Wl,payload:{pageIndex:e,id:t}}),es=e=>({type:Gl,payload:{uid:e}});function ts(e){return e.object.type===bt.INK}function ns(e){return e.object.type===bt.CIRCLE}function os(e){return e.object.type===bt.POLYGON}function is(e){return e.object.type===bt.SQUARE}function rs(e){return e.object.type===bt.LINE}function as(e){return e.object.type===bt.POLYLINE}function ls(e){return e.object.type===bt.HIGHLIGHT}function ss(e){return e.object.type===bt.UNDERLINE}function cs(e){return e.object.type===bt.STRIKEOUT}function ds(e){return e.object.type===bt.SQUIGGLY}function us(e){return e.object.type===bt.FREETEXT}function hs(e){return e.object.type===bt.STAMP}function ps(e){return e.object.type===bt.TEXT}function gs(e){return function(e){return ls(e)||ss(e)||cs(e)||ds(e)}(e)||ts(e)||is(e)||ns(e)||os(e)||rs(e)||as(e)||us(e)||hs(e)}const ms=e=>e.selectedUid?e.byUid[e.selectedUid]:null;function fs(e,t){const n=e.tools.find((e=>e.id===t));return null==n?void 0:n.defaults}const vs=e=>{const t={};for(const n of Object.values(e.pages))for(const o of n){const n=e.byUid[o];if(n&&ps(n)){const e=n.object.inReplyToId;e&&(t[e]||(t[e]=[])).push(n)}}const n={};for(const[o,i]of Object.entries(e.pages)){const r=Number(o),a=[];for(const n of i){const o=e.byUid[n];o&&gs(o)&&a.push({page:r,annotation:o,replies:t[o.object.id]??[]})}a.length>0&&(n[r]=a)}return n};function ys(e){let t=e;return[()=>t,e=>{t=e}]}const bs={annotationType:bt.INK,create(e){const{onCommit:t,onPreview:n,getTool:o,pageSize:i}=e,[r,a]=ys([]),[l,s]=ys(!1),c={current:null},d=e=>({x:On(e.x,0,i.width),y:On(e.y,0,i.height)}),u=()=>{const e=o();return e?{...e.defaults,strokeWidth:e.defaults.strokeWidth??1,color:e.defaults.color??"#000000",opacity:e.defaults.opacity??1,flags:e.defaults.flags??["print"]}:null},h=()=>{const e=r();if(0===e.length||0===e[0].points.length)return null;const t=u();if(!t)return null;const n=e.flatMap((e=>e.points)),o=Ve(Ze(n),t.strokeWidth/2);return{type:bt.INK,bounds:o,data:{...t,rect:o,inkList:e}}};return{onPointerDown:(e,t)=>{var o;const i=d(e);s(!0),c.current&&clearTimeout(c.current);const l=[...r(),{points:[i]}];a(l),n(h()),null==(o=t.setPointerCapture)||o.call(t)},onPointerMove:e=>{if(!l())return;const t=r();if(0===t.length)return;const o=d(e);t[t.length-1].points.push(o),a(t),n(h())},onPointerUp:(o,i)=>{var l;s(!1),null==(l=i.releasePointerCapture)||l.call(i),c.current&&clearTimeout(c.current),c.current=setTimeout((()=>{const o=r();if(o.length>0&&o[0].points.length>1){const n=u();if(!n)return;const i=o.flatMap((e=>e.points)),r=Ve(Ze(i),n.strokeWidth/2);t({...n,inkList:o,rect:r,type:bt.INK,pageIndex:e.pageIndex,id:dn(),created:new Date})}a([]),n(null)}),800)},onPointerCancel:(e,t)=>{var o;a([]),s(!1),n(null),c.current&&clearTimeout(c.current),null==(o=t.releasePointerCapture)||o.call(t)}}}};function ws({threshold:e=5,getTool:t,onClickDetected:n}){const[o,i]=ys(null),[r,a]=ys(!1);return{onStart:e=>{i(e),a(!1)},onMove:t=>{const n=o();if(!n||r())return;Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))>e&&a(!0)},onEnd:e=>{var l;if(o()&&!r()){const o=t();o&&"clickBehavior"in o&&(null==(l=o.clickBehavior)?void 0:l.enabled)&&n(e,o)}i(null),a(!1)},hasMoved:r,reset:()=>{i(null),a(!1)}}}const xs={annotationType:bt.FREETEXT,create(e){const{onCommit:t,onPreview:n,getTool:o,pageSize:i,pageIndex:r}=e,[a,l]=ys(null),s=e=>({x:On(e.x,0,i.width),y:On(e.y,0,i.height)}),c=()=>{const e=o();return e?{...e.defaults,fontColor:e.defaults.fontColor??"#000000",opacity:e.defaults.opacity??1,fontSize:e.defaults.fontSize??12,fontFamily:e.defaults.fontFamily??pt.Helvetica,backgroundColor:e.defaults.backgroundColor??"transparent",textAlign:e.defaults.textAlign??gt.Left,verticalAlign:e.defaults.verticalAlign??mt.Top,contents:e.defaults.contents??"Insert text here",flags:e.defaults.flags??["print"]}:null},d=ws({threshold:5,getTool:o,onClickDetected:(e,n)=>{const o=c();if(!o)return;const a=n.clickBehavior;if(!(null==a?void 0:a.enabled))return;const{width:l,height:s}=a.defaultSize,d=l/2,u=s/2,h={origin:{x:On(e.x-d,0,i.width-l),y:On(e.y-u,0,i.height-s)},size:{width:l,height:s}},p=a.defaultContent??o.contents,g={...o,contents:p,type:bt.FREETEXT,rect:h,pageIndex:r,id:dn(),created:new Date};t(g)}}),u=e=>{const t=a();if(!t)return null;const n=c();if(!n)return null;const o={origin:{x:Math.min(t.x,e.x),y:Math.min(t.y,e.y)},size:{width:Math.abs(t.x-e.x),height:Math.abs(t.y-e.y)}};return{type:bt.FREETEXT,bounds:o,data:{...n,rect:o}}};return{onPointerDown:(e,t)=>{var o;const i=s(e);l(i),d.onStart(i),n(u(i)),null==(o=t.setPointerCapture)||o.call(t)},onPointerMove:e=>{const t=s(e);d.onMove(t),a()&&d.hasMoved()&&n(u(t))},onPointerUp:(o,i)=>{var r;const u=a();if(!u)return;const h=c();if(!h)return;const p=s(o);if(d.hasMoved()){const n={origin:{x:Math.min(u.x,p.x),y:Math.min(u.y,p.y)},size:{width:Math.abs(u.x-p.x),height:Math.abs(u.y-p.y)}},o={...h,type:bt.FREETEXT,rect:n,pageIndex:e.pageIndex,id:dn(),created:new Date};t(o)}else d.onEnd(p);l(null),n(null),d.reset(),null==(r=i.releasePointerCapture)||r.call(i)},onPointerLeave:(e,t)=>{var o;l(null),n(null),d.reset(),null==(o=t.releasePointerCapture)||o.call(t)},onPointerCancel:(e,t)=>{var o;l(null),n(null),d.reset(),null==(o=t.releasePointerCapture)||o.call(t)}}}};function ks(e){const t=e=>{const t=9*e,n=Math.PI/6;return{x:-t*Math.cos(n),y:t*Math.sin(n)}};return{getSvgPath:n=>{const{x:o,y:i}=t(n);return e?`M 0 0 L ${o} ${i} L ${o} ${-i} Z`:`M ${o} ${i} L 0 0 L ${o} ${-i}`},getLocalPoints:e=>{const{x:n,y:o}=t(e);return[{x:0,y:0},{x:n,y:o},{x:n,y:-o}]},getRotation:e=>e,filled:e}}function Cs(e,t){const n=t=>t*e/2;return{getSvgPath:e=>{const t=n(e);return`M ${-t} 0 L ${t} 0`},getLocalPoints:e=>{const t=n(e);return[{x:-t,y:0},{x:t,y:0}]},getRotation:t,filled:!1}}const Ss=ks(!1),Ms=ks(!0),Ps={[kt.OpenArrow]:Ss,[kt.ClosedArrow]:Ms,[kt.ROpenArrow]:{...Ss,getRotation:e=>e+Math.PI},[kt.RClosedArrow]:{...Ms,getRotation:e=>e+Math.PI},[kt.Circle]:{getSvgPath:e=>{const t=5*e/2;return`M ${t} 0 A ${t} ${t} 0 1 1 ${-t} 0 A ${t} ${t} 0 1 1 ${t} 0`},getLocalPoints:e=>{const t=5*e/2;return[{x:-t,y:-t},{x:t,y:t}]},getRotation:()=>0,filled:!0},[kt.Square]:{getSvgPath:e=>{const t=6*e/2;return`M ${-t} ${-t} L ${t} ${-t} L ${t} ${t} L ${-t} ${t} Z`},getLocalPoints:e=>{const t=6*e/2;return[{x:-t,y:-t},{x:t,y:-t},{x:t,y:t},{x:-t,y:t}]},getRotation:e=>e,filled:!0},[kt.Diamond]:{getSvgPath:e=>{const t=6*e/2;return`M 0 ${-t} L ${t} 0 L 0 ${t} L ${-t} 0 Z`},getLocalPoints:e=>{const t=6*e/2;return[{x:0,y:-t},{x:t,y:0},{x:0,y:t},{x:-t,y:0}]},getRotation:e=>e,filled:!0},[kt.Butt]:Cs(6,(e=>e+Math.PI/2)),[kt.Slash]:Cs(18,(e=>e+Math.PI/1.5))};function Is(e,t,n){if(!e||0===e.length)return{origin:{x:0,y:0},size:{width:0,height:0}};const o=[...e],i=(e,t)=>Math.atan2(t.y-e.y,t.x-e.x),r=(e,n,i)=>{if(!e)return;const r=Ps[e];if(!r)return;const a=r.getLocalPoints(t),l=r.getRotation(i),s=a.map((e=>function(e,t,n){const o=Math.cos(t),i=Math.sin(t),r=e.x*o-e.y*i,a=e.x*i+e.y*o;return{x:r+n.x,y:a+n.y}}(e,l,n)));o.push(...s)};if(e.length>=2){const t=i(e[1],e[0]);r(null==n?void 0:n.start,e[0],t);const o=e.length-1,a=i(e[o-1],e[o]);r(null==n?void 0:n.end,e[o],a)}if(o.length<=1){const n=e[0]||{x:0,y:0},o=t;return{origin:{x:n.x-o,y:n.y-o},size:{width:2*o,height:2*o}}}return Ve(Ze(o),t/2+1.2*t)}class Ts{constructor(){this.patches=new Map}register(e,t){this.patches.set(e,t)}transform(e,t){const n=this.patches.get(e.type);return n?n(e,t):t.changes}}const As=new Ts,zs=Object.freeze(Object.defineProperty({__proto__:null,LINE_ENDING_HANDLERS:Ps,PatchRegistry:Ts,createEnding:function(e,t,n,o,i){if(!e)return null;const r=Ps[e];if(!r)return null;const a=r.getRotation(n);return{d:r.getSvgPath(t),transform:`translate(${o} ${i}) rotate(${(e=>180*e/Math.PI)(a)})`,filled:r.filled}},lineRectWithEndings:Is,patchRegistry:As},Symbol.toStringTag,{value:"Module"})),Rs={annotationType:bt.LINE,create(e){const{pageIndex:t,onCommit:n,onPreview:o,getTool:i,pageSize:r}=e,[a,l]=ys(null),s=e=>({x:On(e.x,0,r.width),y:On(e.y,0,r.height)}),c=()=>{const e=i();return e?{...e.defaults,strokeWidth:e.defaults.strokeWidth??1,lineEndings:e.defaults.lineEndings??{start:kt.None,end:kt.None},color:e.defaults.color??"#000000",opacity:e.defaults.opacity??1,strokeStyle:e.defaults.strokeStyle??Mt.SOLID,strokeDashArray:e.defaults.strokeDashArray??[],strokeColor:e.defaults.strokeColor??"#000000",flags:e.defaults.flags??["print"]}:null},d=ws({threshold:5,getTool:i,onClickDetected:(e,o)=>{const i=c();if(!i)return;const r=o.clickBehavior;if(!(null==r?void 0:r.enabled))return;const a=r.defaultAngle??0,l=r.defaultLength/2,d=e.x-l*Math.cos(a),u=e.y-l*Math.sin(a),h=e.x+l*Math.cos(a),p=e.y+l*Math.sin(a),g=s({x:d,y:u}),m=s({x:h,y:p}),f=Is([g,m],i.strokeWidth,i.lineEndings);n({...i,rect:f,linePoints:{start:g,end:m},pageIndex:t,id:dn(),created:new Date,type:bt.LINE})}}),u=e=>{const t=a();if(!t)return null;const n=c();if(!n)return null;const o=Is([t,e],n.strokeWidth,n.lineEndings);return{type:bt.LINE,bounds:o,data:{...n,rect:o,linePoints:{start:t,end:e}}}};return{onPointerDown:(e,t)=>{var n;const i=s(e);l(i),d.onStart(i),o(u(i)),null==(n=t.setPointerCapture)||n.call(t)},onPointerMove:e=>{const t=s(e);d.onMove(t),a()&&d.hasMoved()&&o(u(t))},onPointerUp:(e,i)=>{var r;const u=a();if(!u)return;const h=s(e);if(d.hasMoved()){const e=c();if(!e)return;if(Math.abs(h.x-u.x)>2||Math.abs(h.y-u.y)>2){const o=Is([u,h],e.strokeWidth,e.lineEndings);n({...e,rect:o,linePoints:{start:u,end:h},pageIndex:t,id:dn(),flags:["print"],created:new Date,type:bt.LINE})}}else d.onEnd(h);l(null),o(null),d.reset(),null==(r=i.releasePointerCapture)||r.call(i)},onPointerLeave:(e,t)=>{var n;l(null),o(null),d.reset(),null==(n=t.releasePointerCapture)||n.call(t)},onPointerCancel:(e,t)=>{var n;l(null),o(null),d.reset(),null==(n=t.releasePointerCapture)||n.call(t)}}}},Es={annotationType:bt.POLYLINE,create(e){const{onCommit:t,onPreview:n,getTool:o,pageSize:i}=e,[r,a]=ys([]),[l,s]=ys(null),c=e=>({x:On(e.x,0,i.width),y:On(e.y,0,i.height)}),d=()=>{const e=o();return e?{...e.defaults,strokeWidth:e.defaults.strokeWidth??1,lineEndings:e.defaults.lineEndings??{start:kt.None,end:kt.None},color:e.defaults.color??"#000000",opacity:e.defaults.opacity??1,strokeColor:e.defaults.strokeColor??"#000000",strokeStyle:e.defaults.strokeStyle??Mt.SOLID,strokeDashArray:e.defaults.strokeDashArray??[],flags:e.defaults.flags??["print"]}:null},u=()=>{const e=r(),t=l();if(0===e.length||!t)return null;const n=d();if(!n)return null;const o=[...e,t],i=Is(o,n.strokeWidth,n.lineEndings);return{type:bt.POLYLINE,bounds:i,data:{...n,rect:i,vertices:o,currentVertex:t}}};return{onClick:e=>{const t=c(e),o=r(),i=o[o.length-1];i&&Math.abs(i.x-t.x)<1&&Math.abs(i.y-t.y)<1||(a([...o,t]),s(t),n(u()))},onDoubleClick:()=>{(()=>{const o=r();if(o.length<2)return;const i=d();if(!i)return;const l=Is(o,i.strokeWidth,i.lineEndings),c={...i,vertices:o,rect:l,type:bt.POLYLINE,pageIndex:e.pageIndex,id:dn(),created:new Date};t(c),a([]),s(null),n(null)})()},onPointerMove:e=>{if(r().length>0){const t=c(e);s(t),n(u())}},onPointerCancel:()=>{a([]),s(null),n(null)}}}},_s={annotationType:bt.POLYGON,create(e){const{onCommit:t,onPreview:n,getTool:o,scale:i,pageSize:r}=e,[a,l]=ys([]),[s,c]=ys(null),d=e=>({x:On(e.x,0,r.width),y:On(e.y,0,r.height)}),u=()=>{const e=o();return e?{...e.defaults,color:e.defaults.color??"#000000",opacity:e.defaults.opacity??1,strokeWidth:e.defaults.strokeWidth??1,strokeColor:e.defaults.strokeColor??"#000000",strokeStyle:e.defaults.strokeStyle??Mt.SOLID,strokeDashArray:e.defaults.strokeDashArray??[],flags:e.defaults.flags??["print"]}:null},h=()=>{const o=a();if(o.length<3)return;const i=u();if(!i)return;const r=Ve(Ze(o),i.strokeWidth/2),s={...i,vertices:o,rect:r,type:bt.POLYGON,pageIndex:e.pageIndex,id:dn(),created:new Date};t(s),l([]),c(null),n(null)},p=()=>{const e=a(),t=s();if(0===e.length||!t)return null;const n=u();if(!n)return null;const o=Ve(Ze([...e,t]),n.strokeWidth/2);return{type:bt.POLYGON,bounds:o,data:{...n,rect:o,vertices:e,currentVertex:t}}};return{onClick:e=>{const t=d(e);if((e=>{const t=a();if(t.length<2)return!1;const n=14/i/2,o=t[0];return e.x>=o.x-n&&e.x<=o.x+n&&e.y>=o.y-n&&e.y<=o.y+n})(t)&&a().length>=3)return void h();const o=a(),r=o[o.length-1];r&&Math.abs(r.x-t.x)<1&&Math.abs(r.y-t.y)<1||(l([...o,t]),c(t),n(p()))},onDoubleClick:e=>{h()},onPointerMove:e=>{if(a().length>0){const t=d(e);c(t),n(p())}},onPointerCancel:e=>{l([]),c(null),n(null)}}}},Ns={annotationType:bt.SQUARE,create(e){const{pageIndex:t,onCommit:n,onPreview:o,getTool:i,pageSize:r}=e,[a,l]=ys(null),s=e=>({x:On(e.x,0,r.width),y:On(e.y,0,r.height)}),c=()=>{const e=i();return e?{...e.defaults,flags:e.defaults.flags??["print"],strokeWidth:e.defaults.strokeWidth??2,strokeColor:e.defaults.strokeColor??"#000000",strokeStyle:e.defaults.strokeStyle??Mt.SOLID,strokeDashArray:e.defaults.strokeDashArray??[],color:e.defaults.color??"#000000",opacity:e.defaults.opacity??1}:null},d=ws({threshold:5,getTool:i,onClickDetected:(e,o)=>{const i=c();if(!i)return;const a=o.clickBehavior;if(!(null==a?void 0:a.enabled))return;const{width:l,height:s}=a.defaultSize,d=l/2,u=s/2,h=On(e.x-d,0,r.width-l),p=On(e.y-u,0,r.height-s),g=i.strokeWidth,m=g/2,f={origin:{x:h-m,y:p-m},size:{width:l+g,height:s+g}},v={...i,type:bt.SQUARE,created:new Date,id:dn(),pageIndex:t,rect:f};n(v)}}),u=e=>{const t=a();if(!t)return null;const n=Math.min(t.x,e.x),o=Math.min(t.y,e.y),i=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y),l=c();if(!l)return null;const s=l.strokeWidth,d=s/2,u={origin:{x:n-d,y:o-d},size:{width:i+s,height:r+s}};return{type:bt.SQUARE,bounds:u,data:{rect:u,...l}}};return{onPointerDown:(e,t)=>{var n;const i=s(e);l(i),d.onStart(i),o(u(i)),null==(n=t.setPointerCapture)||n.call(t)},onPointerMove:e=>{const t=s(e);d.onMove(t),a()&&d.hasMoved()&&o(u(t))},onPointerUp:(e,i)=>{var r;if(!a())return;if(!c())return;const h=s(e);if(d.hasMoved()){const e=c();if(!e)return;const o=u(h);if(o){const i={...e,type:bt.SQUARE,created:new Date,id:dn(),pageIndex:t,rect:o.data.rect};n(i)}}else d.onEnd(h);l(null),o(null),d.reset(),null==(r=i.releasePointerCapture)||r.call(i)},onPointerLeave:(e,t)=>{var n;l(null),o(null),d.reset(),null==(n=t.releasePointerCapture)||n.call(t)},onPointerCancel:(e,t)=>{var n;l(null),o(null),d.reset(),null==(n=t.releasePointerCapture)||n.call(t)}}}},Ls={annotationType:bt.STAMP,create(e){const{services:t,onCommit:n,getTool:o,pageSize:i}=e;return{onPointerDown:r=>{const a=o();if(!a)return;const{imageSrc:l,imageSize:s}=a.defaults,c=(t,o,l)=>{const s=r.x-o/2,c=r.y-l/2,d={origin:{x:On(s,0,i.width-o),y:On(c,0,i.height-l)},size:{width:o,height:l}},u={...a.defaults,rect:d,type:bt.STAMP,icon:a.defaults.icon??xt.Draft,subject:a.defaults.subject??"Stamp",flags:a.defaults.flags??["print"],pageIndex:e.pageIndex,id:dn(),created:new Date};n(u,{imageData:t})};l?t.processImage({source:l,maxWidth:i.width,maxHeight:i.height,onComplete:e=>c(e.imageData,(null==s?void 0:s.width)??e.width,(null==s?void 0:s.height)??e.height)}):t.requestFile({accept:"image/png,image/jpeg",onFile:e=>{t.processImage({source:e,maxWidth:i.width,maxHeight:i.height,onComplete:e=>c(e.imageData,e.width,e.height)})}})}}}},Ds={annotationType:bt.CIRCLE,create(e){const{pageIndex:t,onCommit:n,onPreview:o,getTool:i,pageSize:r}=e,[a,l]=ys(null),s=e=>({x:On(e.x,0,r.width),y:On(e.y,0,r.height)}),c=()=>{const e=i();return e?{...e.defaults,strokeWidth:e.defaults.strokeWidth??2,strokeColor:e.defaults.strokeColor??"#000000",strokeStyle:e.defaults.strokeStyle??Mt.SOLID,strokeDashArray:e.defaults.strokeDashArray??[],color:e.defaults.color??"#000000",opacity:e.defaults.opacity??1,flags:e.defaults.flags??["print"]}:null},d=ws({threshold:5,getTool:i,onClickDetected:(e,o)=>{const i=c();if(!i)return;const a=o.clickBehavior;if(!(null==a?void 0:a.enabled))return;const{width:l,height:s}=a.defaultSize,d=l/2,u=s/2,h=On(e.x-d,0,r.width-l),p=On(e.y-u,0,r.height-s),g=i.strokeWidth,m=g/2,f={origin:{x:h-m,y:p-m},size:{width:l+g,height:s+g}},v={...i,type:bt.CIRCLE,created:new Date,id:dn(),pageIndex:t,rect:f};n(v)}}),u=e=>{const t=a();if(!t)return null;const n=Math.min(t.x,e.x),o=Math.min(t.y,e.y),i=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y),l=c();if(!l)return null;const s=l.strokeWidth,d=s/2,u={origin:{x:n-d,y:o-d},size:{width:i+s,height:r+s}};return{type:bt.CIRCLE,bounds:u,data:{rect:u,...l}}};return{onPointerDown:(e,t)=>{var n;const i=s(e);l(i),d.onStart(i),o(u(i)),null==(n=t.setPointerCapture)||n.call(t)},onPointerMove:e=>{const t=s(e);d.onMove(t),a()&&d.hasMoved()&&o(u(t))},onPointerUp:(e,i)=>{var r;if(!a())return;if(!c())return;const h=s(e);if(d.hasMoved()){const e=c();if(!e)return;const o=u(h);if(o){const i={...e,type:bt.CIRCLE,flags:["print"],created:new Date,id:dn(),pageIndex:t,rect:o.data.rect};n(i)}}else d.onEnd(h);l(null),o(null),d.reset(),null==(r=i.releasePointerCapture)||r.call(i)},onPointerLeave:(e,t)=>{var n;l(null),o(null),d.reset(),null==(n=t.releasePointerCapture)||n.call(t)},onPointerCancel:(e,t)=>{var n;l(null),o(null),d.reset(),null==(n=t.releasePointerCapture)||n.call(t)}}}},Os=(e,t)=>{var n;switch(t.type){case"vertex-edit":default:return t.changes;case"move":if(t.changes.rect){const n=t.changes.rect.origin.x-e.rect.origin.x,o=t.changes.rect.origin.y-e.rect.origin.y,i=e.inkList.map((e=>({points:e.points.map((e=>({x:e.x+n,y:e.y+o})))})));return{rect:t.changes.rect,inkList:i}}return t.changes;case"resize":if(t.changes.rect){const o=e.rect,i=t.changes.rect;let r=i.size.width/o.size.width,a=i.size.height/o.size.height;const l=10;if((i.size.width<l||i.size.height<l)&&(r=Math.max(r,l/o.size.width),a=Math.max(a,l/o.size.height),t.changes.rect={origin:i.origin,size:{width:o.size.width*r,height:o.size.height*a}}),null==(n=t.metadata)?void 0:n.maintainAspectRatio){const e=Math.min(r,a);r=e,a=e,t.changes.rect.size={width:o.size.width*e,height:o.size.height*e}}const s=(e,t)=>({origin:{x:e.origin.x+t,y:e.origin.y+t},size:{width:Math.max(1,e.size.width-2*t),height:Math.max(1,e.size.height-2*t)}}),c=Math.min(t.changes.rect.size.width/o.size.width,t.changes.rect.size.height/o.size.height),d=Math.max(1,Math.round(e.strokeWidth*c)),u=s(o,e.strokeWidth/2),h=s(t.changes.rect,d/2),p=h.size.width/Math.max(u.size.width,1e-6),g=h.size.height/Math.max(u.size.height,1e-6),m=e.inkList.map((e=>({points:e.points.map((e=>({x:h.origin.x+(e.x-u.origin.x)*p,y:h.origin.y+(e.y-u.origin.y)*g})))})));return{rect:t.changes.rect,inkList:m,strokeWidth:d}}return t.changes;case"property-update":if(void 0!==t.changes.strokeWidth){const n={...e,...t.changes},o=n.inkList.flatMap((e=>e.points)),i=Ve(Ze(o),n.strokeWidth/2);return{...t.changes,rect:i}}return t.changes}},Bs=(e,t)=>{var n;switch(t.type){case"vertex-edit":if(t.changes.linePoints){const{start:n,end:o}=t.changes.linePoints;return{rect:Is([n,o],e.strokeWidth,e.lineEndings),linePoints:{start:n,end:o}}}return t.changes;case"move":if(t.changes.rect){const n=t.changes.rect.origin.x-e.rect.origin.x,o=t.changes.rect.origin.y-e.rect.origin.y;return{rect:t.changes.rect,linePoints:{start:{x:e.linePoints.start.x+n,y:e.linePoints.start.y+o},end:{x:e.linePoints.end.x+n,y:e.linePoints.end.y+o}}}}return t.changes;case"resize":if(t.changes.rect){const o=e.rect,i=t.changes.rect;let r=i.size.width/o.size.width,a=i.size.height/o.size.height;const l=10;if((i.size.width<l||i.size.height<l)&&(r=Math.max(r,l/o.size.width),a=Math.max(a,l/o.size.height),t.changes.rect={origin:i.origin,size:{width:o.size.width*r,height:o.size.height*a}}),null==(n=t.metadata)?void 0:n.maintainAspectRatio){const e=Math.min(r,a);r=e,a=e,t.changes.rect.size={width:o.size.width*e,height:o.size.height*e}}const s={start:{x:t.changes.rect.origin.x+(e.linePoints.start.x-o.origin.x)*r,y:t.changes.rect.origin.y+(e.linePoints.start.y-o.origin.y)*a},end:{x:t.changes.rect.origin.x+(e.linePoints.end.x-o.origin.x)*r,y:t.changes.rect.origin.y+(e.linePoints.end.y-o.origin.y)*a}};return{rect:t.changes.rect,linePoints:s}}return t.changes;case"property-update":if(t.changes.strokeWidth||t.changes.lineEndings){const n={...e,...t.changes},o=Is([n.linePoints.start,n.linePoints.end],n.strokeWidth,n.lineEndings);return{...t.changes,rect:o}}return t.changes;default:return t.changes}},Hs=(e,t)=>{var n;switch(t.type){case"vertex-edit":return t.changes.vertices&&t.changes.vertices.length?{rect:Is(t.changes.vertices,e.strokeWidth,e.lineEndings),vertices:t.changes.vertices}:t.changes;case"move":if(t.changes.rect){const n=t.changes.rect.origin.x-e.rect.origin.x,o=t.changes.rect.origin.y-e.rect.origin.y,i=e.vertices.map((e=>({x:e.x+n,y:e.y+o})));return{rect:t.changes.rect,vertices:i}}return t.changes;case"resize":if(t.changes.rect){const o=e.rect,i=t.changes.rect;let r=i.size.width/o.size.width,a=i.size.height/o.size.height;const l=10;if((i.size.width<l||i.size.height<l)&&(r=Math.max(r,l/o.size.width),a=Math.max(a,l/o.size.height),t.changes.rect={origin:i.origin,size:{width:o.size.width*r,height:o.size.height*a}}),null==(n=t.metadata)?void 0:n.maintainAspectRatio){const e=Math.min(r,a);r=e,a=e,t.changes.rect.size={width:o.size.width*e,height:o.size.height*e}}const s=e.vertices.map((e=>({x:t.changes.rect.origin.x+(e.x-o.origin.x)*r,y:t.changes.rect.origin.y+(e.y-o.origin.y)*a})));return{rect:t.changes.rect,vertices:s}}return t.changes;case"property-update":if(void 0!==t.changes.strokeWidth||void 0!==t.changes.lineEndings){const n={...e,...t.changes},o=Is(n.vertices,n.strokeWidth,n.lineEndings);return{...t.changes,rect:o}}return t.changes;default:return t.changes}},js=(e,t)=>{var n;switch(t.type){case"vertex-edit":if(t.changes.vertices&&t.changes.vertices.length){const n=e.strokeWidth/2;return{rect:Ve(Ze(t.changes.vertices),n),vertices:t.changes.vertices}}return t.changes;case"move":if(t.changes.rect){const n=t.changes.rect.origin.x-e.rect.origin.x,o=t.changes.rect.origin.y-e.rect.origin.y,i=e.vertices.map((e=>({x:e.x+n,y:e.y+o})));return{rect:t.changes.rect,vertices:i}}return t.changes;case"resize":if(t.changes.rect){const o=e.rect,i=t.changes.rect;let r=i.size.width/o.size.width,a=i.size.height/o.size.height;const l=10;if((i.size.width<l||i.size.height<l)&&(r=Math.max(r,l/o.size.width),a=Math.max(a,l/o.size.height),t.changes.rect={origin:i.origin,size:{width:o.size.width*r,height:o.size.height*a}}),null==(n=t.metadata)?void 0:n.maintainAspectRatio){const e=Math.min(r,a);r=e,a=e,t.changes.rect.size={width:o.size.width*e,height:o.size.height*e}}const s=e.vertices.map((e=>({x:t.changes.rect.origin.x+(e.x-o.origin.x)*r,y:t.changes.rect.origin.y+(e.y-o.origin.y)*a})));return{rect:t.changes.rect,vertices:s}}return t.changes;case"property-update":if(void 0!==t.changes.strokeWidth){const n={...e,...t.changes},o=n.strokeWidth/2,i=Ve(Ze(n.vertices),o);return{...t.changes,rect:i}}return t.changes;default:return t.changes}},$s=class extends Ln{constructor(e,t,n){var o,i,r;super(e,t),this.ANNOTATION_HISTORY_TOPIC="annotations",this.state$=Un(),this.pendingContexts=new Map,this.handlerFactories=new Map,this.activeTool$=Un(null),this.events$=Un(),this.patchRegistry=new Ts,this.isInitialLoadComplete=!1,this.importQueue=[],this.config=n,this.selection=(null==(o=t.getPlugin("selection"))?void 0:o.provides())??null,this.history=(null==(i=t.getPlugin("history"))?void 0:i.provides())??null,this.interactionManager=(null==(r=t.getPlugin("interaction-manager"))?void 0:r.provides())??null,this.coreStore.onAction(xn,((e,t)=>{const n=t.core.document;this.isInitialLoadComplete=!1,n&&this.getAllAnnotations(n)})),this.registerHandlerFactories(),this.registerBuiltInPatches()}registerHandlerFactories(){this.handlerFactories.set(bt.CIRCLE,Ds),this.handlerFactories.set(bt.SQUARE,Ns),this.handlerFactories.set(bt.STAMP,Ls),this.handlerFactories.set(bt.POLYGON,_s),this.handlerFactories.set(bt.POLYLINE,Es),this.handlerFactories.set(bt.LINE,Rs),this.handlerFactories.set(bt.INK,bs),this.handlerFactories.set(bt.FREETEXT,xs)}registerBuiltInPatches(){this.patchRegistry.register(bt.INK,Os),this.patchRegistry.register(bt.LINE,Bs),this.patchRegistry.register(bt.POLYLINE,Hs),this.patchRegistry.register(bt.POLYGON,js)}async initialize(){var e,t,n;this.state.tools.forEach((e=>this.registerInteractionForTool(e))),null==(e=this.history)||e.onHistoryChange((e=>{e===this.ANNOTATION_HISTORY_TOPIC&&!1!==this.config.autoCommit&&this.commit()})),null==(t=this.interactionManager)||t.onModeChange((e=>{var t;const n=(null==(t=this.state.tools.find((t=>(t.interaction.mode??t.id)===e.activeMode)))?void 0:t.id)??null;n!==this.state.activeToolId&&this.dispatch({type:Zl,payload:n})})),null==(n=this.selection)||n.onEndSelection((()=>{var e,t,n;const o=this.getActiveTool();if(!o||!o.interaction.textSelection)return;const i=null==(e=this.selection)?void 0:e.getFormattedSelection(),r=null==(t=this.selection)?void 0:t.getSelectedText();if(i&&r){for(const e of i)r.wait((t=>{const n=dn();this.createAnnotation(e.pageIndex,{...o.defaults,rect:e.rect,segmentRects:e.segmentRects,pageIndex:e.pageIndex,created:new Date,id:n,custom:{text:t.join("\n")}}),this.getToolBehavior(o,"deactivateToolAfterCreate")&&this.setActiveTool(null),this.getToolBehavior(o,"selectAfterCreate")&&this.selectAnnotation(e.pageIndex,n)}),un);null==(n=this.selection)||n.clear()}}))}registerInteractionForTool(e){var t,n;null==(t=this.interactionManager)||t.registerMode({id:e.interaction.mode??e.id,scope:"page",exclusive:e.interaction.exclusive,cursor:e.interaction.cursor}),e.interaction.textSelection&&(null==(n=this.selection)||n.enableForMode(e.interaction.mode??e.id))}buildCapability(){return{getPageAnnotations:e=>this.getPageAnnotations(e),getSelectedAnnotation:()=>ms(this.state),selectAnnotation:(e,t)=>this.selectAnnotation(e,t),deselectAnnotation:()=>this.dispatch(Xl()),getActiveTool:()=>this.getActiveTool(),setActiveTool:e=>this.setActiveTool(e),getTools:()=>this.state.tools,getTool:e=>this.getTool(e),addTool:e=>{this.dispatch((e=>({type:Yl,payload:e}))(e)),this.registerInteractionForTool(e)},transformAnnotation:(e,t)=>this.transformAnnotation(e,t),registerPatchFunction:(e,t)=>this.registerPatchFunction(e,t),findToolForAnnotation:e=>this.findToolForAnnotation(e),setToolDefaults:(e,t)=>this.dispatch(((e,t)=>({type:Vl,payload:{toolId:e,patch:t}}))(e,t)),getColorPresets:()=>[...this.state.colorPresets],addColorPreset:e=>this.dispatch((e=>({type:$l,payload:e}))(e)),importAnnotations:e=>this.importAnnotations(e),createAnnotation:(e,t,n)=>this.createAnnotation(e,t,n),updateAnnotation:(e,t,n)=>this.updateAnnotation(e,t,n),deleteAnnotation:(e,t)=>this.deleteAnnotation(e,t),renderAnnotation:e=>this.renderAnnotation(e),onStateChange:this.state$.on,onActiveToolChange:this.activeTool$.on,onAnnotationEvent:this.events$.on,commit:()=>this.commit()}}onStoreUpdated(e,t){this.state$.emit(t),e.activeToolId===t.activeToolId&&e.tools===t.tools||this.activeTool$.emit(this.getActiveTool())}registerPatchFunction(e,t){this.patchRegistry.register(e,t)}transformAnnotation(e,t){const n={type:t.type,changes:t.changes,metadata:t.metadata};return this.patchRegistry.transform(e,n)}registerPageHandlers(e,t,n){var o;const i=null==(o=this.coreState.core.document)?void 0:o.pages[e];if(!i)return()=>{};if(!this.interactionManager)return()=>{};const r=[];for(const o of this.state.tools){if(!o.defaults.type)continue;const a=this.handlerFactories.get(o.defaults.type);if(!a)continue;const l={pageIndex:e,pageSize:i.size,scale:t,services:n.services,onPreview:e=>n.onPreview(o.id,e),onCommit:(t,n)=>{this.createAnnotation(e,t,n),this.getToolBehavior(o,"deactivateToolAfterCreate")&&this.setActiveTool(null),this.getToolBehavior(o,"selectAfterCreate")&&this.selectAnnotation(e,t.id)},getTool:()=>this.state.tools.find((e=>e.id===o.id))},s=this.interactionManager.registerHandlers({modeId:o.interaction.mode??o.id,handlers:a.create(l),pageIndex:e});r.push(s)}return()=>r.forEach((e=>e()))}getAllAnnotations(e){this.engine.getAllAnnotations(e).wait((e=>{this.dispatch((e=>({type:Bl,payload:e}))(e)),this.isInitialLoadComplete=!0,this.importQueue.length>0&&this.processImportQueue(),this.events$.emit({type:"loaded",total:Object.values(e).reduce(((e,t)=>e+t.length),0)})}),un)}getPageAnnotations(e){const{pageIndex:t}=e,n=this.coreState.core.document;if(!n)return Nt.reject({code:_t.NotFound,message:"Document not found"});const o=n.pages.find((e=>e.index===t));return o?this.engine.getPageAnnotations(n,o):Nt.reject({code:_t.NotFound,message:"Page not found"})}renderAnnotation({pageIndex:e,annotation:t,options:n}){const o=this.coreState.core;if(!o.document)return Nt.reject({code:_t.NotFound,message:"Document not found"});const i=o.document.pages.find((t=>t.index===e));return i?this.engine.renderPageAnnotation(o.document,i,t,n):Nt.reject({code:_t.NotFound,message:"Page not found"})}importAnnotations(e){this.isInitialLoadComplete?this.processImportItems(e):this.importQueue.push(...e)}processImportQueue(){if(0===this.importQueue.length)return;const e=[...this.importQueue];this.importQueue=[],this.processImportItems(e)}processImportItems(e){for(const t of e){const{annotation:e,ctx:n}=t,o=e.pageIndex,i=e.id;this.dispatch(Kl(o,e)),n&&this.pendingContexts.set(i,n)}!1!==this.config.autoCommit&&this.commit()}createAnnotation(e,t,n){const o=t.id,i={...t,author:t.author??this.config.annotationAuthor},r=()=>{this.dispatch(Kl(e,i)),n&&this.pendingContexts.set(o,n),this.events$.emit({type:"create",annotation:i,pageIndex:e,ctx:n,committed:!1})};if(!this.history)return r(),void(this.config.autoCommit&&this.commit());const a={execute:r,undo:()=>{this.pendingContexts.delete(o),this.dispatch(Xl()),this.dispatch(Jl(e,o)),this.events$.emit({type:"delete",annotation:i,pageIndex:e,committed:!1})}};this.history.register(a,this.ANNOTATION_HISTORY_TOPIC)}buildPatch(e,t){return"rect"in t?t:this.transformAnnotation(e,{type:"property-update",changes:t})}updateAnnotation(e,t,n){const o=this.state.byUid[t].object,i=this.buildPatch(o,{...n,author:n.author??this.config.annotationAuthor}),r=()=>{this.dispatch(Ql(e,t,i)),this.events$.emit({type:"update",annotation:o,pageIndex:e,patch:i,committed:!1})};if(!this.history)return r(),void(!1!==this.config.autoCommit&&this.commit());const a=Object.fromEntries(Object.keys(n).map((e=>[e,o[e]]))),l={execute:r,undo:()=>{this.dispatch(Ql(e,t,a)),this.events$.emit({type:"update",annotation:o,pageIndex:e,patch:a,committed:!1})}};this.history.register(l,this.ANNOTATION_HISTORY_TOPIC)}deleteAnnotation(e,t){var n;const o=null==(n=this.state.byUid[t])?void 0:n.object;if(!o)return;const i=()=>{this.dispatch(Xl()),this.dispatch(Jl(e,t)),this.events$.emit({type:"delete",annotation:o,pageIndex:e,committed:!1})};if(!this.history)return i(),void(!1!==this.config.autoCommit&&this.commit());const r={execute:i,undo:()=>{this.dispatch(Kl(e,o)),this.events$.emit({type:"create",annotation:o,pageIndex:e,committed:!1})}};this.history.register(r,this.ANNOTATION_HISTORY_TOPIC)}selectAnnotation(e,t){this.dispatch(((e,t)=>({type:Hl,payload:{pageIndex:e,id:t}}))(e,t))}getActiveTool(){return this.state.activeToolId?this.state.tools.find((e=>e.id===this.state.activeToolId))??null:null}setActiveTool(e){var t,n;if(e===this.state.activeToolId)return;const o=this.state.tools.find((t=>t.id===e));o?null==(t=this.interactionManager)||t.activate(o.interaction.mode??o.id):null==(n=this.interactionManager)||n.activateDefaultMode()}getTool(e){return this.state.tools.find((t=>t.id===e))}findToolForAnnotation(e){let t=null,n=0;for(const o of this.state.tools){const i=o.matchScore(e);i>n&&(n=i,t=o)}return t}commit(){const e=new lt;if(!this.state.hasPendingChanges)return Nt.resolve(!0);const t=this.coreState.core.document;if(!t)return Nt.reject({code:_t.NotFound,message:"Document not found"});const n=[],o=[],i=[];for(const[e,r]of Object.entries(this.state.byUid)){if("synced"===r.commitState)continue;const a=t.pages.find((e=>e.index===r.object.pageIndex));if(a)switch(r.commitState){case"new":const l=this.pendingContexts.get(r.object.id),s=this.engine.createPageAnnotation(t,a,r.object,l);s.wait((()=>{this.events$.emit({type:"create",annotation:r.object,pageIndex:r.object.pageIndex,ctx:l,committed:!0}),this.pendingContexts.delete(r.object.id)}),un),n.push(s);break;case"dirty":const c=this.engine.updatePageAnnotation(t,a,r.object);c.wait((()=>{this.events$.emit({type:"update",annotation:r.object,pageIndex:r.object.pageIndex,patch:r.object,committed:!0})}),un),o.push(c);break;case"deleted":i.push({ta:r,uid:e})}}const r=[];for(const{ta:e,uid:n}of i){const o=t.pages.find((t=>t.index===e.object.pageIndex));if("deleted"===e.commitState&&e.object.id){const i=new lt;this.engine.removePageAnnotation(t,o,e.object).wait((()=>{this.dispatch(es(n)),this.events$.emit({type:"delete",annotation:e.object,pageIndex:e.object.pageIndex,committed:!0}),i.resolve(!0)}),i.fail),r.push(i)}else this.dispatch(es(n))}const a=[...n,...o,...r];return lt.allSettled(a).wait((()=>{this.dispatch({type:ql}),e.resolve(!0)}),e.fail),e}getToolBehavior(e,t){var n;return void 0!==(null==(n=e.behavior)?void 0:n[t])?e.behavior[t]:!1!==this.config[t]}};$s.id="annotation";let Fs=$s;const Us=[{id:"highlight",name:"Highlight",matchScore:e=>e.type===bt.HIGHLIGHT?1:0,interaction:{exclusive:!1,textSelection:!0,isDraggable:!1,isResizable:!1},defaults:{type:bt.HIGHLIGHT,color:"#FFCD45",opacity:1,blendMode:ft.Multiply}},{id:"underline",name:"Underline",matchScore:e=>e.type===bt.UNDERLINE?1:0,interaction:{exclusive:!1,textSelection:!0,isDraggable:!1,isResizable:!1},defaults:{type:bt.UNDERLINE,color:"#E44234",opacity:1}},{id:"strikeout",name:"Strikeout",matchScore:e=>e.type===bt.STRIKEOUT?1:0,interaction:{exclusive:!1,textSelection:!0},defaults:{type:bt.STRIKEOUT,color:"#E44234",opacity:1}},{id:"squiggly",name:"Squiggly",matchScore:e=>e.type===bt.SQUIGGLY?1:0,interaction:{exclusive:!1,textSelection:!0,isDraggable:!1,isResizable:!1},defaults:{type:bt.SQUIGGLY,color:"#E44234",opacity:1}},{id:"ink",name:"Pen",matchScore:e=>e.type===bt.INK&&"InkHighlight"!==e.intent?5:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!0,lockAspectRatio:!1},defaults:{type:bt.INK,color:"#E44234",opacity:1,strokeWidth:6}},{id:"inkHighlighter",name:"Ink Highlighter",matchScore:e=>e.type===bt.INK&&"InkHighlight"===e.intent?10:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!0,lockAspectRatio:!1},defaults:{type:bt.INK,intent:"InkHighlight",color:"#FFCD45",opacity:1,strokeWidth:14,blendMode:ft.Multiply}},{id:"circle",name:"Circle",matchScore:e=>e.type===bt.CIRCLE?1:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!0,lockAspectRatio:!1},defaults:{type:bt.CIRCLE,color:"transparent",opacity:1,strokeWidth:6,strokeColor:"#E44234",strokeStyle:Mt.SOLID},clickBehavior:{enabled:!0,defaultSize:{width:100,height:100}}},{id:"square",name:"Square",matchScore:e=>e.type===bt.SQUARE?1:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!0,lockAspectRatio:!1},defaults:{type:bt.SQUARE,color:"transparent",opacity:1,strokeWidth:6,strokeColor:"#E44234",strokeStyle:Mt.SOLID},clickBehavior:{enabled:!0,defaultSize:{width:100,height:100}}},{id:"line",name:"Line",matchScore:e=>e.type===bt.LINE&&"LineArrow"!==e.intent?5:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!1,lockAspectRatio:!1},defaults:{type:bt.LINE,color:"transparent",opacity:1,strokeWidth:6,strokeColor:"#E44234"},clickBehavior:{enabled:!0,defaultLength:100,defaultAngle:0}},{id:"lineArrow",name:"Arrow",matchScore:e=>e.type===bt.LINE&&"LineArrow"===e.intent?10:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!1,lockAspectRatio:!1},defaults:{type:bt.LINE,intent:"LineArrow",color:"transparent",opacity:1,strokeWidth:6,strokeColor:"#E44234",lineEndings:{start:kt.None,end:kt.OpenArrow}},clickBehavior:{enabled:!0,defaultLength:100,defaultAngle:0}},{id:"polyline",name:"Polyline",matchScore:e=>e.type===bt.POLYLINE?1:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!1,lockAspectRatio:!1},defaults:{type:bt.POLYLINE,color:"transparent",opacity:1,strokeWidth:6,strokeColor:"#E44234"}},{id:"polygon",name:"Polygon",matchScore:e=>e.type===bt.POLYGON?1:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!1,lockAspectRatio:!1},defaults:{type:bt.POLYGON,color:"transparent",opacity:1,strokeWidth:6,strokeColor:"#E44234"}},{id:"freeText",name:"Free Text",matchScore:e=>e.type===bt.FREETEXT?1:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!0,lockAspectRatio:!1},defaults:{type:bt.FREETEXT,contents:"Insert text",fontSize:14,fontColor:"#E44234",fontFamily:pt.Helvetica,textAlign:gt.Left,verticalAlign:mt.Top,backgroundColor:"transparent",opacity:1},clickBehavior:{enabled:!0,defaultSize:{width:100,height:20},defaultContent:"Insert text"}},{id:"stamp",name:"Image",matchScore:e=>e.type===bt.STAMP?1:0,interaction:{exclusive:!1,cursor:"copy",isDraggable:!0,isResizable:!0,lockAspectRatio:!0},defaults:{type:bt.STAMP}}],Ws=["#E44234","#FF8D00","#FFCD45","#5CC96E","#25D2D1","#597CE2","#C544CE","#7D2E25","#000000","#FFFFFF"];function qs(e){return t=>(null==t?void 0:t.id)===e}const Gs=qs("highlight"),Zs=qs("squiggly"),Vs=qs("underline"),Ys=qs("strikeout"),Xs={manifest:Ol,create:(e,t)=>new Fs(Dl,e,t),reducer:(e,t)=>{switch(t.type){case Bl:{const n={...e.pages},o={...e.byUid};for(const[i,r]of Object.entries(t.payload)){const t=Number(i),a=e.pages[t]||[];for(const e of a)delete o[e];const l=r.map((e=>{const t=e.id;return o[t]={commitState:"synced",object:e},t}));n[t]=l}return{...e,pages:n,byUid:o}}case Zl:return{...e,activeToolId:t.payload};case Yl:{const n=new Map(e.tools.map((e=>[e.id,e])));return n.set(t.payload.id,t.payload),{...e,tools:Array.from(n.values())}}case Vl:{const{toolId:n,patch:o}=t.payload;return{...e,tools:e.tools.map((e=>e.id===n?{...e,defaults:{...e.defaults,...o}}:e))}}case Hl:return{...e,selectedUid:t.payload.id};case jl:return{...e,selectedUid:null};case $l:return e.colorPresets.includes(t.payload)?e:{...e,colorPresets:[...e.colorPresets,t.payload]};case Fl:{const{pageIndex:n,annotation:o}=t.payload,i=o.id;return{...e,pages:{...e.pages,[n]:[...e.pages[n]??[],i]},byUid:{...e.byUid,[i]:{commitState:"new",object:o}},hasPendingChanges:!0}}case Wl:{const{pageIndex:n,id:o}=t.payload;return e.byUid[o]?{...e,pages:{...e.pages,[n]:(e.pages[n]??[]).filter((e=>e!==o))},byUid:{...e.byUid,[o]:{...e.byUid[o],commitState:"deleted"}},hasPendingChanges:!0}:e}case Ul:return((e,t,n)=>{const o=e.byUid[t];return o?{...e,byUid:{...e.byUid,[t]:{...o,commitState:"synced"===o.commitState?"dirty":o.commitState,object:{...o.object,...n}}},hasPendingChanges:!0}:e})(e,t.payload.id,t.payload.patch);case ql:{const t={};for(const[n,o]of Object.entries(e.byUid))t[n]={...o,commitState:"dirty"===o.commitState||"new"===o.commitState?"synced":o.commitState};return{...e,byUid:t,hasPendingChanges:!1}}case Gl:{const{uid:n}=t.payload,{[n]:o,...i}=e.byUid;return{...e,byUid:i}}default:return e}},initialState:(e,t)=>(e=>{const t=new Map;return Us.forEach((e=>t.set(e.id,e))),(e.tools||[]).forEach((e=>t.set(e.id,e))),{pages:{},byUid:{},selectedUid:null,activeToolId:null,tools:Array.from(t.values()),colorPresets:e.colorPresets??Ws,hasPendingChanges:!1}})(t)},Ks="INTERACTION/ACTIVATE_MODE",Qs="INTERACTION/PAUSE",Js="INTERACTION/RESUME",ec="INTERACTION/SET_CURSOR",tc="INTERACTION/SET_DEFAULT_MODE",nc="INTERACTION/SET_EXCLUSION_RULES",oc="INTERACTION/ADD_EXCLUSION_CLASS",ic="INTERACTION/REMOVE_EXCLUSION_CLASS",rc="INTERACTION/ADD_EXCLUSION_ATTRIBUTE",ac="INTERACTION/REMOVE_EXCLUSION_ATTRIBUTE",lc=e=>({type:nc,payload:{rules:e}});const sc="pointerMode",cc=class extends Ln{constructor(e,t,n){super(e,t),this.modes=new Map,this.cursorClaims=new Map,this.buckets=new Map,this.alwaysGlobal=new Set,this.alwaysPage=new Map,this.onModeChange$=Fn(),this.onHandlerChange$=Fn(),this.onCursorChange$=Fn(),this.onStateChange$=Un(),this.registerMode({id:sc,scope:"page",exclusive:!1,cursor:"auto"}),this.setDefaultMode(sc),this.activate(sc),n.exclusionRules&&this.dispatch(lc(n.exclusionRules))}async initialize(e){}buildCapability(){return{activate:e=>this.activate(e),onModeChange:this.onModeChange$.on,onCursorChange:this.onCursorChange$.on,onHandlerChange:this.onHandlerChange$.on,onStateChange:this.onStateChange$.on,getActiveMode:()=>this.state.activeMode,getActiveInteractionMode:()=>this.getActiveInteractionMode(),activateDefaultMode:()=>this.activate(this.state.defaultMode),registerMode:e=>this.registerMode(e),registerHandlers:e=>this.registerHandlers(e),registerAlways:e=>this.registerAlways(e),setCursor:(e,t,n=0)=>this.setCursor(e,t,n),removeCursor:e=>this.removeCursor(e),getCurrentCursor:()=>this.state.cursor,getHandlersForScope:e=>this.getHandlersForScope(e),activeModeIsExclusive:()=>this.activeModeIsExclusive(),pause:()=>this.dispatch({type:Qs}),resume:()=>this.dispatch({type:Js}),isPaused:()=>this.registry.isDestroyed()||this.state.paused,setDefaultMode:e=>this.setDefaultMode(e),getDefaultMode:()=>this.state.defaultMode,getExclusionRules:()=>this.state.exclusionRules,setExclusionRules:e=>this.dispatch(lc(e)),addExclusionClass:e=>this.dispatch((e=>({type:oc,payload:{className:e}}))(e)),removeExclusionClass:e=>this.dispatch((e=>({type:ic,payload:{className:e}}))(e)),addExclusionAttribute:e=>this.dispatch((e=>({type:rc,payload:{attribute:e}}))(e)),removeExclusionAttribute:e=>this.dispatch((e=>({type:ac,payload:{attribute:e}}))(e))}}activate(e){if(!this.modes.has(e))throw new Error(`[interaction] unknown mode '${e}'`);if(e===this.state.activeMode)return;const t=this.state.activeMode;this.cursorClaims.clear(),this.notifyHandlersInactive(t),this.dispatch((e=>({type:Ks,payload:{mode:e}}))(e)),this.emitCursor(),this.notifyHandlersActive(e),this.onModeChange$.emit({...this.state,activeMode:e})}setDefaultMode(e){if(!this.modes.has(e))throw new Error(`[interaction] cannot set unknown mode '${e}' as default`);this.dispatch({type:tc,payload:{mode:e}})}notifyHandlersActive(e){this.alwaysGlobal.forEach((t=>{var n;null==(n=t.onHandlerActiveStart)||n.call(t,e)})),this.alwaysPage.forEach((t=>{t.forEach((t=>{var n;null==(n=t.onHandlerActiveStart)||n.call(t,e)}))}));const t=this.modes.get(e);if(!t)return;const n=this.buckets.get(e);n&&("global"===t.scope&&n.global.forEach((t=>{var n;null==(n=t.onHandlerActiveStart)||n.call(t,e)})),"page"===t.scope&&n.page.forEach(((t,n)=>{t.forEach((t=>{var n;null==(n=t.onHandlerActiveStart)||n.call(t,e)}))})))}notifyHandlersInactive(e){this.alwaysGlobal.forEach((t=>{var n;null==(n=t.onHandlerActiveEnd)||n.call(t,e)})),this.alwaysPage.forEach((t=>{t.forEach((t=>{var n;null==(n=t.onHandlerActiveEnd)||n.call(t,e)}))}));const t=this.modes.get(e);if(!t)return;const n=this.buckets.get(e);n&&("global"===t.scope&&n.global.forEach((t=>{var n;null==(n=t.onHandlerActiveEnd)||n.call(t,e)})),"page"===t.scope&&n.page.forEach(((t,n)=>{t.forEach((t=>{var n;null==(n=t.onHandlerActiveEnd)||n.call(t,e)}))})))}registerMode(e){this.modes.set(e.id,e),this.buckets.has(e.id)||this.buckets.set(e.id,{global:new Set,page:new Map})}registerHandlers({modeId:e,handlers:t,pageIndex:n}){const o=Array.isArray(e)?e:[e],i=[];for(const e of o){const o=this.buckets.get(e);if(!o)throw new Error(`unknown mode '${e}'`);if(null==n)o.global.add(t);else{const e=o.page.get(n)??new Set;e.add(t),o.page.set(n,e)}i.push((()=>{if(null==n)o.global.delete(t);else{const e=o.page.get(n);e&&(e.delete(t),0===e.size&&o.page.delete(n))}}))}return this.onHandlerChange$.emit({...this.state}),()=>{i.forEach((e=>e())),this.onHandlerChange$.emit({...this.state})}}registerAlways({scope:e,handlers:t}){if("global"===e.type)return this.alwaysGlobal.add(t),this.onHandlerChange$.emit({...this.state}),()=>this.alwaysGlobal.delete(t);const n=this.alwaysPage.get(e.pageIndex)??new Set;return n.add(t),this.alwaysPage.set(e.pageIndex,n),this.onHandlerChange$.emit({...this.state}),()=>{n.delete(t),this.onHandlerChange$.emit({...this.state})}}getHandlersForScope(e){if(!this.state)return null;const t=this.modes.get(this.state.activeMode);if(!t)return null;const n=this.buckets.get(t.id);if(!n)return null;const o=(e,t)=>e.size||t.size?function(e){const t=["onPointerDown","onPointerUp","onPointerMove","onPointerEnter","onPointerLeave","onPointerCancel","onMouseDown","onMouseUp","onMouseMove","onMouseEnter","onMouseLeave","onMouseCancel","onClick","onDoubleClick"],n={};for(const o of t)n[o]=(t,n,i)=>{var r;for(const a of e)null==(r=a[o])||r.call(a,t,n,i)};return n}([...e,...t]):null;if("global"===e.type){const e="global"===t.scope?n.global:new Set;return o(this.alwaysGlobal,e)}return o(this.alwaysPage.get(e.pageIndex)??new Set,"page"===t.scope?n.page.get(e.pageIndex)??new Set:new Set)}setCursor(e,t,n=0){this.cursorClaims.set(e,{cursor:t,priority:n}),this.emitCursor()}removeCursor(e){this.cursorClaims.delete(e),this.emitCursor()}emitCursor(){var e;const t=[...this.cursorClaims.values()].sort(((e,t)=>t.priority-e.priority))[0]??{cursor:(null==(e=this.modes.get(this.state.activeMode))?void 0:e.cursor)??"auto"};var n;t.cursor!==this.state.cursor&&(this.dispatch((n=t.cursor,{type:ec,payload:{cursor:n}})),this.onCursorChange$.emit(t.cursor))}onStoreUpdated(e,t){this.onStateChange$.emit(t)}activeModeIsExclusive(){const e=this.modes.get(this.state.activeMode);return!!(null==e?void 0:e.exclusive)}getActiveInteractionMode(){return this.modes.get(this.state.activeMode)??null}async destroy(){this.onModeChange$.clear(),this.onCursorChange$.clear(),await super.destroy()}};cc.id="interaction-manager";let dc=cc;const uc="interaction-manager",hc={activeMode:"pointerMode",defaultMode:"pointerMode",cursor:"auto",paused:!1,exclusionRules:{classes:[],dataAttributes:[]}},pc={manifest:{id:uc,name:"Interaction Manager Plugin",version:"1.0.0",provides:["interaction-manager"],requires:[],optional:[],defaultConfig:{enabled:!0,exclusionRules:{classes:[],dataAttributes:["data-no-interaction"]}}},create:(e,t)=>new dc(uc,e,t),reducer:(e,t)=>{switch(t.type){case Ks:return{...e,activeMode:t.payload.mode};case ec:return{...e,cursor:t.payload.cursor};case Qs:return{...e,paused:!0};case Js:return{...e,paused:!1};case tc:return{...e,defaultMode:t.payload.mode};case nc:return{...e,exclusionRules:t.payload.rules};case oc:return{...e,exclusionRules:{...e.exclusionRules,classes:[...e.exclusionRules.classes||[],t.payload.className].filter(((e,t,n)=>n.indexOf(e)===t))}};case ic:return{...e,exclusionRules:{...e.exclusionRules,classes:(e.exclusionRules.classes||[]).filter((e=>e!==t.payload.className))}};case rc:return{...e,exclusionRules:{...e.exclusionRules,dataAttributes:[...e.exclusionRules.dataAttributes||[],t.payload.attribute].filter(((e,t,n)=>n.indexOf(e)===t))}};case ac:return{...e,exclusionRules:{...e.exclusionRules,dataAttributes:(e.exclusionRules.dataAttributes||[]).filter((e=>e!==t.payload.attribute))}};default:return e}},initialState:hc},gc=()=>Kn(dc.id);const mc={pointerdown:"onPointerDown",pointerup:"onPointerUp",pointermove:"onPointerMove",pointerenter:"onPointerEnter",pointerleave:"onPointerLeave",pointercancel:"onPointerCancel",mousedown:"onMouseDown",mouseup:"onMouseUp",mousemove:"onMouseMove",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousecancel:"onMouseCancel",click:"onClick",dblclick:"onDoubleClick",touchstart:"onPointerDown",touchend:"onPointerUp",touchmove:"onPointerMove",touchcancel:"onPointerCancel"},fc=["pointerdown","pointerup","pointermove","pointerenter","pointerleave","pointercancel","mousedown","mouseup","mousemove","mouseenter","mouseleave","mousecancel","click","dblclick"],vc="undefined"!=typeof PointerEvent?fc:[...fc,"touchstart","touchend","touchmove","touchcancel"];function yc(e){return"undefined"!=typeof TouchEvent&&e instanceof TouchEvent}function bc(e,t,n,o){let i=e.getHandlersForScope(t);const r=()=>{var t;return!1!==(null==(t=e.getActiveInteractionMode())?void 0:t.wantsRawTouch)},a={};let l=r();const s=e=>{vc.forEach((t=>{const o=a[t]??(a[t]=f);var i;n.addEventListener(t,o,(i=e,t.startsWith("touch")?{passive:!i}:{passive:!1}))}))},c=()=>{vc.forEach((e=>{const t=a[e];t&&n.removeEventListener(e,t)}))};s(l),n.style.touchAction=l?"none":"";const d=e.onModeChange((()=>{if("global"===t.type){const t=e.getActiveInteractionMode();n.style.cursor="global"===(null==t?void 0:t.scope)?t.cursor??"auto":"auto"}i=e.getHandlersForScope(t);const o=r();o!==l&&(c(),s(o),l=o,n.style.touchAction=l?"none":"")})),u=e.onHandlerChange((()=>{i=e.getHandlersForScope(t)})),h=e.getActiveInteractionMode(),p=e.getCurrentCursor();n.style.cursor="global"===t.type&&"global"!==(null==h?void 0:h.scope)?"auto":p;const g=e.onCursorChange((o=>{var i;"global"===t.type&&"global"!==(null==(i=e.getActiveInteractionMode())?void 0:i.scope)||(n.style.cursor=o)})),m=(e,t)=>{if(o)return o(e,t);const n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}};function f(t){var o;if(e.isPaused())return;const r=e.getExclusionRules();if(t.target&&function(e,t){var n,o,i;if(!e)return!1;let r=e;for(;r;){if(null==(n=t.classes)?void 0:n.length)for(const e of t.classes)if(null==(o=r.classList)?void 0:o.contains(e))return!0;if(null==(i=t.dataAttributes)?void 0:i.length)for(const e of t.dataAttributes)if(r.hasAttribute(e))return!0;r=r.parentElement}return!1}(t.target,r))return;const a=mc[t.type];if(!a||!(null==i?void 0:i[a]))return;let s,c;if(yc(t)&&l&&("touchmove"===t.type||"touchcancel"===t.type)&&t.preventDefault(),yc(t)){const e="touchend"===t.type||"touchcancel"===t.type?t.changedTouches[0]:t.touches[0];if(!e)return;s=m(e,n),c={clientX:e.clientX,clientY:e.clientY,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,target:t.target,currentTarget:t.currentTarget,setPointerCapture:()=>{},releasePointerCapture:()=>{}}}else{const e=t;s=m(e,n),c={clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,target:e.target,currentTarget:e.currentTarget,setPointerCapture:()=>{var t,n;null==(n=null==(t=e.target)?void 0:t.setPointerCapture)||n.call(t,e.pointerId)},releasePointerCapture:()=>{var t,n;null==(n=null==(t=e.target)?void 0:t.releasePointerCapture)||n.call(t,e.pointerId)}}}null==(o=i[a])||o.call(i,s,c,e.getActiveMode())}return()=>{c(),d(),g(),u()}}const wc=({children:e,style:t,...n})=>{const o=Me(null),{provides:i}=gc();return Ce((()=>{if(i&&o.current)return bc(i,{type:"global"},o.current)}),[i]),De("div",{ref:o,style:{width:"100%",height:"100%",...t},...n,children:e})},xc=({pageIndex:e,children:t,pageWidth:n,pageHeight:o,rotation:i,scale:r,convertEventToPoint:a,style:l,...s})=>{const c=Me(null),{provides:d}=gc(),u=function(){const{provides:e}=gc(),[t,n]=ke((()=>{const t=null==e?void 0:e.getActiveInteractionMode();return"page"===(null==t?void 0:t.scope)&&!!t.exclusive}));return Ce((()=>{if(e)return e.onModeChange((()=>{const t=e.getActiveInteractionMode();n("page"===(null==t?void 0:t.scope)&&!!(null==t?void 0:t.exclusive))}))}),[e]),t}(),h=Ie(((e,t)=>{const a=t.getBoundingClientRect(),l={x:e.clientX-a.left,y:e.clientY-a.top};return function(e,t,n,o){return Ge(qe(e,t,(4-n)%4),1/o)}(Fe({width:n,height:o},i,1),l,i,r)}),[n,o,i,r]);return Ce((()=>{if(d&&c.current)return bc(d,{type:"page",pageIndex:e},c.current,a||h)}),[d,e,a,h]),De("div",{ref:c,style:{position:"relative",width:n,height:o,...l},...s,children:[t,u&&De("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:10}})]})};const kc="onDblClick";function Cc({children:e,...t}){const{rect:n,rotation:o}=t,{matrix:i,width:r,height:a}=function(e,t){const{width:n,height:o}=e.size;switch(t%4){case 1:return{matrix:`matrix(0, -1, 1, 0, 0, ${o})`,width:o,height:n};case 2:return{matrix:`matrix(-1, 0, 0, -1, ${n}, ${o})`,width:n,height:o};case 3:return{matrix:`matrix(0, 1, -1, 0, ${n}, 0)`,width:o,height:n};default:return{matrix:"matrix(1, 0, 0, 1, 0, 0)",width:n,height:o}}}(n,o),l=Me(null);Ce((()=>{const e=l.current;if(!e)return;const t=e=>{e.stopPropagation()},n=e=>{e.stopPropagation()};return e.addEventListener("pointerdown",t,{capture:!0}),e.addEventListener("touchstart",n,{capture:!0}),()=>{e.removeEventListener("pointerdown",t,{capture:!0}),e.removeEventListener("touchstart",n,{capture:!0})}}),[]);return De($,{children:e({menuWrapperProps:{style:{position:"absolute",left:n.origin.x,top:n.origin.y,transform:i,transformOrigin:"0 0",width:r,height:a,pointerEvents:"none",zIndex:3},ref:e=>{l.current=e}},matrix:i,rect:{origin:{x:n.origin.x,y:n.origin.y},size:{width:r,height:a}}})})}class Sc{constructor(e,t){this.config=e,this.onUpdate=t,this.state="idle",this.startPoint=null,this.startElement=null,this.activeHandle=null,this.currentPosition=null,this.activeVertexIndex=null,this.startVertices=[],this.currentVertices=[],this.currentVertices=e.vertices||[]}updateConfig(e){this.config={...this.config,...e},this.currentVertices=e.vertices||[]}startDrag(e,t){this.state="dragging",this.startPoint={x:e,y:t},this.startElement={...this.config.element},this.currentPosition={...this.config.element},this.onUpdate({state:"start",transformData:{type:"move",changes:{rect:this.startElement}}})}startResize(e,t,n){this.state="resizing",this.activeHandle=e,this.startPoint={x:t,y:n},this.startElement={...this.config.element},this.currentPosition={...this.config.element},this.onUpdate({state:"start",transformData:{type:"resize",changes:{rect:this.startElement},metadata:{handle:this.activeHandle,maintainAspectRatio:this.config.maintainAspectRatio}}})}startVertexEdit(e,t,n){this.currentVertices=[...this.config.vertices??this.currentVertices],e<0||e>=this.currentVertices.length||(this.state="vertex-editing",this.activeVertexIndex=e,this.startPoint={x:t,y:n},this.startVertices=[...this.currentVertices],this.onUpdate({state:"start",transformData:{type:"vertex-edit",changes:{vertices:this.startVertices},metadata:{vertexIndex:e}}}))}move(e,t){if("idle"!==this.state&&this.startPoint)if("dragging"===this.state&&this.startElement){const n=this.calculateDelta(e,t),o=this.calculateDragPosition(n);this.currentPosition=o,this.onUpdate({state:"move",transformData:{type:"move",changes:{rect:o}}})}else if("resizing"===this.state&&this.activeHandle&&this.startElement){const n=this.calculateDelta(e,t),o=this.calculateResizePosition(n,this.activeHandle);this.currentPosition=o,this.onUpdate({state:"move",transformData:{type:"resize",changes:{rect:o},metadata:{handle:this.activeHandle,maintainAspectRatio:this.config.maintainAspectRatio}}})}else if("vertex-editing"===this.state&&null!==this.activeVertexIndex){const n=this.calculateVertexPosition(e,t);this.currentVertices=n,this.onUpdate({state:"move",transformData:{type:"vertex-edit",changes:{vertices:n},metadata:{vertexIndex:this.activeVertexIndex}}})}}end(){if("idle"===this.state)return;const e=this.state,t=this.activeHandle,n=this.activeVertexIndex;if("vertex-editing"===e)this.onUpdate({state:"end",transformData:{type:"vertex-edit",changes:{vertices:this.currentVertices},metadata:{vertexIndex:n||void 0}}});else{const n=this.getCurrentPosition();this.onUpdate({state:"end",transformData:{type:"dragging"===e?"move":"resize",changes:{rect:n},metadata:"dragging"===e?void 0:{handle:t||void 0,maintainAspectRatio:this.config.maintainAspectRatio}}})}this.reset()}cancel(){"idle"!==this.state&&("vertex-editing"===this.state?this.onUpdate({state:"end",transformData:{type:"vertex-edit",changes:{vertices:this.startVertices},metadata:{vertexIndex:this.activeVertexIndex||void 0}}}):this.startElement&&this.onUpdate({state:"end",transformData:{type:"dragging"===this.state?"move":"resize",changes:{rect:this.startElement},metadata:"dragging"===this.state?void 0:{handle:this.activeHandle||void 0,maintainAspectRatio:this.config.maintainAspectRatio}}}),this.reset())}reset(){this.state="idle",this.startPoint=null,this.startElement=null,this.activeHandle=null,this.currentPosition=null,this.activeVertexIndex=null,this.startVertices=[]}getCurrentPosition(){return this.currentPosition||this.config.element}calculateDelta(e,t){if(!this.startPoint)return{x:0,y:0};const n={x:e-this.startPoint.x,y:t-this.startPoint.y};return this.transformDelta(n)}transformDelta(e){const{pageRotation:t=0,scale:n=1}=this.config,o=t*Math.PI/2,i=Math.cos(o),r=Math.sin(o),a=e.x/n,l=e.y/n;return{x:i*a+r*l,y:-r*a+i*l}}clampPoint(e){var t;const n=null==(t=this.config.constraints)?void 0:t.boundingBox;return n?{x:Math.max(0,Math.min(e.x,n.width)),y:Math.max(0,Math.min(e.y,n.height))}:e}calculateVertexPosition(e,t){if(null===this.activeVertexIndex)return this.startVertices;const n=this.calculateDelta(e,t),o=[...this.startVertices],i=o[this.activeVertexIndex],r={x:i.x+n.x,y:i.y+n.y};return o[this.activeVertexIndex]=this.clampPoint(r),o}calculateDragPosition(e){if(!this.startElement)return this.config.element;const t={origin:{x:this.startElement.origin.x+e.x,y:this.startElement.origin.y+e.y},size:{width:this.startElement.size.width,height:this.startElement.size.height}};return this.applyConstraints(t)}calculateResizePosition(e,t){var n;if(!this.startElement)return this.config.element;let{origin:{x:o,y:i},size:{width:r,height:a}}=this.startElement;switch(t){case"se":r+=e.x,a+=e.y;break;case"sw":o+=e.x,r-=e.x,a+=e.y;break;case"ne":r+=e.x,i+=e.y,a-=e.y;break;case"nw":o+=e.x,r-=e.x,i+=e.y,a-=e.y;break;case"n":i+=e.y,a-=e.y;break;case"s":a+=e.y;break;case"e":r+=e.x;break;case"w":o+=e.x,r-=e.x}if(this.config.maintainAspectRatio&&this.startElement){const e=this.startElement.size.width/this.startElement.size.height;if(["n","s","e","w"].includes(t))if("n"===t||"s"===t){const t=a*e,n=t-r;r=t,o-=n/2}else{const n=r/e,l=n-a;a=n,"w"===t&&(o=this.startElement.origin.x+this.startElement.size.width-r),i-=l/2}else{Math.abs(r-this.startElement.size.width)>Math.abs(a-this.startElement.size.height)?a=r/e:r=a*e,t.includes("w")&&(o=this.startElement.origin.x+this.startElement.size.width-r),t.includes("n")&&(i=this.startElement.origin.y+this.startElement.size.height-a)}}const l=null==(n=this.config.constraints)?void 0:n.boundingBox;if(l)switch(t){case"e":r=Math.min(r,l.width-o);break;case"s":a=Math.min(a,l.height-i);break;case"se":r=Math.min(r,l.width-o),a=Math.min(a,l.height-i);break;case"w":o<0&&(r+=o,o=0);break;case"n":i<0&&(a+=i,i=0);break;case"sw":o<0&&(r+=o,o=0),a=Math.min(a,l.height-i);break;case"nw":o<0&&(r+=o,o=0),i<0&&(a+=i,i=0);break;case"ne":r=Math.min(r,l.width-o),i<0&&(a+=i,i=0)}return this.applyConstraints({origin:{x:o,y:i},size:{width:r,height:a}})}applyConstraints(e){const{constraints:t}=this.config;if(!t)return e;let{origin:{x:n,y:o},size:{width:i,height:r}}=e;return i=Math.max(t.minWidth||1,i),r=Math.max(t.minHeight||1,r),t.maxWidth&&(i=Math.min(t.maxWidth,i)),t.maxHeight&&(r=Math.min(t.maxHeight,r)),t.boundingBox&&(n=Math.max(0,Math.min(n,t.boundingBox.width-i)),o=Math.max(0,Math.min(o,t.boundingBox.height-r))),{origin:{x:n,y:o},size:{width:i,height:r}}}}function Mc(e,t){return"n"===e||"s"===e?"ns-resize":"e"===e||"w"===e?"ew-resize":t%2==0?{nw:"nwse-resize",ne:"nesw-resize",sw:"nesw-resize",se:"nwse-resize"}[e]:{nw:"nesw-resize",ne:"nwse-resize",sw:"nwse-resize",se:"nesw-resize"}[e]}function Pc(e,t,n){const o=-e/2;return"center"===n?o:"outside"===n?o-t:o+t}function Ic(e){const{controller:t,resizeUI:n,vertexUI:o,includeVertices:i=!1,handleAttrs:r,vertexAttrs:a}=e,{dragProps:l,createResizeProps:s,createVertexProps:c}=function(e){const{onUpdate:t,enabled:n=!0,...o}=e,i=Me(null),r=Me(t);Ce((()=>{r.current=t}),[t]),Ce((()=>{i.current?i.current.updateConfig(o):i.current=new Sc(o,(e=>{var t;return null==(t=r.current)?void 0:t.call(r,e)}))}),[o.element,o.constraints,o.maintainAspectRatio,o.pageRotation,o.scale,o.vertices]);const a=Ie((e=>{var t;n&&(e.preventDefault(),e.stopPropagation(),null==(t=i.current)||t.startDrag(e.clientX,e.clientY),e.currentTarget.setPointerCapture(e.pointerId))}),[n]),l=Ie((e=>{var t;e.preventDefault(),e.stopPropagation(),null==(t=i.current)||t.move(e.clientX,e.clientY)}),[]),s=Ie((e=>{var t,n,o;e.preventDefault(),e.stopPropagation(),null==(t=i.current)||t.end(),null==(o=(n=e.currentTarget).releasePointerCapture)||o.call(n,e.pointerId)}),[]),c=Ie((e=>({onPointerDown:t=>{var o;n&&(t.preventDefault(),t.stopPropagation(),null==(o=i.current)||o.startResize(e,t.clientX,t.clientY),t.currentTarget.setPointerCapture(t.pointerId))},onPointerMove:l,onPointerUp:s,onPointerCancel:s})),[n,l,s]),d=Ie((e=>({onPointerDown:t=>{var o;n&&(t.preventDefault(),t.stopPropagation(),null==(o=i.current)||o.startVertexEdit(e,t.clientX,t.clientY),t.currentTarget.setPointerCapture(t.pointerId))},onPointerMove:l,onPointerUp:s,onPointerCancel:s})),[n,l,s]);return{dragProps:n?{onPointerDown:a,onPointerMove:l,onPointerUp:s,onPointerCancel:s}:{},createResizeProps:c,createVertexProps:d}}(t),d=Pe((()=>function(e,t={}){const{handleSize:n=8,spacing:o=1,offsetMode:i="outside",includeSides:r=!1,zIndex:a=3,rotationAwareCursor:l=!0}=t,s=(e.pageRotation??0)%4,c=e=>({[e]:Pc(n,o,i)+"px"});return[["nw",{...c("top"),...c("left")}],["ne",{...c("top"),...c("right")}],["sw",{...c("bottom"),...c("left")}],["se",{...c("bottom"),...c("right")}],...r?[["n",{...c("top"),left:`calc(50% - ${n/2}px)`}],["s",{...c("bottom"),left:`calc(50% - ${n/2}px)`}],["w",{...c("left"),top:`calc(50% - ${n/2}px)`}],["e",{...c("right"),top:`calc(50% - ${n/2}px)`}]]:[]].map((([e,t])=>({handle:e,style:{position:"absolute",width:n+"px",height:n+"px",borderRadius:"50%",zIndex:a,cursor:l?Mc(e,s):"default",touchAction:"none",...t},attrs:{"data-epdf-handle":e}})))}(t,n).map((e=>{var t;return{key:null==(t=e.attrs)?void 0:t["data-epdf-handle"],style:e.style,...s(e.handle),...e.attrs??{},...(null==r?void 0:r(e.handle))??{}}}))),[t.element.origin.x,t.element.origin.y,t.element.size.width,t.element.size.height,t.scale,t.pageRotation,t.maintainAspectRatio,null==n?void 0:n.handleSize,null==n?void 0:n.spacing,null==n?void 0:n.offsetMode,null==n?void 0:n.includeSides,null==n?void 0:n.zIndex,null==n?void 0:n.rotationAwareCursor,s,r]),u=Pe((()=>{if(!i)return[];const e=function(e,t={},n){const{vertexSize:o=12,zIndex:i=4}=t,r=e.element,a=e.scale??1;return(n??e.vertices??[]).map(((e,t)=>({handle:"nw",style:{position:"absolute",left:(e.x-r.origin.x)*a-o/2+"px",top:(e.y-r.origin.y)*a-o/2+"px",width:o+"px",height:o+"px",borderRadius:"50%",cursor:"pointer",zIndex:i,touchAction:"none"},attrs:{"data-epdf-vertex":t}})))}(t,o,t.vertices);return e.map(((e,t)=>({key:t,style:e.style,...c(t),...e.attrs??{},...(null==a?void 0:a(t))??{}})))}),[i,t.element.origin.x,t.element.origin.y,t.element.size.width,t.element.size.height,t.scale,t.vertices,null==o?void 0:o.vertexSize,null==o?void 0:o.zIndex,c,a]);return{dragProps:l,resize:d,vertices:u}}const Tc={},Ac=()=>Kn(Fs.id);function zc({scale:e,pageIndex:t,rotation:n,pageWidth:o,pageHeight:i,trackedAnnotation:r,children:a,isSelected:l,isDraggable:s,isResizable:c,lockAspectRatio:d=!1,style:u={},vertexConfig:h,selectionMenu:p,outlineOffset:g=1,onDoubleClick:m,onSelect:f,zIndex:v=1,resizeUI:y,vertexUI:b,selectionOutlineColor:w="#007ACC",customAnnotationRenderer:x,...k}){const[C,S]=ke(r.object),{provides:M}=Ac(),P=Me(null),I=C?{...r.object,...C}:r.object,T=(null==y?void 0:y.color)??"#007ACC",A=(null==b?void 0:b.color)??"#007ACC",z=(null==y?void 0:y.size)??12,R=(null==b?void 0:b.size)??12,{dragProps:E,vertices:_,resize:N}=Ic({controller:{element:I.rect,vertices:null==h?void 0:h.extractVertices(I),constraints:{minWidth:10,minHeight:10,boundingBox:{width:o/e,height:i/e}},maintainAspectRatio:d,pageRotation:n,scale:e,enabled:l,onUpdate:e=>{var n;if(!(null==(n=e.transformData)?void 0:n.type))return;"start"===e.state&&(P.current=I);const o=e.transformData.type,i=P.current??I,a=e.transformData.changes.vertices?null==h?void 0:h.transformAnnotation(i,e.transformData.changes.vertices):{rect:e.transformData.changes.rect},l=null==M?void 0:M.transformAnnotation(i,{type:o,changes:a,metadata:e.transformData.metadata});l&&S((e=>({...e,...l}))),"end"===e.state&&l&&(P.current=null,null==M||M.updateAnnotation(t,r.object.id,l))}},resizeUI:{handleSize:z,spacing:g,offsetMode:"outside",includeSides:!d,zIndex:v+1},vertexUI:{vertexSize:R,zIndex:v+2},includeVertices:!!h}),L=function(e,{delay:t=300,tolerancePx:n=18}={}){const o=Me({t:0,x:0,y:0}),i=Ie((i=>{if(!e)return;if("mouse"===i.pointerType||!1===i.isPrimary)return;const r=performance.now(),a=i.clientX,l=i.clientY,s=r-o.current.t<=t,c=a-o.current.x,d=l-o.current.y;s&&c*c+d*d<=n*n&&(null==e||e(i)),o.current={t:r,x:a,y:l}}),[e,t,n]),r=Ie((t=>{null==e||e(t)}),[e]);return e?{[kc]:r,onPointerUpCapture:i}:{}}(m);return Ce((()=>{S(r.object)}),[r.object]),De("div",{"data-no-interaction":!0,children:[De("div",{...s&&l?E:{},...L,style:{position:"absolute",left:I.rect.origin.x*e,top:I.rect.origin.y*e,width:I.rect.size.width*e,height:I.rect.size.height*e,outline:l?`1px solid ${w}`:"none",outlineOffset:l?`${g}px`:"0px",pointerEvents:l?"auto":"none",touchAction:"none",cursor:l&&s?"move":"default",zIndex:v,...u},...k,children:[(()=>{const r="function"==typeof a?a(I):a,s=null==x?void 0:x({annotation:I,children:r,isSelected:l,scale:e,rotation:n,pageWidth:o,pageHeight:i,pageIndex:t,onSelect:f});return null!=s?s:r})(),l&&c&&N.map((({key:e,...t})=>(null==y?void 0:y.component)?y.component({key:e,...t,backgroundColor:T}):De("div",{...t,style:{...t.style,backgroundColor:T}},e))),l&&_.map((({key:e,...t})=>(null==b?void 0:b.component)?b.component({key:e,...t,backgroundColor:A}):De("div",{...t,style:{...t.style,backgroundColor:A}},e)))]}),De(Cc,{rect:{origin:{x:I.rect.origin.x*e,y:I.rect.origin.y*e},size:{width:I.rect.size.width*e,height:I.rect.size.height*e}},rotation:n,children:({rect:e,menuWrapperProps:t})=>p&&p({annotation:r,selected:l,rect:e,menuWrapperProps:t})})]})}function Rc({color:e="#FFFF00",opacity:t=.5,segmentRects:n,rect:o,scale:i,onClick:r,style:a}){return De($,{children:n.map(((n,l)=>De("div",{onPointerDown:r,onTouchStart:r,style:{position:"absolute",left:(o?n.origin.x-o.origin.x:n.origin.x)*i,top:(o?n.origin.y-o.origin.y:n.origin.y)*i,width:n.size.width*i,height:n.size.height*i,background:e,opacity:t,pointerEvents:r?"auto":"none",cursor:r?"pointer":"default",zIndex:r?1:void 0,...a}},l)))})}function Ec({color:e="#FFFF00",opacity:t=.5,segmentRects:n,rect:o,scale:i,onClick:r,style:a}){const l=2*i;return De($,{children:n.map(((n,s)=>De("div",{onPointerDown:r,onTouchStart:r,style:{position:"absolute",left:(o?n.origin.x-o.origin.x:n.origin.x)*i,top:(o?n.origin.y-o.origin.y:n.origin.y)*i,width:n.size.width*i,height:n.size.height*i,background:"transparent",pointerEvents:r?"auto":"none",cursor:r?"pointer":"default",zIndex:r?1:0,...a},children:De("div",{style:{position:"absolute",left:0,bottom:0,width:"100%",height:l,background:e,opacity:t,pointerEvents:"none"}})},s)))})}function _c({color:e="#FFFF00",opacity:t=.5,segmentRects:n,rect:o,scale:i,onClick:r,style:a}){const l=2*i;return De($,{children:n.map(((n,s)=>De("div",{onPointerDown:r,onTouchStart:r,style:{position:"absolute",left:(o?n.origin.x-o.origin.x:n.origin.x)*i,top:(o?n.origin.y-o.origin.y:n.origin.y)*i,width:n.size.width*i,height:n.size.height*i,background:"transparent",pointerEvents:r?"auto":"none",cursor:r?"pointer":"default",zIndex:r?1:0,...a},children:De("div",{style:{position:"absolute",left:0,top:"50%",width:"100%",height:l,background:e,opacity:t,transform:"translateY(-50%)",pointerEvents:"none"}})},s)))})}function Nc({color:e="#FFFF00",opacity:t=.5,segmentRects:n,rect:o,scale:i,onClick:r,style:a}){const l=2*i,s=6*i,c=`url("data:image/svg+xml;utf8,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="${s}" height="${2*l}" viewBox="0 0 ${s} ${2*l}">\n      <path d="M0 ${l} Q ${s/4} 0 ${s/2} ${l} T ${s} ${l}"\n            fill="none" stroke="${e}" stroke-width="${l}" stroke-linecap="round"/>\n    </svg>`)}")`;return De($,{children:n.map(((e,n)=>De("div",{onPointerDown:r,onTouchStart:r,style:{position:"absolute",left:(o?e.origin.x-o.origin.x:e.origin.x)*i,top:(o?e.origin.y-o.origin.y:e.origin.y)*i,width:e.size.width*i,height:e.size.height*i,background:"transparent",pointerEvents:r?"auto":"none",cursor:r?"pointer":"default",zIndex:r?1:0,...a},children:De("div",{style:{position:"absolute",left:0,bottom:0,width:"100%",height:2*l,backgroundImage:c,backgroundRepeat:"repeat-x",backgroundSize:`${s}px ${2*l}px`,opacity:t,pointerEvents:"none"}})},n)))})}function Lc({isSelected:e,color:t="#000000",opacity:n=1,strokeWidth:o,inkList:i,rect:r,scale:a,onClick:l}){const s=Pe((()=>i.map((({points:e})=>{let t="";return e.forEach((({x:e,y:n},o)=>{const i=e-r.origin.x,a=n-r.origin.y;t+=(0===o?"M":"L")+i+" "+a+" "})),t.trim()}))),[i,r]),c=r.size.width*a,d=r.size.height*a;return De("svg",{style:{position:"absolute",width:c,height:d,pointerEvents:"none",zIndex:2,overflow:"visible"},width:c,height:d,viewBox:`0 0 ${r.size.width} ${r.size.height}`,children:s.map(((i,r)=>De("path",{d:i,fill:"none",opacity:n,onPointerDown:l,onTouchStart:l,style:{cursor:e?"move":"pointer",pointerEvents:e?"none":"visibleStroke",stroke:t,strokeWidth:o,strokeLinecap:"round",strokeLinejoin:"round"}},r)))})}function Dc({isSelected:e,color:t="#000000",strokeColor:n,opacity:o=1,strokeWidth:i,strokeStyle:r=Mt.SOLID,strokeDashArray:a,rect:l,scale:s,onClick:c}){const{width:d,height:u,x:h,y:p}=Pe((()=>{const e=l.size.width,t=l.size.height;return{width:Math.max(e-i,0),height:Math.max(t-i,0),x:i/2,y:i/2}}),[l,i]),g=(d+i)*s,m=(u+i)*s;return De("svg",{style:{position:"absolute",width:g,height:m,pointerEvents:"none",zIndex:2},width:g,height:m,viewBox:`0 0 ${d+i} ${u+i}`,children:De("rect",{x:h,y:p,width:d,height:u,fill:t,opacity:o,onPointerDown:c,onTouchStart:c,style:{cursor:e?"move":"pointer",pointerEvents:e?"none":"transparent"===t?"visibleStroke":"visible",stroke:n??t,strokeWidth:i,...r===Mt.DASHED&&{strokeDasharray:null==a?void 0:a.join(",")}}})})}function Oc({color:e="#000000",strokeColor:t,opacity:n=1,strokeWidth:o,strokeStyle:i=Mt.SOLID,strokeDashArray:r,rect:a,scale:l,onClick:s,isSelected:c}){const{width:d,height:u,cx:h,cy:p,rx:g,ry:m}=Pe((()=>{const e=a.size.width,t=a.size.height,n=Math.max(e-o,0),i=Math.max(t-o,0);return{width:e,height:t,cx:o/2+n/2,cy:o/2+i/2,rx:n/2,ry:i/2}}),[a,o]),f=d*l,v=u*l;return De("svg",{style:{position:"absolute",width:f,height:v,pointerEvents:"none",zIndex:2},width:f,height:v,viewBox:`0 0 ${d} ${u}`,children:De("ellipse",{cx:h,cy:p,rx:g,ry:m,fill:e,opacity:n,onPointerDown:s,onTouchStart:s,style:{cursor:c?"move":"pointer",pointerEvents:c?"none":"transparent"===e?"visibleStroke":"visible",stroke:t??e,strokeWidth:o,...i===Mt.DASHED&&{strokeDasharray:null==r?void 0:r.join(",")}}})})}function Bc({color:e="transparent",opacity:t=1,strokeWidth:n,strokeColor:o="#000000",strokeStyle:i=Mt.SOLID,strokeDashArray:r,rect:a,linePoints:l,lineEndings:s,scale:c,onClick:d,isSelected:u}){const{x1:h,y1:p,x2:g,y2:m}=Pe((()=>({x1:l.start.x-a.origin.x,y1:l.start.y-a.origin.y,x2:l.end.x-a.origin.x,y2:l.end.y-a.origin.y})),[l,a]),f=Pe((()=>{const e=Math.atan2(m-p,g-h);return{start:zs.createEnding(null==s?void 0:s.start,n,e+Math.PI,h,p),end:zs.createEnding(null==s?void 0:s.end,n,e,g,m)}}),[s,n,h,p,g,m]),v=a.size.width*c,y=a.size.height*c;return De("svg",{style:{position:"absolute",width:v,height:y,pointerEvents:"none",zIndex:2,overflow:"visible"},width:v,height:y,viewBox:`0 0 ${a.size.width} ${a.size.height}`,children:[De("line",{x1:h,y1:p,x2:g,y2:m,opacity:t,onPointerDown:d,onTouchStart:d,style:{cursor:u?"move":"pointer",pointerEvents:u?"none":"visibleStroke",stroke:o,strokeWidth:n,strokeLinecap:"butt",...i===Mt.DASHED&&{strokeDasharray:null==r?void 0:r.join(",")}}}),f.start&&De("path",{d:f.start.d,transform:f.start.transform,onPointerDown:d,onTouchStart:d,stroke:o,style:{cursor:u?"move":"pointer",strokeWidth:n,strokeLinecap:"butt",pointerEvents:u?"none":f.start.filled?"visible":"visibleStroke",...i===Mt.DASHED&&{strokeDasharray:null==r?void 0:r.join(",")}},fill:f.start.filled?e:"none"}),f.end&&De("path",{d:f.end.d,transform:f.end.transform,stroke:o,onPointerDown:d,onTouchStart:d,style:{cursor:u?"move":"pointer",strokeWidth:n,strokeLinecap:"butt",pointerEvents:u?"none":f.end.filled?"visible":"visibleStroke",...i===Mt.DASHED&&{strokeDasharray:null==r?void 0:r.join(",")}},fill:f.end.filled?e:"none"})]})}function Hc({rect:e,vertices:t,color:n="transparent",strokeColor:o="#000000",opacity:i=1,strokeWidth:r,scale:a,isSelected:l,onClick:s,lineEndings:c}){const d=Pe((()=>t.map((({x:t,y:n})=>({x:t-e.origin.x,y:n-e.origin.y})))),[t,e]),u=Pe((()=>{if(!d.length)return"";const[e,...t]=d;return`M ${e.x} ${e.y} `+t.map((e=>`L ${e.x} ${e.y} `)).join("").trim()}),[d]),h=Pe((()=>{if(d.length<2)return{start:null,end:null};const e=(e,t)=>Math.atan2(t.y-e.y,t.x-e.x),t=e(d[0],d[1]),n=e(d[d.length-2],d[d.length-1]);return{start:zs.createEnding(null==c?void 0:c.start,r,t+Math.PI,d[0].x,d[0].y),end:zs.createEnding(null==c?void 0:c.end,r,n,d[d.length-1].x,d[d.length-1].y)}}),[d,c,r]),p=e.size.width*a,g=e.size.height*a;return De("svg",{style:{position:"absolute",width:p,height:g,pointerEvents:"none",zIndex:2,overflow:"visible"},width:p,height:g,viewBox:`0 0 ${e.size.width} ${e.size.height}`,children:[De("path",{d:u,onPointerDown:s,onTouchStart:s,opacity:i,style:{fill:"none",stroke:o??n,strokeWidth:r,cursor:l?"move":"pointer",pointerEvents:l?"none":"visibleStroke",strokeLinecap:"butt",strokeLinejoin:"miter"}}),h.start&&De("path",{d:h.start.d,transform:h.start.transform,stroke:o,fill:h.start.filled?n:"none",onPointerDown:s,onTouchStart:s,style:{cursor:l?"move":"pointer",strokeWidth:r,pointerEvents:l?"none":h.start.filled?"visible":"visibleStroke",strokeLinecap:"butt"}}),h.end&&De("path",{d:h.end.d,transform:h.end.transform,stroke:o,fill:h.end.filled?n:"none",onPointerDown:s,onTouchStart:s,style:{cursor:l?"move":"pointer",strokeWidth:r,pointerEvents:l?"none":h.end.filled?"visible":"visibleStroke",strokeLinecap:"butt"}})]})}function jc({rect:e,vertices:t,color:n="transparent",strokeColor:o="#000000",opacity:i=1,strokeWidth:r,strokeStyle:a=Mt.SOLID,strokeDashArray:l,scale:s,isSelected:c,onClick:d,currentVertex:u,handleSize:h=14}){const p=u?[...t,u]:t,g=Pe((()=>p.map((({x:t,y:n})=>({x:t-e.origin.x,y:n-e.origin.y})))),[p,e]),m=Pe((()=>{if(!g.length)return"";const[e,...t]=g,n=!!u;return(`M ${e.x} ${e.y} `+t.map((e=>`L ${e.x} ${e.y}`)).join(" ")+(n?"":" Z")).trim()}),[g,u]),f=u&&t.length>0,v=e.size.width*s,y=e.size.height*s;return De("svg",{style:{position:"absolute",width:v,height:y,pointerEvents:"none",zIndex:2,overflow:"visible"},width:v,height:y,viewBox:`0 0 ${e.size.width} ${e.size.height}`,children:[De("path",{d:m,onPointerDown:d,onTouchStart:d,opacity:i,style:{fill:u?"none":n,stroke:o??n,strokeWidth:r,cursor:c?"move":"pointer",pointerEvents:c?"none":"transparent"===n?"visibleStroke":"visible",strokeLinecap:"butt",strokeLinejoin:"miter",...a===Mt.DASHED&&{strokeDasharray:null==l?void 0:l.join(",")}}}),f&&t.length>1&&De("path",{d:`M ${g[g.length-1].x} ${g[g.length-1].y} L ${g[0].x} ${g[0].y}`,fill:"none",style:{stroke:o,strokeWidth:r,strokeDasharray:"4,4",opacity:.7}}),f&&t.length>=2&&De("rect",{x:g[0].x-h/s/2,y:g[0].y-h/s/2,width:h/s,height:h/s,fill:o,opacity:.4,stroke:o,strokeWidth:r/2})]})}function $c({isSelected:e,isEditing:t,annotation:n,pageIndex:o,scale:i,onClick:r}){const a=Me(null),{provides:l}=Ac(),[s,c]=ke(!1);Ce((()=>{if(t&&a.current){const e=a.current;e.focus();const t=window.getSelection();if(t){const n=document.createRange();n.selectNodeContents(e),n.collapse(!1),t.removeAllRanges(),t.addRange(n)}}}),[t]),Se((()=>{try{const e=navigator,t=/iPad|iPhone|iPod/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&(null==e?void 0:e.maxTouchPoints)>1;c(t)}catch{c(!1)}}),[]);const d=n.object.fontSize*i,u=s&&t&&d>0&&d<16,h=u?16:d,p=u?d/16:1,g=u?100/p:100;return De("div",{style:{position:"absolute",width:n.object.rect.size.width*i,height:n.object.rect.size.height*i,cursor:e&&!t?"move":"default",pointerEvents:e&&!t?"none":"auto",zIndex:2},onPointerDown:r,onTouchStart:r,children:De("span",{ref:a,onBlur:()=>{l&&a.current&&l.updateAnnotation(o,n.object.id,{contents:a.current.innerText})},tabIndex:0,style:{color:n.object.fontColor,fontSize:h,fontFamily:(m=n.object.fontFamily,Xt(m).css),textAlign:Ut(n.object.textAlign),flexDirection:"column",justifyContent:n.object.verticalAlign===mt.Top?"flex-start":n.object.verticalAlign===mt.Middle?"center":"flex-end",display:"flex",backgroundColor:n.object.backgroundColor,opacity:n.object.opacity,width:u?`${g}%`:"100%",height:u?`${g}%`:"100%",lineHeight:"1.18",overflow:"hidden",cursor:t?"text":"pointer",outline:"none",transform:u?`scale(${p})`:void 0,transformOrigin:"top left"},contentEditable:t,...Tc,children:n.object.contents})});var m}function Fc({pageIndex:e,annotation:t,scaleFactor:n=1,style:o,...i}){const{provides:r}=Ac(),[a,l]=ke(null),s=Me(null),{width:c,height:d}=t.rect.size;Ce((()=>{if(r){const o=r.renderAnnotation({pageIndex:e,annotation:t,options:{scaleFactor:n,dpr:window.devicePixelRatio}});return o.wait((e=>{const t=URL.createObjectURL(e);l(t),s.current=t}),un),()=>{s.current?(URL.revokeObjectURL(s.current),s.current=null):o.abort({code:_t.Cancelled,message:"canceled render task"})}}}),[e,n,r,t.id,c,d]);return De($,{children:a&&De("img",{src:a,onLoad:()=>{s.current&&(URL.revokeObjectURL(s.current),s.current=null)},...i,style:{width:"100%",height:"100%",display:"block",...o||{}}})})}function Uc({isSelected:e,annotation:t,pageIndex:n,scale:o,onClick:i}){return De("div",{style:{position:"absolute",width:"100%",height:"100%",zIndex:2,pointerEvents:e?"none":"auto",cursor:"pointer"},onPointerDown:i,onTouchStart:i,children:De(Fc,{pageIndex:n,annotation:{...t.object,id:t.object.id},scaleFactor:o})})}function Wc(e){const{pageIndex:t,scale:n,selectionMenu:o}=e,{provides:i}=Ac(),{provides:r}=Va(),[a,l]=ke([]),{register:s}=function({modeId:e,pageIndex:t}){const{provides:n}=gc();return{register:(o,i)=>{const r=(null==i?void 0:i.modeId)??e,a=(null==i?void 0:i.pageIndex)??t;return r?null==n?void 0:n.registerHandlers({modeId:r,handlers:o,pageIndex:a}):null==n?void 0:n.registerAlways({scope:void 0!==a?{type:"page",pageIndex:a}:{type:"global"},handlers:o})}}}({pageIndex:t}),[c,d]=ke(null),[u,h]=ke(null);Ce((()=>{i&&i.onStateChange((e=>{l(((e,t)=>(e.pages[t]??[]).map((t=>e.byUid[t])))(e,t)),d(((e,t)=>e.selectedUid&&(e.pages[t]??[]).includes(e.selectedUid)?e.byUid[e.selectedUid]:null)(e,t))}))}),[i]);const p=Pe((()=>({onPointerDown:(e,t)=>{t.target===t.currentTarget&&i&&(i.deselectAnnotation(),h(null))}})),[i]),g=Ie(((e,n)=>{e.stopPropagation(),i&&r&&(i.selectAnnotation(t,n.object.id),r.clear(),n.object.id!==u&&h(null))}),[i,r,u,t]);return Ce((()=>s(p)),[s,p]),De($,{children:a.map((r=>{const a=(null==c?void 0:c.object.id)===r.object.id,l=u===r.object.id,s=null==i?void 0:i.findToolForAnnotation(r.object);return ts(r)?De(zc,{trackedAnnotation:r,isSelected:a,isDraggable:(null==s?void 0:s.interaction.isDraggable)??!0,isResizable:(null==s?void 0:s.interaction.isResizable)??!0,lockAspectRatio:(null==s?void 0:s.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),style:{mixBlendMode:rn(r.object.blendMode??ft.Normal)},...e,children:e=>De(Lc,{...e,isSelected:a,scale:n,onClick:e=>g(e,r)})},r.object.id):is(r)?De(zc,{trackedAnnotation:r,isSelected:a,isDraggable:(null==s?void 0:s.interaction.isDraggable)??!0,isResizable:(null==s?void 0:s.interaction.isResizable)??!0,lockAspectRatio:(null==s?void 0:s.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),style:{mixBlendMode:rn(r.object.blendMode??ft.Normal)},...e,children:e=>De(Dc,{...e,isSelected:a,scale:n,onClick:e=>g(e,r)})},r.object.id):ns(r)?De(zc,{trackedAnnotation:r,isSelected:a,isDraggable:(null==s?void 0:s.interaction.isDraggable)??!0,isResizable:(null==s?void 0:s.interaction.isResizable)??!0,lockAspectRatio:(null==s?void 0:s.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),style:{mixBlendMode:rn(r.object.blendMode??ft.Normal)},...e,children:e=>De(Oc,{...e,isSelected:a,scale:n,onClick:e=>g(e,r)})},r.object.id):ss(r)?De(zc,{trackedAnnotation:r,isSelected:a,isDraggable:(null==s?void 0:s.interaction.isDraggable)??!1,isResizable:(null==s?void 0:s.interaction.isResizable)??!1,lockAspectRatio:(null==s?void 0:s.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),zIndex:0,style:{mixBlendMode:rn(r.object.blendMode??ft.Normal)},...e,children:e=>De(Ec,{...e,scale:n,onClick:e=>g(e,r)})},r.object.id):cs(r)?De(zc,{trackedAnnotation:r,isSelected:a,isDraggable:(null==s?void 0:s.interaction.isDraggable)??!1,isResizable:(null==s?void 0:s.interaction.isResizable)??!1,lockAspectRatio:(null==s?void 0:s.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),zIndex:0,style:{mixBlendMode:rn(r.object.blendMode??ft.Normal)},...e,children:e=>De(_c,{...e,scale:n,onClick:e=>g(e,r)})},r.object.id):ds(r)?De(zc,{trackedAnnotation:r,isSelected:a,isDraggable:(null==s?void 0:s.interaction.isDraggable)??!1,isResizable:(null==s?void 0:s.interaction.isResizable)??!1,lockAspectRatio:(null==s?void 0:s.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),zIndex:0,style:{mixBlendMode:rn(r.object.blendMode??ft.Normal)},...e,children:e=>De(Nc,{...e,scale:n,onClick:e=>g(e,r)})},r.object.id):ls(r)?De(zc,{trackedAnnotation:r,isSelected:a,isDraggable:(null==s?void 0:s.interaction.isDraggable)??!1,isResizable:(null==s?void 0:s.interaction.isResizable)??!1,lockAspectRatio:(null==s?void 0:s.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),zIndex:0,style:{mixBlendMode:rn(r.object.blendMode??ft.Multiply)},...e,children:e=>De(Rc,{...e,scale:n,onClick:e=>g(e,r)})},r.object.id):rs(r)?De(zc,{trackedAnnotation:r,isSelected:a,isDraggable:(null==s?void 0:s.interaction.isDraggable)??!0,isResizable:(null==s?void 0:s.interaction.isResizable)??!1,lockAspectRatio:(null==s?void 0:s.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),vertexConfig:{extractVertices:e=>[e.linePoints.start,e.linePoints.end],transformAnnotation:(e,t)=>({...e,linePoints:{start:t[0],end:t[1]}})},style:{mixBlendMode:rn(r.object.blendMode??ft.Normal)},...e,children:e=>De($,{children:De(Bc,{...e,isSelected:a,scale:n,onClick:e=>g(e,r)})})},r.object.id):as(r)?De(zc,{trackedAnnotation:r,isSelected:a,isDraggable:(null==s?void 0:s.interaction.isDraggable)??!0,isResizable:(null==s?void 0:s.interaction.isResizable)??!1,lockAspectRatio:(null==s?void 0:s.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),vertexConfig:{extractVertices:e=>e.vertices,transformAnnotation:(e,t)=>({...e,vertices:t})},style:{mixBlendMode:rn(r.object.blendMode??ft.Normal)},...e,children:e=>De($,{children:De(Hc,{...e,isSelected:a,scale:n,onClick:e=>g(e,r)})})},r.object.id):os(r)?De(zc,{trackedAnnotation:r,isSelected:a,isDraggable:(null==s?void 0:s.interaction.isDraggable)??!0,isResizable:(null==s?void 0:s.interaction.isResizable)??!1,lockAspectRatio:(null==s?void 0:s.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),vertexConfig:{extractVertices:e=>e.vertices,transformAnnotation:(e,t)=>({...e,vertices:t})},style:{mixBlendMode:rn(r.object.blendMode??ft.Normal)},...e,children:e=>De($,{children:De(jc,{...e,isSelected:a,scale:n,onClick:e=>g(e,r)})})},r.object.id):us(r)?De(zc,{trackedAnnotation:r,isSelected:a,isDraggable:((null==s?void 0:s.interaction.isDraggable)??!0)&&!l,isResizable:(null==s?void 0:s.interaction.isResizable)??!0,lockAspectRatio:(null==s?void 0:s.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),style:{mixBlendMode:rn(r.object.blendMode??ft.Normal)},onDoubleClick:e=>{e.stopPropagation(),h(r.object.id)},...e,children:e=>De($c,{isSelected:a,isEditing:l,annotation:{...r,object:e},pageIndex:t,scale:n,onClick:e=>g(e,r)})},r.object.id):hs(r)?De(zc,{trackedAnnotation:r,isSelected:a,isDraggable:(null==s?void 0:s.interaction.isDraggable)??!0,isResizable:(null==s?void 0:s.interaction.isResizable)??!0,lockAspectRatio:(null==s?void 0:s.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),style:{mixBlendMode:rn(r.object.blendMode??ft.Normal)},...e,children:e=>De(Uc,{isSelected:a,annotation:r,pageIndex:t,scale:n,onClick:e=>g(e,r)})},r.object.id):null}))})}function qc({pageIndex:e,scale:t}){var n,o,i,r,a,l,s,c,d,u,h,p;const{provides:g}=Va(),{provides:m}=Ac(),[f,v]=ke([]),[y,b]=ke(null),[w,x]=ke(null);if(Ce((()=>{if(!g)return;return g.onSelectionChange((()=>{v(g.getHighlightRectsForPage(e)),b(g.getBoundingRectForPage(e))}))}),[g,e]),Ce((()=>{if(!m)return;return m.onActiveToolChange(x)}),[m]),!y)return null;if(!w||!w.defaults)return null;switch(w.defaults.type){case bt.UNDERLINE:return De("div",{style:{mixBlendMode:rn((null==(n=w.defaults)?void 0:n.blendMode)??ft.Normal),pointerEvents:"none",position:"absolute",inset:0},children:De(Ec,{color:null==(o=w.defaults)?void 0:o.color,opacity:null==(i=w.defaults)?void 0:i.opacity,segmentRects:f,scale:t})});case bt.HIGHLIGHT:return De("div",{style:{mixBlendMode:rn((null==(r=w.defaults)?void 0:r.blendMode)??ft.Multiply),pointerEvents:"none",position:"absolute",inset:0},children:De(Rc,{color:null==(a=w.defaults)?void 0:a.color,opacity:null==(l=w.defaults)?void 0:l.opacity,segmentRects:f,scale:t})});case bt.STRIKEOUT:return De("div",{style:{mixBlendMode:rn((null==(s=w.defaults)?void 0:s.blendMode)??ft.Normal),pointerEvents:"none",position:"absolute",inset:0},children:De(_c,{color:null==(c=w.defaults)?void 0:c.color,opacity:null==(d=w.defaults)?void 0:d.opacity,segmentRects:f,scale:t})});case bt.SQUIGGLY:return De("div",{style:{mixBlendMode:rn((null==(u=w.defaults)?void 0:u.blendMode)??ft.Normal),pointerEvents:"none",position:"absolute",inset:0},children:De(Nc,{color:null==(h=w.defaults)?void 0:h.color,opacity:null==(p=w.defaults)?void 0:p.opacity,segmentRects:f,scale:t})});default:return null}}function Gc({preview:e,scale:t}){const{bounds:n}=e,o={position:"absolute",left:n.origin.x*t,top:n.origin.y*t,width:n.size.width*t,height:n.size.height*t,pointerEvents:"none",zIndex:10};return e.type===bt.CIRCLE?De("div",{style:o,children:De(Oc,{isSelected:!1,scale:t,...e.data})}):e.type===bt.SQUARE?De("div",{style:o,children:De(Dc,{isSelected:!1,scale:t,...e.data})}):e.type===bt.POLYGON?De("div",{style:o,children:De(jc,{isSelected:!1,scale:t,...e.data})}):e.type===bt.POLYLINE?De("div",{style:o,children:De(Hc,{isSelected:!1,scale:t,...e.data})}):e.type===bt.LINE?De("div",{style:o,children:De(Bc,{isSelected:!1,scale:t,...e.data})}):e.type===bt.INK?De("div",{style:o,children:De(Lc,{isSelected:!1,scale:t,...e.data})}):e.type===bt.FREETEXT?De("div",{style:o,children:De("div",{style:{width:"100%",height:"100%",border:`1px dashed ${e.data.fontColor||"#000000"}`,backgroundColor:"transparent"}})}):null}function Zc({pageIndex:e,scale:t}){const{plugin:n}=Xn(Fs.id),[o,i]=ke(new Map),r=Me(null),a=Me(null),l=Pe((()=>({requestFile:({accept:e,onFile:t})=>{if(!r.current)return;const n=r.current;n.accept=e,n.onchange=e=>{var o;const i=null==(o=e.target.files)?void 0:o[0];i&&(t(i),n.value="")},n.click()},processImage:({source:e,maxWidth:t,maxHeight:n,onComplete:o})=>{const i=a.current;if(!i||!i.getContext)return;const r=i.getContext("2d");if(!r)return;const l=new Image;l.crossOrigin="Anonymous",l.onload=()=>{let{naturalWidth:a,naturalHeight:s}=l;const c=t?t/a:1,d=n?n/s:1,u=Math.min(c,d,1),h=a*u,p=s*u;i.width=h,i.height=p,r.drawImage(l,0,0,h,p);const g=r.getImageData(0,0,h,p);"string"!=typeof e&&URL.revokeObjectURL(l.src),o({imageData:g,width:h,height:p})},l.src="string"==typeof e?e:URL.createObjectURL(e)}})),[]);return Ce((()=>{if(n)return n.registerPageHandlers(e,t,{services:l,onPreview:(e,t)=>{i((n=>{const o=new Map(n);return t?o.set(e,t):o.delete(e),o}))}})}),[e,t,n,l]),De($,{children:[De("input",{ref:r,type:"file",style:{display:"none"}}),De("canvas",{ref:a,style:{display:"none"}}),Array.from(o.entries()).map((([e,n])=>De(Gc,{preview:n,scale:t},e)))]})}function Vc({style:e,pageIndex:t,scale:n,selectionMenu:o,resizeUI:i,vertexUI:r,pageWidth:a,pageHeight:l,rotation:s,selectionOutlineColor:c,customAnnotationRenderer:d,...u}){return De("div",{style:{...e},...u,children:[De(Wc,{selectionMenu:o,pageIndex:t,scale:n,rotation:s,pageWidth:a,pageHeight:l,resizeUI:i,vertexUI:r,selectionOutlineColor:c,customAnnotationRenderer:d}),De(qc,{pageIndex:t,scale:n}),De(Zc,{pageIndex:t,scale:n})]})}var Yc,Xc=["position"],Kc=function(){var e=f(ke(!1),2),t=e[0],n=e[1],o=Me(null),i=Me(null);return Ce((function(){if(t){var e=function(e){o.current&&!o.current.contains(e.target)&&n(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}}),[t]),Ce((function(){t&&i.current&&i.current.scrollIntoView({block:"center",inline:"start"})}),[t]),{open:t,setOpen:n,rootRef:o,selectedItemRef:i}},Qc=function(e){var t=e.value,n=e.onChange,o=e.options,i=e.getOptionKey,r=e.renderValue,a=e.renderOption,l=e.triggerClass,s=void 0===l?"px-3 py-2":l,c=Kc(),d=c.open,u=c.setOpen,h=c.rootRef,p=c.selectedItemRef;return H("div",{ref:h,class:"relative inline-block w-full"},H("button",{type:"button",class:"flex w-full items-center justify-between gap-2 rounded border border-gray-300 bg-white ".concat(s),onClick:function(){return u((function(e){return!e}))}},r(t),H("svg",{class:"h-4 w-4 text-gray-600 dark:text-gray-300",viewBox:"0 0 20 20",fill:"currentColor"},H("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z",clipRule:"evenodd"}))),d&&H("div",{class:"absolute z-10 mt-1 max-h-60 w-full overflow-y-auto rounded border bg-white p-1 shadow-lg"},o.map((function(e){var o=i(e)===i(t);return H("button",{ref:o?p:null,key:i(e),class:"block w-full rounded text-left hover:bg-gray-100 ".concat(o?"bg-gray-100 dark:bg-gray-700":""),onClick:function(){n(e),u(!1)}},a(e,o))}))))},Jc=function(e){var t=e.value,n=e.min,o=void 0===n?0:n,i=e.max,r=void 0===i?1:i,a=e.step,l=void 0===a?.1:a,s=e.onChange;return H("input",{type:"range",class:"range-sm mb-2 h-1 w-full cursor-pointer appearance-none rounded-lg bg-gray-200",value:t,min:o,max:r,step:l,onInput:function(e){return s(parseFloat(e.target.value))}})},ed=function(e){var t=e.color,n=e.active,o=e.onSelect,i=function(e){return"transparent"===e||/^rgba\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*0\s*\)$/i.test(e)||/^#([0-9a-f]{8})$/i.test(e)&&"00"===e.slice(-2).toLowerCase()||/^#([0-9a-f]{4})$/i.test(e)&&"0"===e.slice(-1).toLowerCase()}(t)?{backgroundColor:"#fff",backgroundImage:"linear-gradient(45deg, transparent 40%, red 40%, red 60%, transparent 60%)",backgroundSize:"100% 100%"}:{backgroundColor:t};return H("button",{title:t,class:"h-5 w-5 rounded-full border border-gray-400 ".concat(n?"outline outline-2 outline-offset-2 outline-blue-500":""),style:i,onClick:function(){return o(t)}})},td=[{id:Mt.SOLID},{id:Mt.DASHED,dash:[6,2]},{id:Mt.DASHED,dash:[8,4]},{id:Mt.DASHED,dash:[3,3]},{id:Mt.DASHED,dash:[1,2]},{id:Mt.DASHED,dash:[4,2,1,2]},{id:Mt.DASHED,dash:[8,4,1,4]}],nd=function(e){return H("svg",{width:"80",height:"8",viewBox:"0 0 80 8"},H("line",{x1:"0",y1:"4",x2:"80",y2:"4",style:{strokeDasharray:null==e?void 0:e.join(" "),stroke:"black",strokeWidth:"2"}}))},od=function(e){return H(Qc,h(h({},e),{},{options:td,getOptionKey:function(e){var t;return e.id+((null===(t=e.dash)||void 0===t?void 0:t.join("-"))||"")},renderValue:function(e){return nd(e.dash)},renderOption:function(e){return H("div",{class:"px-1 py-2"},nd(e.dash))}}))},id=[kt.None,kt.Square,kt.Circle,kt.Diamond,kt.OpenArrow,kt.ClosedArrow,kt.ROpenArrow,kt.RClosedArrow,kt.Butt,kt.Slash],rd=function(e){var t,n=e.ending,o=e.position,i=l(l(l(l(l(l(l(l(l({},kt.Square,H("path",{d:"M68 -4 L76 -4 L76 4 L68 4 Z"})),kt.Circle,H("circle",{cx:"72",cy:"0",r:"4"})),kt.Diamond,H("path",{d:"M72 -5 L77 0 L72 5 L67 0 Z"})),kt.OpenArrow,H("path",{d:"M67 -5 L77 0 L67 5",fill:"none"})),kt.ClosedArrow,H("path",{d:"M67 -5 L77 0 L67 5 Z"})),kt.ROpenArrow,H("path",{d:"M77 -5 L67 0 L77 5",fill:"none"})),kt.RClosedArrow,H("path",{d:"M77 -5 L67 0 L77 5 Z"})),kt.Butt,H("path",{d:"M72 -5 L72 5",fill:"none"})),kt.Slash,H("path",{d:"M67 -5 L77 5",fill:"none"})),r=l(l(l(l(l(l(l(l(l({},kt.Square,68),kt.Circle,68),kt.Diamond,67),kt.OpenArrow,76),kt.ClosedArrow,67),kt.ROpenArrow,67),kt.RClosedArrow,67),kt.Butt,72),kt.Slash,72),a=i[n];return H("svg",{width:"80",height:"20",viewBox:"0 0 80 20",class:"text-black"},H("g",{transform:"start"===o?"rotate(180 40 10)":""},H("line",{x1:"4",y1:"10",x2:null!==(t=r[n])&&void 0!==t?t:77,y2:"10",stroke:"currentColor","stroke-width":"1.5"}),a&&H("g",{transform:"translate(0, 10)",fill:"currentColor",stroke:"currentColor","stroke-width":"1.5"},a)))},ad=function(e){var t=e.position,n=p(e,Xc);return H(Qc,h(h({},n),{},{options:id,getOptionKey:function(e){return e},triggerClass:"px-3 py-1",renderValue:function(e){return H(rd,{ending:e,position:t})},renderOption:function(e){return H("div",{class:"px-1 py-1"},H(rd,{ending:e,position:t}))}}))},ld=function(e){return H(Qc,h(h({},e),{},{options:en,getOptionKey:function(e){return e},triggerClass:"px-2 py-1 text-sm",renderValue:function(e){return H("span",null,tn(e))},renderOption:function(e){return H("div",{class:"px-2 py-1"},tn(e))}}))},sd=function(e){var t=e.value,n=e.onChange,o=e.options,i=void 0===o?[8,9,10,11,12,14,16,18,24,36,48,72]:o,r=Kc(),a=r.open,l=r.setOpen,s=r.rootRef,c=r.selectedItemRef;return H("div",{ref:s,class:"relative w-full"},H("input",{type:"number",min:"1",class:"w-full rounded border border-gray-300 bg-white px-2 py-1 pr-7 text-sm",value:t,onInput:function(e){var t=parseInt(e.target.value,10);Number.isFinite(t)&&t>0&&n(t)},onClick:function(){return l(!0)}}),H("button",{type:"button",class:"absolute inset-y-0 right-1 flex items-center",onClick:function(){return l((function(e){return!e}))},tabIndex:-1},H("svg",{class:"h-4 w-4 text-gray-600",viewBox:"0 0 20 20",fill:"currentColor"},H("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z","clip-rule":"evenodd"}))),a&&H("div",{class:"absolute z-10 mt-1 max-h-48 w-full overflow-y-auto rounded border bg-white shadow-lg"},i.map((function(e){var o=e===t;return H("button",{ref:o?c:null,key:e,class:"block w-full px-2 py-1 text-left text-sm hover:bg-gray-100 ".concat(o?"bg-gray-100":""),onClick:function(){n(e),l(!1)}},e)}))))},cd=function(e){var t,n,o,i,r=e.selected,a=e.activeTool,l=e.colorPresets,s=Ac().provides;if(!s)return null;var c=null==r?void 0:r.object,d=null==a?void 0:a.defaults,u=!!c,h=u?c.color:null!==(t=null==d?void 0:d.color)&&void 0!==t?t:"#FFFF00",p=u?c.opacity:null!==(n=null==d?void 0:d.opacity)&&void 0!==n?n:1,g=u?null!==(o=c.blendMode)&&void 0!==o?o:ft.Normal:null!==(i=null==d?void 0:d.blendMode)&&void 0!==i?i:ft.Normal,m=f(ke(h),2),v=m[0],y=m[1],b=f(ke(p),2),w=b[0],x=b[1],k=f(ke(g),2),C=k[0],S=k[1];Ce((function(){return y(h)}),[h]),Ce((function(){return x(p)}),[p]),Ce((function(){return S(g)}),[g]);var M=Sa(w,300);Ce((function(){return I({opacity:M})}),[M]);var P=function(e){y(e),I({color:e})};function I(e){s&&(u?s.updateAnnotation(c.pageIndex,c.id,e):a&&s.setToolDefaults(a.id,e))}return H($,null,H("section",{class:"mb-6"},H("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Color"),H("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},l.map((function(e){return H(ed,{key:e,color:e,active:e===v,onSelect:P})})))),H("section",{class:"mb-6"},H("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),H(Jc,{value:w,min:.1,max:1,step:.05,onChange:x}),H("span",{class:"text-xs text-gray-500"},Math.round(100*w),"%")),H("section",{class:"mb-6"},H("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Blend mode"),H("select",{class:"w-full rounded border border-gray-300 bg-white px-2 py-1 text-sm",value:C,onChange:function(e){return t=parseInt(e.target.value,10),S(n=t),void I({blendMode:n});var t,n}},an.map((function(e){return H("option",{key:e.value,value:e.value},e.label)})))))},dd=function(e){var t,n,o,i,r,a=e.selected,l=e.activeTool,s=e.colorPresets,c=Ac().provides;if(!c)return null;var d=null==a?void 0:a.object,u=null==l?void 0:l.defaults,h=!!d,p=h?d.color:null!==(t=null==u?void 0:u.color)&&void 0!==t?t:"#000000",g=h?d.strokeColor:null!==(n=null==u?void 0:u.strokeColor)&&void 0!==n?n:"#000000",m=h?d.opacity:null!==(o=null==u?void 0:u.opacity)&&void 0!==o?o:1,v=h?d.strokeWidth:null!==(i=null==u?void 0:u.strokeWidth)&&void 0!==i?i:2,y=h?{id:d.strokeStyle,dash:d.strokeDashArray}:{id:null!==(r=null==u?void 0:u.strokeStyle)&&void 0!==r?r:Mt.SOLID,dash:null==u?void 0:u.strokeDashArray},b=f(ke(p),2),w=b[0],x=b[1],k=f(ke(g),2),C=k[0],S=k[1],M=f(ke(m),2),P=M[0],I=M[1],T=f(ke(v),2),A=T[0],z=T[1],R=f(ke(y),2),E=R[0],_=R[1];Ce((function(){return x(p)}),[p]),Ce((function(){return S(g)}),[g]),Ce((function(){return I(m)}),[m]),Ce((function(){return z(v)}),[v]),Ce((function(){return _(y)}),[y]);var N=Sa(P,300),L=Sa(A,300);Ce((function(){return B({opacity:N})}),[N]),Ce((function(){return B({strokeWidth:L})}),[L]);var D=function(e){x(e),B({color:e})},O=function(e){S(e),B({strokeColor:e})};function B(e){c&&(h?c.updateAnnotation(d.pageIndex,d.id,e):l&&c.setToolDefaults(l.id,e))}return H($,null,H("section",{class:"mb-6"},H("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Fill color"),H("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},s.map((function(e){return H(ed,{key:e,color:e,active:e===w,onSelect:D})})),H(ed,{color:"transparent",active:"transparent"===w,onSelect:D}))),H("section",{class:"mb-6"},H("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),H(Jc,{value:P,min:.1,max:1,step:.05,onChange:I}),H("span",{class:"text-xs text-gray-500"},Math.round(100*P),"%")),H("section",{class:"mb-6"},H("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke color"),H("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},s.map((function(e){return H(ed,{key:e,color:e,active:e===C,onSelect:O})})))),H("section",{class:"mb-6"},H("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke style"),H(od,{value:E,onChange:function(e){_(e),B({strokeStyle:e.id,strokeDashArray:e.dash})}})),H("section",{class:"mb-6"},H("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Stroke width"),H(Jc,{value:A,min:1,max:30,step:1,onChange:z}),H("span",{class:"text-xs text-gray-500"},A,"px")))},ud=function(e){var t,n,o,i,r,a,l,s=e.selected,c=e.activeTool,d=e.colorPresets,u=Ac().provides;if(!u)return null;var h=null==s?void 0:s.object,p=null==c?void 0:c.defaults,g=!!h,m=g?h.color:null!==(t=null==p?void 0:p.color)&&void 0!==t?t:"#000000",v=g?h.strokeColor:null!==(n=null==p?void 0:p.strokeColor)&&void 0!==n?n:"#000000",y=g?h.opacity:null!==(o=null==p?void 0:p.opacity)&&void 0!==o?o:1,b=g?h.strokeWidth:null!==(i=null==p?void 0:p.strokeWidth)&&void 0!==i?i:2,w=g?null!==(r=h.lineEndings)&&void 0!==r?r:{start:kt.None,end:kt.None}:null!==(a=null==p?void 0:p.lineEndings)&&void 0!==a?a:{start:kt.None,end:kt.None},x=g?{id:h.strokeStyle,dash:h.strokeDashArray}:{id:null!==(l=null==p?void 0:p.strokeStyle)&&void 0!==l?l:Mt.SOLID,dash:null==p?void 0:p.strokeDashArray},k=f(ke(m),2),C=k[0],S=k[1],M=f(ke(v),2),P=M[0],I=M[1],T=f(ke(y),2),A=T[0],z=T[1],R=f(ke(b),2),E=R[0],_=R[1],N=f(ke(x),2),L=N[0],D=N[1],O=f(ke(w.start),2),B=O[0],j=O[1],F=f(ke(w.end),2),U=F[0],W=F[1];Ce((function(){return S(m)}),[m]),Ce((function(){return I(v)}),[v]),Ce((function(){return z(y)}),[y]),Ce((function(){return _(b)}),[b]),Ce((function(){return D(x)}),[x]),Ce((function(){return j(w.start)}),[w.start]),Ce((function(){return W(w.end)}),[w.end]);var q=Sa(A,300),G=Sa(E,300);Ce((function(){return Y({opacity:q})}),[q]),Ce((function(){return Y({strokeWidth:G})}),[G]);var Z=function(e){S(e),Y({color:e})},V=function(e){I(e),Y({strokeColor:e})};function Y(e){u&&(g?u.updateAnnotation(h.pageIndex,h.id,e):c&&u.setToolDefaults(c.id,e))}return H($,null,H("section",{class:"mb-6"},H("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke color"),H("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},d.map((function(e){return H(ed,{key:e,color:e,active:e===P,onSelect:V})})),H(ed,{color:"transparent",active:"transparent"===P,onSelect:V}))),H("section",{class:"mb-6"},H("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),H(Jc,{value:A,min:.1,max:1,step:.05,onChange:z}),H("span",{class:"text-xs text-gray-500"},Math.round(100*A),"%")),H("section",{class:"mb-6"},H("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke style"),H(od,{value:L,onChange:function(e){D(e),Y({strokeStyle:e.id,strokeDashArray:e.dash})}})),H("section",{class:"mb-6"},H("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Stroke width"),H(Jc,{value:E,min:1,max:10,step:1,onChange:_}),H("span",{class:"text-xs text-gray-500"},E)),H("section",{class:"mb-6"},H("div",{class:"grid grid-cols-2 gap-4"},H("div",null,H("label",{class:"mb-3 block text-sm font-medium text-gray-900 dark:text-gray-200"},"Line start"),H(ad,{value:B,onChange:function(e){j(e),Y({lineEndings:{start:e,end:U}})},position:"start"})),H("div",null,H("label",{class:"mb-3 block text-sm font-medium text-gray-900 dark:text-gray-200"},"Line end"),H(ad,{value:U,onChange:function(e){W(e),Y({lineEndings:{start:B,end:e}})},position:"end"})))),H("section",{class:"mb-6"},H("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Fill color"),H("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},d.map((function(e){return H(ed,{key:e,color:e,active:e===C,onSelect:Z})})),H(ed,{color:"transparent",active:"transparent"===C,onSelect:Z}))))},hd=(l(l(l(l(l(l(l(l(l(l(Yc={},bt.INK,{component:function(e){var t,n,o,i,r,a,l=e.selected,s=e.activeTool,c=e.colorPresets,d=Ac().provides;if(!d)return null;var u=null==l?void 0:l.object,h=null==s?void 0:s.defaults,p=null!==(t=null!==(n=null==u?void 0:u.color)&&void 0!==n?n:null==h?void 0:h.color)&&void 0!==t?t:"#000000",g=null!==(o=null!==(i=null==u?void 0:u.opacity)&&void 0!==i?i:null==h?void 0:h.opacity)&&void 0!==o?o:1,m=null!==(r=null!==(a=null==u?void 0:u.strokeWidth)&&void 0!==a?a:null==h?void 0:h.strokeWidth)&&void 0!==r?r:2,v=f(ke(p),2),y=v[0],b=v[1],w=f(ke(g),2),x=w[0],k=w[1],C=f(ke(m),2),S=C[0],M=C[1];Ce((function(){return b(p)}),[p]),Ce((function(){return k(g)}),[g]),Ce((function(){return M(m)}),[m]);var P=Sa(x,300),I=Sa(S,300);Ce((function(){return A({opacity:P})}),[P]),Ce((function(){return A({strokeWidth:I})}),[I]);var T=function(e){b(e),A({color:e})};function A(e){d&&(u?d.updateAnnotation(u.pageIndex,u.id,e):s&&d.setToolDefaults(s.id,e))}return H($,null,H("section",{class:"mb-6"},H("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Color"),H("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},c.map((function(e){return H(ed,{key:e,color:e,active:e===y,onSelect:T})})))),H("section",{class:"mb-6"},H("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),H(Jc,{value:x,min:.1,max:1,step:.05,onChange:k}),H("span",{class:"text-xs text-gray-500"},Math.round(100*x),"%")),H("section",{class:"mb-6"},H("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Stroke width"),H(Jc,{value:S,min:1,max:30,step:1,onChange:M}),H("span",{class:"text-xs text-gray-500"},S,"px")))},title:"Ink"}),bt.POLYGON,{component:function(e){var t,n,o,i,r,a=e.selected,l=e.activeTool,s=e.colorPresets,c=Ac().provides;if(!c)return null;var d=null==a?void 0:a.object,u=null==l?void 0:l.defaults,h=!!d,p=h?d.color:null!==(t=null==u?void 0:u.color)&&void 0!==t?t:"#000000",g=h?d.strokeColor:null!==(n=null==u?void 0:u.strokeColor)&&void 0!==n?n:"#000000",m=h?d.opacity:null!==(o=null==u?void 0:u.opacity)&&void 0!==o?o:1,v=h?d.strokeWidth:null!==(i=null==u?void 0:u.strokeWidth)&&void 0!==i?i:2,y=h?{id:d.strokeStyle,dash:d.strokeDashArray}:{id:null!==(r=null==u?void 0:u.strokeStyle)&&void 0!==r?r:Mt.SOLID,dash:null==u?void 0:u.strokeDashArray},b=f(ke(p),2),w=b[0],x=b[1],k=f(ke(g),2),C=k[0],S=k[1],M=f(ke(m),2),P=M[0],I=M[1],T=f(ke(v),2),A=T[0],z=T[1],R=f(ke(y),2),E=R[0],_=R[1];Ce((function(){return x(p)}),[p]),Ce((function(){return S(g)}),[g]),Ce((function(){return I(m)}),[m]),Ce((function(){return z(v)}),[v]),Ce((function(){return _(y)}),[y]);var N=Sa(P,300),L=Sa(A,300);Ce((function(){return B({opacity:N})}),[N]),Ce((function(){return B({strokeWidth:L})}),[L]);var D=function(e){x(e),B({color:e})},O=function(e){S(e),B({strokeColor:e})};function B(e){c&&(h?c.updateAnnotation(d.pageIndex,d.id,e):l&&c.setToolDefaults(l.id,e))}return H($,null,H("section",{class:"mb-6"},H("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke color"),H("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},s.map((function(e){return H(ed,{key:e,color:e,active:e===C,onSelect:O})})),H(ed,{color:"transparent",active:"transparent"===C,onSelect:O}))),H("section",{class:"mb-6"},H("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),H(Jc,{value:P,min:.1,max:1,step:.05,onChange:I}),H("span",{class:"text-xs text-gray-500"},Math.round(100*P),"%")),H("section",{class:"mb-6"},H("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke style"),H(od,{value:E,onChange:function(e){_(e),B({strokeStyle:e.id,strokeDashArray:e.dash})}})),H("section",{class:"mb-6"},H("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Stroke width"),H(Jc,{value:A,min:1,max:10,step:1,onChange:z}),H("span",{class:"text-xs text-gray-500"},A)),H("section",{class:"mb-6"},H("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Fill color"),H("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},s.map((function(e){return H(ed,{key:e,color:e,active:e===w,onSelect:D})})),H(ed,{color:"transparent",active:"transparent"===w,onSelect:D}))))},title:"Polygon"}),bt.SQUARE,{component:dd,title:"Square"}),bt.CIRCLE,{component:dd,title:"Circle"}),bt.LINE,{component:ud,title:function(e){var t;return"lineArrow"===(null===(t=e.activeTool)||void 0===t?void 0:t.id)?"Arrow":"Line"}}),bt.POLYLINE,{component:ud,title:"Polyline"}),bt.HIGHLIGHT,{component:cd,title:"Highlight"}),bt.UNDERLINE,{component:cd,title:"Underline"}),bt.STRIKEOUT,{component:cd,title:"Strikeout"}),bt.SQUIGGLY,{component:cd,title:"Squiggly"}),l(l(Yc,bt.FREETEXT,{component:function(e){var t,n,o,i,r,a,l,s=e.selected,c=e.activeTool,d=e.colorPresets,u=Ac().provides;if(!u)return null;var h=null==s?void 0:s.object,p=null==c?void 0:c.defaults,g=!!h,m=g?h.fontFamily:null!==(t=null==p?void 0:p.fontFamily)&&void 0!==t?t:pt.Helvetica,v=Xt(m).family,y=Kt(m),b=Qt(m),w=g?h.fontColor:null!==(n=null==p?void 0:p.fontColor)&&void 0!==n?n:"#000000",x=g?h.opacity:null!==(o=null==p?void 0:p.opacity)&&void 0!==o?o:1,k=g?h.backgroundColor:null!==(i=null==p?void 0:p.backgroundColor)&&void 0!==i?i:"#000000",C=g?h.fontSize:null!==(r=null==p?void 0:p.fontSize)&&void 0!==r?r:12,S=g?h.textAlign:null!==(a=null==p?void 0:p.textAlign)&&void 0!==a?a:gt.Left,M=g?h.verticalAlign:null!==(l=null==p?void 0:p.verticalAlign)&&void 0!==l?l:mt.Top,P=f(ke(v),2),I=P[0],T=P[1],A=f(ke(C),2),z=A[0],R=A[1],E=f(ke(y),2),_=E[0],N=E[1],L=f(ke(b),2),D=L[0],O=L[1],B=f(ke(S),2),j=B[0],F=B[1],U=f(ke(M),2),W=U[0],q=U[1],G=f(ke(w),2),Z=G[0],V=G[1],Y=f(ke(x),2),X=Y[0],K=Y[1],Q=f(ke(k),2),J=Q[0],ee=Q[1];function te(e){u&&(g?u.updateAnnotation(h.pageIndex,h.id,e):c&&u.setToolDefaults(c.id,e))}Ce((function(){T(v),N(y),O(b)}),[v,y,b]),Ce((function(){return V(w)}),[w]),Ce((function(){return K(x)}),[x]),Ce((function(){return ee(k)}),[k]),Ce((function(){return R(C)}),[C]),Ce((function(){return F(S)}),[S]),Ce((function(){return q(M)}),[M]);var ne=Sa(X,300),oe=Sa(J,300);Ce((function(){return te({opacity:ne})}),[ne]),Ce((function(){return te({backgroundColor:oe})}),[oe]);var ie=function(e){V(e),te({fontColor:e})},re=function(e){ee(e),te({backgroundColor:e})},ae=function(e,t,n){te({fontFamily:Jt(e,{bold:t,italic:n})})},le=function(e){F(e),te({textAlign:e})},se=function(e){q(e),te({verticalAlign:e})};return H($,null,H("section",{class:"mb-6"},H("label",{class:"mb-2 block text-sm font-medium text-gray-900"},"Font"),H("div",{class:"mb-3 flex gap-2"},H(ld,{value:I,onChange:function(e){var t=Kt(Jt(e,{bold:!0,italic:!1})),n=Qt(Jt(e,{bold:!1,italic:!0})),o=!!t&&_,i=!!n&&D;T(e),N(o),O(i),ae(e,o,i)}}),H("div",{class:"w-36"},H(sd,{value:z,onChange:function(e){!Number.isFinite(e)||e<=0||(R(e),te({fontSize:e}))}}))),H("div",{class:"flex gap-2"},H("button",{type:"button",title:"Bold",disabled:!Kt(Jt(I,{bold:!0,italic:!1})),onClick:function(){if(Kt(Jt(I,{bold:!0,italic:!1}))){var e=!_;N(e),ae(I,e,D)}},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm font-bold ".concat(_?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},H(Xr,{icon:"bold",size:18})),H("button",{type:"button",title:"Italic",disabled:!Qt(Jt(I,{bold:!1,italic:!0})),onClick:function(){if(Qt(Jt(I,{bold:!1,italic:!0}))){var e=!D;O(e),ae(I,_,e)}},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm italic ".concat(D?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},H(Xr,{icon:"italic",size:18})))),H("section",{class:"mb-6"},H("label",{class:"mb-2 block text-sm font-medium text-gray-900"},"Text alignment"),H("div",{class:"flex gap-2"},H("button",{type:"button",title:"Align left",onClick:function(){return le(gt.Left)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(j===gt.Left?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},H(Xr,{icon:"alignLeft",size:18})),H("button",{type:"button",title:"Align center",onClick:function(){return le(gt.Center)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(j===gt.Center?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},H(Xr,{icon:"alignCenter",size:18})),H("button",{type:"button",title:"Align right",onClick:function(){return le(gt.Right)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(j===gt.Right?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},H(Xr,{icon:"alignRight",size:18})))),H("section",{class:"mb-6"},H("label",{class:"mb-2 block text-sm font-medium text-gray-900"},"Vertical alignment"),H("div",{class:"flex gap-2"},H("button",{type:"button",title:"Align top",onClick:function(){return se(mt.Top)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(W===mt.Top?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},H(Xr,{icon:"alignTop",size:18})),H("button",{type:"button",title:"Align middle",onClick:function(){return se(mt.Middle)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(W===mt.Middle?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},H(Xr,{icon:"alignMiddle",size:18})),H("button",{type:"button",title:"Align bottom",onClick:function(){return se(mt.Bottom)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(W===mt.Bottom?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},H(Xr,{icon:"alignBottom",size:18})))),H("section",{class:"mb-6"},H("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Font colour"),H("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},d.map((function(e){return H(ed,{key:e,color:e,active:e===Z,onSelect:ie})})))),H("section",{class:"mb-6"},H("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Background colour"),H("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},d.map((function(e){return H(ed,{key:e,color:e,active:e===J,onSelect:re})})),H(ed,{color:"transparent",active:"transparent"===J,onSelect:re}))),H("section",{class:"mb-6"},H("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),H(Jc,{value:X,min:.1,max:1,step:.05,onChange:K}),H("span",{class:"text-xs text-gray-500"},Math.round(100*X),"%")))},title:"Free text"}),bt.STAMP,{component:function(e){return H("div",{className:"text-sm text-gray-500"},"There are no styles for stamps.")},title:"Stamp"})),pd=function(){return H("div",{class:"flex flex-col items-center gap-2 p-4 text-gray-500"},H(Xr,{icon:"palette",className:"h-18 w-18 text-gray-500"}),H("div",{className:"max-w-[150px] text-center text-sm text-gray-500"},"Select an annotation to see styles"))};function gd(e){var t=e.selectedAnnotation,n=e.activeToolId,o=e.colorPresets,i=Ac().provides;if(!i)return null;var r=null,a=null;if(t)r=i.findToolForAnnotation(t.object),a=t.object.type;else if(n){var l,s,c;a=null!==(s=null===(c=r=null!==(l=i.getTool(n))&&void 0!==l?l:null)||void 0===c?void 0:c.defaults.type)&&void 0!==s?s:null}if(null===a)return De(pd,{});var d=hd[a];if(!d)return De(pd,{});var u=d.component,p=d.title,g={selected:t,activeTool:r,colorPresets:o},m="function"==typeof p?p(g):p;return De("div",{class:"h-full overflow-y-auto p-4",children:[m&&De("h2",{class:"text-md mb-4 font-medium",children:[m," ",t?"styles":"defaults"]}),De(u,h({},g))]})}const md=class extends Ln{constructor(e,t){super(e,t),this.refreshPages$=Fn(),this.withForms=!1,this.withAnnotations=!1,this.coreStore.onAction(wn,(e=>{this.refreshPages$.emit(e.payload)}))}async initialize(e){this.withForms=e.withForms??!1,this.withAnnotations=e.withAnnotations??!1}buildCapability(){return{renderPage:this.renderPage.bind(this),renderPageRect:this.renderPageRect.bind(this)}}onRefreshPages(e){return this.refreshPages$.on(e)}renderPage({pageIndex:e,options:t}){const n=this.coreState.core;if(!n.document)throw new Error("document does not open");const o=n.document.pages.find((t=>t.index===e));if(!o)throw new Error("page does not exist");const i={...t??{},withForms:(null==t?void 0:t.withForms)??this.withForms,withAnnotations:(null==t?void 0:t.withAnnotations)??this.withAnnotations};return this.engine.renderPage(n.document,o,i)}renderPageRect({pageIndex:e,rect:t,options:n}){const o=this.coreState.core;if(!o.document)throw new Error("document does not open");const i=o.document.pages.find((t=>t.index===e));if(!i)throw new Error("page does not exist");const r={...n??{},withForms:(null==n?void 0:n.withForms)??this.withForms,withAnnotations:(null==n?void 0:n.withAnnotations)??this.withAnnotations};return this.engine.renderPageRect(o.document,i,t,r)}};md.id="render";let fd=md;const vd="render",yd={manifest:{id:vd,name:"Render Plugin",version:"1.0.0",provides:["render"],requires:[],optional:[],defaultConfig:{enabled:!0}},create:e=>new fd(vd,e),reducer:()=>{},initialState:{}};function bd({pageIndex:e,scale:t,scaleFactor:n,dpr:o,style:i,...r}){const{provides:a}=Kn(fd.id),{plugin:l}=Xn(fd.id),s=t??n??1,[c,d]=ke(null),u=Me(null),[h,p]=ke(0);Ce((()=>{if(l)return l.onRefreshPages((t=>{t.includes(e)&&p((e=>e+1))}))}),[l]),Ce((()=>{if(a){const t=a.renderPage({pageIndex:e,options:{scaleFactor:s,dpr:o||window.devicePixelRatio}});return t.wait((e=>{const t=URL.createObjectURL(e);d(t),u.current=t}),un),()=>{u.current?(URL.revokeObjectURL(u.current),u.current=null):t.abort({code:_t.Cancelled,message:"canceled render task"})}}}),[e,s,o,a,h]);return De($,{children:c&&De("img",{src:c,onLoad:()=>{u.current&&(URL.revokeObjectURL(u.current),u.current=null)},...r,style:{width:"100%",height:"100%",...i||{}}})})}const wd="rotate",xd={id:wd,name:"Rotate Plugin",version:"1.0.0",provides:["rotate"],requires:["loader"],optional:["spread"],defaultConfig:{enabled:!0}};const kd=class extends Ln{constructor(e,t,n){super(e,t),this.rotate$=Un(),this.resetReady();const o=n.defaultRotation??this.coreState.core.rotation;this.setRotation(o),this.markReady()}async initialize(e){}setRotation(e){if(!this.coreState.core.pages)throw new Error("Pages not loaded");this.rotate$.emit(e),this.dispatchCoreAction((e=>({type:Sn,payload:e}))(e))}rotateForward(){const e=(this.coreState.core.rotation+1)%4;this.setRotation(e)}rotateBackward(){const e=(this.coreState.core.rotation+3)%4;this.setRotation(e)}buildCapability(){return{onRotateChange:this.rotate$.on,setRotation:e=>this.setRotation(e),getRotation:()=>this.coreState.core.rotation,rotateForward:()=>this.rotateForward(),rotateBackward:()=>this.rotateBackward()}}getMatrixAsString(e={w:0,h:0}){return function(e,t,n){const[o,i,r,a,l,s]=function(e,t,n){let o=1,i=0,r=0,a=1,l=0,s=0;switch(e){case 1:o=0,i=1,r=-1,a=0,l=n;break;case 2:o=-1,i=0,r=0,a=-1,l=t,s=n;break;case 3:o=0,i=-1,r=1,a=0,s=t}return[o,i,r,a,l,s]}(e,t,n);return`matrix(${o},${i},${r},${a},${l},${s})`}(this.coreState.core.rotation,e.w,e.h)}async destroy(){this.rotate$.clear(),super.destroy()}};kd.id="rotate";let Cd=kd;const Sd={manifest:xd,create:(e,t)=>new Cd(wd,e,t),reducer:()=>{},initialState:{}};function Md({children:e,pageSize:t,style:n,...o}){const{plugin:i}=Xn(Cd.id);return De("div",{...o,style:{position:"absolute",transformOrigin:"0 0",transform:(null==i?void 0:i.getMatrixAsString({w:t.width,h:t.height}))||"matrix(1, 0, 0, 1, 0, 0)",...n},children:e})}const Pd="tiling",Id={id:Pd,name:"Tiling Plugin",version:"1.0.0",provides:["tiling"],requires:["render","scroll","viewport"],optional:[],defaultConfig:{enabled:!0,tileSize:768,overlapPx:2.5,extraRings:0}},Td="UPDATE_VISIBLE_TILES",Ad="MARK_TILE_STATUS",zd=e=>({type:Td,payload:e}),Rd=(e,t,n)=>({type:Ad,payload:{pageIndex:e,tileId:t,status:n}});function Ed({tileSize:e=768,overlapPx:t=2.5,extraRings:n=0,scale:o,rotation:i,page:r,metric:a}){const l=r.size.width*o,s=r.size.height*o,c=e-t,d=function(e,t,n,o){return Xe(Ye(e,t,(4-n)%4),1/o)}(Fe(r.size,i,o),{origin:{x:a.scaled.pageX,y:a.scaled.pageY},size:{width:a.scaled.visibleWidth,height:a.scaled.visibleHeight}},i,1),u=d.origin.x,h=d.origin.y,p=u+d.size.width,g=h+d.size.height,m=Math.floor((l-1)/c),f=Math.floor((s-1)/c),v=Math.max(0,Math.floor(u/c)-n),y=Math.min(m,Math.floor((p-1)/c)+n),b=Math.max(0,Math.floor(h/c)-n),w=Math.min(f,Math.floor((g-1)/c)+n),x=[];for(let t=v;t<=y;t++){const n=t*c,i=Math.min(e,l-n),a=n/o,d=i/o;for(let l=b;l<=w;l++){const u=l*c,h=Math.min(e,s-u),p=u/o,g=h/o;x.push({id:`p${r.index}-${o}-x${n}-y${u}-w${i}-h${h}`,col:t,row:l,pageRect:{origin:{x:a,y:p},size:{width:d,height:g}},screenRect:{origin:{x:n,y:u},size:{width:i,height:h}},status:"queued",srcScale:o,isFallback:!1})}}return x}const _d=class extends Ln{constructor(e,t,n){super(e,t),this.tileRendering$=Un(),this.config=n,this.renderCapability=this.registry.getPlugin("render").provides(),this.scrollCapability=this.registry.getPlugin("scroll").provides(),this.viewportCapability=this.registry.getPlugin("viewport").provides(),this.scrollCapability.onScroll((e=>this.calculateVisibleTiles(e)),{mode:"throttle",wait:50,throttleMode:"trailing"}),this.coreStore.onAction(wn,(e=>this.recalculateTiles(e.payload)))}async recalculateTiles(e){var t;const n=this.scrollCapability.getMetrics(this.viewportCapability.getMetrics()),o={},i=Date.now();for(const r of e){const e=n.pageVisibilityMetrics.find((e=>e.pageNumber===r+1));if(!e)continue;const a=null==(t=this.coreState.core.document)?void 0:t.pages[r];a&&(o[r]=Ed({page:a,metric:e,scale:this.coreState.core.scale,rotation:this.coreState.core.rotation,tileSize:this.config.tileSize,overlapPx:this.config.overlapPx,extraRings:this.config.extraRings}).map((e=>({...e,id:`${e.id}-r${i}`}))))}Object.keys(o).length>0&&this.dispatch(zd(o))}async initialize(){}onCoreStoreUpdated(e,t){e.core.scale!==t.core.scale&&this.calculateVisibleTiles(this.scrollCapability.getMetrics(this.viewportCapability.getMetrics()))}calculateVisibleTiles(e){var t;if(!this.config.enabled)return void this.dispatch(zd([]));const n=this.coreState.core.scale,o=this.coreState.core.rotation,i={};for(const r of e.pageVisibilityMetrics){const e=r.pageNumber-1,a=null==(t=this.coreState.core.document)?void 0:t.pages[e];if(!a)continue;const l=Ed({page:a,metric:r,scale:n,rotation:o,tileSize:this.config.tileSize,overlapPx:this.config.overlapPx,extraRings:this.config.extraRings});i[e]=l}this.dispatch(zd(i))}onStoreUpdated(e,t){this.tileRendering$.emit(t.visibleTiles)}buildCapability(){return{renderTile:this.renderTile.bind(this),onTileRendering:this.tileRendering$.on}}renderTile(e){if(!this.renderCapability)throw new Error("Render capability not available.");this.dispatch(Rd(e.pageIndex,e.tile.id,"rendering"));const t=this.renderCapability.renderPageRect({pageIndex:e.pageIndex,rect:e.tile.pageRect,options:{scaleFactor:e.tile.srcScale,dpr:e.dpr}});return t.wait((()=>{this.dispatch(Rd(e.pageIndex,e.tile.id,"ready"))}),un),t}};_d.id="tiling";let Nd=_d;const Ld={manifest:Id,create:(e,t)=>new Nd(Pd,e,t),reducer:(e,t)=>((e,t)=>{var n,o;switch(t.type){case Td:{const o=t.payload,i={...e.visibleTiles};for(const e in o){const t=Number(e),r=o[t],a=i[t]??[],l=null==(n=a.find((e=>!e.isFallback)))?void 0:n.srcScale,s=r[0].srcScale;if(void 0!==l&&l!==s){const e=a.filter((e=>!e.isFallback&&"ready"===e.status)).map((e=>({...e,isFallback:!0}))),n=e.length>0?[]:a.filter((e=>e.isFallback));i[t]=[...n,...e,...r]}else{const e=new Set(r.map((e=>e.id))),n=[],o=new Set;for(const t of a)(t.isFallback||e.has(t.id))&&(n.push(t),o.add(t.id));for(const e of r)o.has(e.id)||n.push(e);i[t]=n}}return{...e,visibleTiles:i}}case Ad:{const{pageIndex:n,tileId:i,status:r}=t.payload,a=(null==(o=e.visibleTiles[n])?void 0:o.map((e=>e.id===i?{...e,status:r}:e)))??[],l=a.filter((e=>!e.isFallback)),s=l.every((e=>"ready"===e.status)),c=s?l:a;return{...e,visibleTiles:{...e.visibleTiles,[n]:c}}}default:return e}})(e,t),initialState:{visibleTiles:{}}},Dd=()=>Kn(Nd.id);function Od({pageIndex:e,tile:t,dpr:n,scale:o}){const{provides:i}=Dd(),[r,a]=ke(),l=Me(null),s=o/t.srcScale;Ce((()=>{if("ready"===t.status&&l.current)return;if(!i)return;const o=i.renderTile({pageIndex:e,tile:t,dpr:n});return o.wait((e=>{const t=URL.createObjectURL(e);l.current=t,a(t)}),un),()=>{l.current?(URL.revokeObjectURL(l.current),l.current=null):o.abort({code:_t.Cancelled,message:"canceled render task"})}}),[e,t.id]);return r?De("img",{src:r,onLoad:()=>{l.current&&(URL.revokeObjectURL(l.current),l.current=null)},style:{position:"absolute",left:t.screenRect.origin.x*s,top:t.screenRect.origin.y*s,width:t.screenRect.size.width*s,height:t.screenRect.size.height*s,display:"block"}}):null}function Bd({pageIndex:e,scale:t,style:n,...o}){const{provides:i}=Dd(),[r,a]=ke([]);return Ce((()=>{if(i)return i.onTileRendering((t=>a(t[e])))}),[i]),De("div",{style:{...n},...o,children:null==r?void 0:r.map((n=>De(Od,{pageIndex:e,tile:n,dpr:window.devicePixelRatio,scale:t},n.id)))})}function Hd(e){var t=e.size,n=void 0===t?"md":t,o=e.className,i=void 0===o?"":o,r=e.text,a=void 0===r?"Loading...":r,l={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return H("div",{className:"flex flex-col items-center justify-center gap-3 ".concat(i)},H("div",{className:"relative"},H("div",{className:"".concat(l[n]," animate-spin rounded-full border-4 border-gray-200")}),H("div",{className:"".concat(l[n]," absolute left-0 top-0 animate-spin rounded-full border-4 border-transparent border-r-blue-500 border-t-blue-500")})),a&&H("p",{className:"".concat({sm:"text-sm",md:"text-base",lg:"text-lg"}[n]," animate-pulse font-medium text-gray-600")},a))}const jd="fullscreen",$d={id:jd,name:"Fullscreen Plugin",version:"1.0.0",provides:["fullscreen"],requires:[],optional:[],defaultConfig:{enabled:!0}},Fd="SET_FULLSCREEN";const Ud=class extends Ln{constructor(e,t){super(e,t),this.onStateChange$=Un(),this.fullscreenRequest$=Fn()}async initialize(e){}buildCapability(){return{isFullscreen:()=>this.state.isFullscreen,enableFullscreen:()=>this.enableFullscreen(),exitFullscreen:()=>this.exitFullscreen(),toggleFullscreen:()=>this.toggleFullscreen(),onRequest:this.fullscreenRequest$.on,onStateChange:this.onStateChange$.on}}toggleFullscreen(){this.state.isFullscreen?this.exitFullscreen():this.enableFullscreen()}enableFullscreen(){this.fullscreenRequest$.emit("enter")}exitFullscreen(){this.fullscreenRequest$.emit("exit")}onStoreUpdated(e,t){this.onStateChange$.emit(t)}setFullscreenState(e){this.dispatch({type:Fd,payload:e})}async destroy(){this.fullscreenRequest$.clear(),super.destroy()}};Ud.id="fullscreen";let Wd=Ud;const qd=qn({manifest:$d,create:e=>new Wd(jd,e),reducer:(e,t)=>t.type===Fd?{...e,isFullscreen:t.payload}:e,initialState:{isFullscreen:!1}}).addWrapper((function({children:e,...t}){const{provides:n}=Kn(Wd.id),{plugin:o}=Xn(Wd.id),i=Me(null);return Ce((()=>{if(!n)return;return n.onRequest((async e=>{if("enter"===e){const e=i.current;e&&!document.fullscreenElement&&await e.requestFullscreen()}else document.fullscreenElement&&await document.exitFullscreen()}))}),[n]),Ce((()=>{if(!o)return;const e=()=>o.setFullscreenState(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)}),[o]),De("div",{...t,style:{position:"relative",width:"100%",height:"100%",...t.style},ref:i,children:e})})).build(),Gd=class extends Ln{constructor(e,t,n){super(e,t),this.downloadRequest$=Fn(),this.config=n}async initialize(e){}buildCapability(){return{saveAsCopy:this.saveAsCopy.bind(this),download:this.download.bind(this)}}onRequest(e){return this.downloadRequest$.on(e)}download(){this.downloadRequest$.emit("download")}saveAsCopyAndGetBufferAndName(){const e=new lt,t=this.coreState.core.document;return t?(this.saveAsCopy().wait((n=>{e.resolve({buffer:n,name:t.name??this.config.defaultFileName})}),e.fail),e):Nt.reject({code:_t.DocNotOpen,message:"Document not found"})}saveAsCopy(){const e=this.coreState.core.document;return e?this.engine.saveAsCopy(e):Nt.reject({code:_t.DocNotOpen,message:"Document not found"})}};Gd.id="export";let Zd=Gd;const Vd="export";const Yd=qn({manifest:{id:Vd,name:"Export Plugin",version:"1.0.0",provides:["export"],requires:[],optional:[],defaultConfig:{enabled:!0,defaultFileName:"document.pdf"}},create:(e,t)=>new Zd(Vd,e,t),reducer:()=>{},initialState:{}}).addUtility((function(e){const{provides:t}=Kn(Zd.id),{plugin:n}=Xn(Zd.id),o=Me(null);return Ce((()=>{if(!t)return;if(!n)return;return n.onRequest((t=>{if("download"===t){const t=o.current;if(!t)return;n.saveAsCopyAndGetBufferAndName().wait((({buffer:n,name:o})=>{const i=URL.createObjectURL(new Blob([n]));t.href=i,t.download=e.fileName??o,t.click(),URL.revokeObjectURL(i)}),un)}}))}),[t,n]),De("a",{style:{display:"none"},ref:o})})).build(),Xd=class extends Ln{constructor(e,t,n){var o,i;super(e,t),this.panMode$=Un(),this.config=n,this.interactionManager=null==(o=t.getPlugin(dc.id))?void 0:o.provides(),this.viewport=null==(i=t.getPlugin(co.id))?void 0:i.provides(),this.interactionManager&&(this.interactionManager.registerMode({id:"panMode",scope:"global",exclusive:!1,cursor:"grab",wantsRawTouch:!1}),this.unsubscribePanModeChange=this.interactionManager.onStateChange((e=>{"panMode"===e.activeMode?this.panMode$.emit(!0):this.panMode$.emit(!1)})),this.registerPanHandlers()),"always"===n.defaultMode&&this.makePanDefault(!0)}async initialize(e){}async destroy(){var e,t;null==(e=this.unregisterHandlers)||e.call(this),null==(t=this.unsubscribePanModeChange)||t.call(this),await super.destroy()}registerPanHandlers(){let e=null;const t={onMouseDown:(t,n)=>{const o=this.viewport.getMetrics();e={startX:n.clientX,startY:n.clientY,startLeft:o.scrollLeft,startTop:o.scrollTop},this.interactionManager.setCursor("panMode","grabbing",10)},onMouseMove:(t,n)=>{if(!e)return;const o=n.clientX-e.startX,i=n.clientY-e.startY;this.viewport.scrollTo({x:e.startLeft-o,y:e.startTop-i})},onMouseUp:()=>{e&&(e=null,this.interactionManager.removeCursor("panMode"))},onMouseLeave:()=>{e&&(e=null,this.interactionManager.removeCursor("panMode"))},onMouseCancel:()=>{e&&(e=null,this.interactionManager.removeCursor("panMode"))}};this.unregisterHandlers=this.interactionManager.registerHandlers({modeId:"panMode",handlers:t})}makePanDefault(e=!0){this.interactionManager&&(this.interactionManager.setDefaultMode("panMode"),e&&this.interactionManager.activateDefaultMode())}buildCapability(){return{onPanModeChange:this.panMode$.on,makePanDefault:(e=!0)=>this.makePanDefault(e),enablePan:()=>{var e;return null==(e=this.interactionManager)?void 0:e.activate("panMode")},disablePan:()=>{var e;return null==(e=this.interactionManager)?void 0:e.activateDefaultMode()},togglePan:()=>{var e,t,n;"panMode"===(null==(e=this.interactionManager)?void 0:e.getActiveMode())?null==(t=this.interactionManager)||t.activateDefaultMode():null==(n=this.interactionManager)||n.activate("panMode")}}}};Xd.id="pan";let Kd=Xd;const Qd=qn({manifest:{id:"pan",name:"Pan Plugin",version:"1.0.0",provides:["pan"],requires:["interaction-manager","viewport"],optional:[],defaultConfig:{enabled:!0,defaultMode:"mobile"}},create:(e,t)=>new Kd("pan",e,t),reducer:()=>{},initialState:{}}).addUtility((()=>{const{provides:e}=Kn(Kd.id),{plugin:t}=Xn(Kd.id);return Ce((()=>{var n;if(!e||!t)return;const o=(null==(n=t.config)?void 0:n.defaultMode)??"never",i="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0);"mobile"===o&&i&&e.makePanDefault()}),[e,t]),null})).build(),Jd="capture",eu={id:Jd,name:"Capture Plugin",version:"1.0.0",provides:["capture"],requires:["render"],optional:["interaction-manager"],defaultConfig:{enabled:!0,scale:1,imageType:"image/png",withAnnotations:!1}};const tu=class extends Ln{constructor(e,t,n){var o;super(e,t),this.captureArea$=Fn(),this.marqueeCaptureActive$=Un(),this.config=n,this.renderCapability=this.registry.getPlugin("render").provides(),this.interactionManagerCapability=null==(o=this.registry.getPlugin("interaction-manager"))?void 0:o.provides(),this.interactionManagerCapability&&(this.interactionManagerCapability.registerMode({id:"marqueeCapture",scope:"page",exclusive:!0,cursor:"crosshair"}),this.interactionManagerCapability.onModeChange((e=>{"marqueeCapture"===e.activeMode?this.marqueeCaptureActive$.emit(!0):this.marqueeCaptureActive$.emit(!1)})))}async initialize(e){}buildCapability(){return{onCaptureArea:this.captureArea$.on,onMarqueeCaptureActiveChange:this.marqueeCaptureActive$.on,captureArea:this.captureArea.bind(this),enableMarqueeCapture:this.enableMarqueeCapture.bind(this),disableMarqueeCapture:this.disableMarqueeCapture.bind(this),toggleMarqueeCapture:this.toggleMarqueeCapture.bind(this),isMarqueeCaptureActive:()=>{var e;return"marqueeCapture"===(null==(e=this.interactionManagerCapability)?void 0:e.getActiveMode())},registerMarqueeOnPage:e=>this.registerMarqueeOnPage(e)}}registerMarqueeOnPage(e){if(!this.interactionManagerCapability)return this.logger.warn("CapturePlugin","MissingDependency","Interaction manager plugin not loaded, marquee capture disabled"),()=>{};const t=this.coreState.core.document;if(!t)return this.logger.warn("CapturePlugin","DocumentNotFound","Document not found"),()=>{};const n=t.pages[e.pageIndex];if(!n)return this.logger.warn("CapturePlugin","PageNotFound",`Page ${e.pageIndex} not found`),()=>{};const o=function(e){const{pageSize:t,scale:n,minDragPx:o=5,onPreview:i,onCommit:r}=e;let a=null,l=null;return{onPointerDown:(e,t)=>{var n;a=e,l={origin:{x:e.x,y:e.y},size:{width:0,height:0}},null==i||i(l),null==(n=t.setPointerCapture)||n.call(t)},onPointerMove:e=>{if(!a)return;const n=On(e.x,0,t.width),o=On(e.y,0,t.height);l={origin:{x:Math.min(a.x,n),y:Math.min(a.y,o)},size:{width:Math.abs(n-a.x),height:Math.abs(o-a.y)}},null==i||i(l)},onPointerUp:(e,t)=>{var s;l&&Math.max(l.size.width,l.size.height)*n>o&&(null==r||r(l)),a=null,l=null,null==i||i(null),null==(s=t.releasePointerCapture)||s.call(t)},onPointerCancel:(e,t)=>{var n;a=null,l=null,null==i||i(null),null==(n=t.releasePointerCapture)||n.call(t)}}}({pageSize:n.size,scale:e.scale,onPreview:e.callback.onPreview,onCommit:t=>{var n,o;this.captureArea(e.pageIndex,t),null==(o=(n=e.callback).onCommit)||o.call(n,t)}});return this.interactionManagerCapability.registerHandlers({modeId:"marqueeCapture",handlers:o,pageIndex:e.pageIndex})}captureArea(e,t){this.disableMarqueeCapture();this.renderCapability.renderPageRect({pageIndex:e,rect:t,options:{imageType:this.config.imageType,scaleFactor:this.config.scale,withAnnotations:this.config.withAnnotations||!1}}).wait((n=>{this.captureArea$.emit({pageIndex:e,rect:t,blob:n,imageType:this.config.imageType||"image/png",scale:this.config.scale||1,withAnnotations:this.config.withAnnotations||!1})}),un)}enableMarqueeCapture(){var e;null==(e=this.interactionManagerCapability)||e.activate("marqueeCapture")}disableMarqueeCapture(){var e;null==(e=this.interactionManagerCapability)||e.activateDefaultMode()}toggleMarqueeCapture(){var e,t,n;"marqueeCapture"===(null==(e=this.interactionManagerCapability)?void 0:e.getActiveMode())?null==(t=this.interactionManagerCapability)||t.activateDefaultMode():null==(n=this.interactionManagerCapability)||n.activate("marqueeCapture")}};tu.id="capture";let nu=tu;const ou={manifest:eu,create:(e,t)=>new nu(Jd,e,t),reducer:()=>{},initialState:{}},iu=()=>Kn(nu.id),ru=({pageIndex:e,scale:t,className:n,stroke:o="rgba(33,150,243,0.8)",fill:i="rgba(33,150,243,0.15)"})=>{const{provides:r}=iu(),[a,l]=ke(null);return Ce((()=>{if(r)return r.registerMarqueeOnPage({pageIndex:e,scale:t,callback:{onPreview:l}})}),[r,e,t]),a?De("div",{style:{position:"absolute",pointerEvents:"none",left:a.origin.x*t,top:a.origin.y*t,width:a.size.width*t,height:a.size.height*t,border:`1px solid ${o}`,background:i,boxSizing:"border-box"},className:n}):null},au="history",lu={id:au,name:"History Plugin",version:"1.0.0",provides:["history"],requires:[],optional:[],defaultConfig:{enabled:!0}},su="HISTORY/SET_STATE",cu=class extends Ln{constructor(e,t){super(e,t),this.topicHistories=new Map,this.globalTimeline=[],this.globalIndex=-1,this.historyChange$=Fn()}async initialize(e){}getHistoryState(){const e={};return Array.from(this.topicHistories.entries()).forEach((([t,n])=>{e[t]={canUndo:n.currentIndex>-1,canRedo:n.currentIndex<n.commands.length-1}})),{global:{canUndo:this.globalIndex>-1,canRedo:this.globalIndex<this.globalTimeline.length-1},topics:e}}emitHistoryChange(e){var t;this.dispatch((t=this.getHistoryState(),{type:su,payload:t})),this.historyChange$.emit(e)}buildCapability(){return{getHistoryState:()=>this.state,onHistoryChange:this.historyChange$.on,register:(e,t)=>{this.topicHistories.has(t)||this.topicHistories.set(t,{commands:[],currentIndex:-1});const n=this.topicHistories.get(t);n.commands.splice(n.currentIndex+1),n.commands.push(e),n.currentIndex++;const o={command:e,topic:t};this.globalTimeline.splice(this.globalIndex+1),this.globalTimeline.push(o),this.globalIndex++,e.execute(),this.emitHistoryChange(t)},undo:e=>{let t;if(e){const n=this.topicHistories.get(e);n&&n.currentIndex>-1&&(n.commands[n.currentIndex].undo(),n.currentIndex--,t=e)}else if(this.globalIndex>-1){const e=this.globalTimeline[this.globalIndex];e.command.undo(),this.topicHistories.get(e.topic).currentIndex--,this.globalIndex--,t=e.topic}t&&this.emitHistoryChange(t)},redo:e=>{let t;if(e){const n=this.topicHistories.get(e);n&&n.currentIndex<n.commands.length-1&&(n.currentIndex++,n.commands[n.currentIndex].execute(),t=e)}else if(this.globalIndex<this.globalTimeline.length-1){this.globalIndex++;const e=this.globalTimeline[this.globalIndex];e.command.execute(),this.topicHistories.get(e.topic).currentIndex++,t=e.topic}t&&this.emitHistoryChange(t)},canUndo:e=>{if(e){const t=this.topicHistories.get(e);return!!t&&t.currentIndex>-1}return this.globalIndex>-1},canRedo:e=>{if(e){const t=this.topicHistories.get(e);return!!t&&t.currentIndex<t.commands.length-1}return this.globalIndex<this.globalTimeline.length-1}}}};cu.id="history";let du=cu;const uu={global:{canUndo:!1,canRedo:!1},topics:{}},hu={manifest:lu,create:e=>new du(au,e),reducer:(e=uu,t)=>t.type===su?{...e,...t.payload}:e,initialState:uu};var pu=(e=>(e.MarqueeRedact="marqueeRedact",e.RedactSelection="redactSelection",e))(pu||{});const gu="START_REDACTION",mu="END_REDACTION",fu="ADD_PENDING",vu="REMOVE_PENDING",yu="CLEAR_PENDING",bu="SELECT_PENDING",wu="DESELECT_PENDING",xu=e=>({type:fu,payload:e}),ku=(e,t)=>({type:vu,payload:{page:e,id:t}}),Cu=()=>({type:yu}),Su=e=>({type:gu,payload:e});const Mu=class extends Ln{constructor(e,t,n){var o,i,r,a,l;super(e,t),this.redactionSelection$=Un(),this.pending$=Un(),this.selected$=Un(),this.state$=Un(),this.events$=Un(),this.config=n,this.selectionCapability=null==(o=this.registry.getPlugin("selection"))?void 0:o.provides(),this.interactionManagerCapability=null==(i=this.registry.getPlugin("interaction-manager"))?void 0:i.provides(),this.interactionManagerCapability&&this.interactionManagerCapability.registerMode({id:pu.MarqueeRedact,scope:"page",exclusive:!0,cursor:"crosshair"}),this.interactionManagerCapability&&this.selectionCapability&&(this.interactionManagerCapability.registerMode({id:pu.RedactSelection,scope:"page",exclusive:!1}),this.selectionCapability.enableForMode(pu.RedactSelection)),this.unsubscribeModeChange=null==(r=this.interactionManagerCapability)?void 0:r.onModeChange((e=>{e.activeMode===pu.RedactSelection?this.dispatch(Su(pu.RedactSelection)):e.activeMode===pu.MarqueeRedact?this.dispatch(Su(pu.MarqueeRedact)):this.dispatch({type:mu})})),this.unsubscribeSelectionChange=null==(a=this.selectionCapability)?void 0:a.onSelectionChange((()=>{if(!this.selectionCapability)return;if(!this.state.isRedacting)return;const e=this.selectionCapability.getFormattedSelection();this.redactionSelection$.emit(e)})),this.unsubscribeEndSelection=null==(l=this.selectionCapability)?void 0:l.onEndSelection((()=>{if(!this.selectionCapability)return;if(!this.state.isRedacting)return;const e=this.selectionCapability.getFormattedSelection().map((e=>({id:dn(),kind:"text",page:e.pageIndex,rect:e.rect,rects:e.segmentRects})));this.dispatch(xu(e)),this.redactionSelection$.emit([]),this.selectionCapability.clear(),this.pending$.emit(this.state.pending),e.length&&this.selectPending(e[e.length-1].page,e[e.length-1].id)}))}async initialize(e){}buildCapability(){return{queueCurrentSelectionAsPending:()=>this.queueCurrentSelectionAsPending(),enableMarqueeRedact:()=>this.enableMarqueeRedact(),toggleMarqueeRedact:()=>this.toggleMarqueeRedact(),isMarqueeRedactActive:()=>{var e;return(null==(e=this.interactionManagerCapability)?void 0:e.getActiveMode())===pu.MarqueeRedact},enableRedactSelection:()=>this.enableRedactSelection(),toggleRedactSelection:()=>this.toggleRedactSelection(),isRedactSelectionActive:()=>{var e;return(null==(e=this.interactionManagerCapability)?void 0:e.getActiveMode())===pu.RedactSelection},addPending:e=>{this.dispatch(xu(e)),this.pending$.emit(this.state.pending),this.events$.emit({type:"add",items:e})},removePending:(e,t)=>{this.dispatch(ku(e,t)),this.pending$.emit(this.state.pending),this.events$.emit({type:"remove",page:e,id:t})},clearPending:()=>{this.dispatch(Cu()),this.pending$.emit(this.state.pending),this.events$.emit({type:"clear"})},commitAllPending:()=>this.commitAllPending(),commitPending:(e,t)=>this.commitPendingOne(e,t),endRedaction:()=>this.endRedaction(),startRedaction:()=>this.startRedaction(),selectPending:(e,t)=>this.selectPending(e,t),deselectPending:()=>this.deselectPending(),onSelectedChange:this.selected$.on,onRedactionEvent:this.events$.on,onStateChange:this.state$.on,onPendingChange:this.pending$.on}}onRedactionSelectionChange(e){return this.redactionSelection$.on(e)}selectPending(e,t){var n;this.dispatch(((e,t)=>({type:bu,payload:{page:e,id:t}}))(e,t)),null==(n=this.selectionCapability)||n.clear(),this.selected$.emit(this.state.selected)}deselectPending(){this.dispatch({type:wu}),this.selected$.emit(this.state.selected)}enableRedactSelection(){var e;null==(e=this.interactionManagerCapability)||e.activate(pu.RedactSelection)}toggleRedactSelection(){var e,t,n;(null==(e=this.interactionManagerCapability)?void 0:e.getActiveMode())===pu.RedactSelection?null==(t=this.interactionManagerCapability)||t.activateDefaultMode():null==(n=this.interactionManagerCapability)||n.activate(pu.RedactSelection)}enableMarqueeRedact(){var e;null==(e=this.interactionManagerCapability)||e.activate(pu.MarqueeRedact)}toggleMarqueeRedact(){var e,t,n;(null==(e=this.interactionManagerCapability)?void 0:e.getActiveMode())===pu.MarqueeRedact?null==(t=this.interactionManagerCapability)||t.activateDefaultMode():null==(n=this.interactionManagerCapability)||n.activate(pu.MarqueeRedact)}startRedaction(){var e;null==(e=this.interactionManagerCapability)||e.activate(pu.RedactSelection)}endRedaction(){var e;null==(e=this.interactionManagerCapability)||e.activateDefaultMode()}registerMarqueeOnPage(e){if(!this.interactionManagerCapability)return this.logger.warn("RedactionPlugin","MissingDependency","Interaction manager plugin not loaded, marquee redaction disabled"),()=>{};const t=this.coreState.core.document;if(!t)return this.logger.warn("RedactionPlugin","DocumentNotFound","Document not found"),()=>{};const n=t.pages[e.pageIndex];if(!n)return this.logger.warn("RedactionPlugin","PageNotFound",`Page ${e.pageIndex} not found`),()=>{};const o=function(e){const{pageSize:t,scale:n,minDragPx:o=5,onPreview:i,onCommit:r}=e;let a=null,l=null;return{onPointerDown:(e,t)=>{var n;a=e,l={origin:{x:e.x,y:e.y},size:{width:0,height:0}},null==i||i(l),null==(n=t.setPointerCapture)||n.call(t)},onPointerMove:e=>{if(!a)return;const n=On(e.x,0,t.width),o=On(e.y,0,t.height);l={origin:{x:Math.min(a.x,n),y:Math.min(a.y,o)},size:{width:Math.abs(n-a.x),height:Math.abs(o-a.y)}},null==i||i(l)},onPointerUp:(e,t)=>{var s;l&&Math.max(l.size.width,l.size.height)*n>o&&(null==r||r(l)),a=null,l=null,null==i||i(null),null==(s=t.releasePointerCapture)||s.call(t)},onPointerCancel:(e,t)=>{var n;a=null,l=null,null==i||i(null),null==(n=t.releasePointerCapture)||n.call(t)}}}({pageSize:n.size,scale:e.scale,onPreview:e.callback.onPreview,onCommit:t=>{var n,o;const i={id:dn(),kind:"area",page:e.pageIndex,rect:t};this.dispatch(xu([i])),this.pending$.emit(this.state.pending),null==(o=(n=e.callback).onCommit)||o.call(n,t),this.enableRedactSelection(),this.selectPending(e.pageIndex,i.id)}}),i=this.interactionManagerCapability.registerAlways({handlers:{onPointerDown:(e,t)=>{t.target===t.currentTarget&&this.deselectPending()}},scope:{type:"page",pageIndex:e.pageIndex}}),r=this.interactionManagerCapability.registerHandlers({modeId:pu.MarqueeRedact,handlers:o,pageIndex:e.pageIndex});return()=>{i(),r()}}queueCurrentSelectionAsPending(){var e;if(!this.selectionCapability)return Nt.reject({code:_t.NotFound,message:"[RedactionPlugin] selection plugin required"});if(!this.coreState.core.document)return Nt.reject({code:_t.NotFound,message:"Document not found"});const t=this.selectionCapability.getFormattedSelection();if(!t.length)return Nt.resolve(!0);const n=dn(),o=t.map((e=>({id:n,kind:"text",page:e.pageIndex,rect:e.rect,rects:e.segmentRects})));this.enableRedactSelection(),this.dispatch(xu(o)),this.pending$.emit(this.state.pending);const i=o[o.length-1];return this.selectPending(i.page,i.id),this.redactionSelection$.emit([]),null==(e=this.selectionCapability)||e.clear(),Nt.resolve(!0)}commitPendingOne(e,t){const n=this.coreState.core.document;if(!n)return Nt.reject({code:_t.NotFound,message:"Document not found"});const o=(this.state.pending[e]??[]).find((e=>e.id===t));if(!o)return Nt.resolve(!0);const i="text"===o.kind?o.rects:[o.rect],r=n.pages[e];if(!r)return Nt.reject({code:_t.NotFound,message:"Page not found"});const a=new lt;return this.engine.redactTextInRects(n,r,i,{drawBlackBoxes:this.config.drawBlackBoxes}).wait((()=>{this.dispatch(ku(e,t)),this.pending$.emit(this.state.pending),this.dispatchCoreAction(In([e])),this.events$.emit({type:"commit",success:!0}),a.resolve(!0)}),(e=>{this.events$.emit({type:"commit",success:!1,error:e.reason}),a.reject({code:_t.Unknown,message:"Failed to commit redactions"})})),a}commitAllPending(){const e=this.coreState.core.document;if(!e)return Nt.reject({code:_t.NotFound,message:"Document not found"});const t=new Map;for(const[e,n]of Object.entries(this.state.pending)){const o=Number(e),i=t.get(o)??[];for(const e of n)"text"===e.kind?i.push(...e.rects):i.push(e.rect);t.set(o,i)}const n=Array.from(t.entries()).filter((([e,t])=>t.length>0)).map((([e])=>e)),o=[];for(const[n,i]of t){const t=e.pages[n];t&&(i.length&&o.push(this.engine.redactTextInRects(e,t,i,{drawBlackBoxes:this.config.drawBlackBoxes})))}const i=new lt;return lt.all(o).wait((()=>{this.dispatch(Cu()),this.dispatchCoreAction(In(n)),this.pending$.emit(this.state.pending),this.events$.emit({type:"commit",success:!0}),i.resolve(!0)}),(e=>{this.events$.emit({type:"commit",success:!1,error:e.reason}),i.reject({code:_t.Unknown,message:"Failed to commit redactions"})})),i}onStoreUpdated(e,t){this.pending$.emit(t.pending),this.selected$.emit(t.selected),this.state$.emit(t)}async destroy(){var e,t,n;this.redactionSelection$.clear(),this.pending$.clear(),this.state$.clear(),this.events$.clear(),null==(e=this.unsubscribeSelectionChange)||e.call(this),null==(t=this.unsubscribeEndSelection)||t.call(this),null==(n=this.unsubscribeModeChange)||n.call(this),await super.destroy()}};Mu.id="redaction";let Pu=Mu;const Iu="redaction",Tu=e=>Object.values(e).reduce(((e,t)=>e+t.length),0),Au={isRedacting:!1,activeType:null,pending:{},pendingCount:0,selected:null},zu={manifest:{id:Iu,name:"Redaction Plugin",version:"1.0.0",provides:["redaction"],requires:[],optional:["interaction-manager","selection"],defaultConfig:{enabled:!0,drawBlackBoxes:!0}},create:(e,t)=>new Pu(Iu,e,t),reducer:(e=Au,t)=>{switch(t.type){case fu:{const n={...e.pending};for(const e of t.payload)n[e.page]=(n[e.page]??[]).concat(e);return{...e,pending:n,pendingCount:Tu(n)}}case vu:{const{page:n,id:o}=t.payload,i=(e.pending[n]??[]).filter((e=>e.id!==o)),r={...e.pending,[n]:i},a=e.selected&&!(e.selected.page===n&&e.selected.id===o);return{...e,pending:r,pendingCount:Tu(r),selected:a?e.selected:null}}case yu:return{...e,pending:{},pendingCount:0,selected:null};case bu:return{...e,selected:{page:t.payload.page,id:t.payload.id}};case wu:return{...e,selected:null};case gu:return{...e,isRedacting:!0,activeType:t.payload};case mu:return{...e,pending:{},pendingCount:0,selected:null,isRedacting:!1,activeType:null};case"SET_ACTIVE_TYPE":return{...e,activeType:t.payload};default:return e}},initialState:Au},Ru=()=>Xn(Pu.id),Eu=()=>Kn(Pu.id),_u=({pageIndex:e,scale:t,className:n,stroke:o="red",fill:i="transparent"})=>{const{plugin:r}=Ru(),[a,l]=ke(null);return Ce((()=>{if(r)return r.registerMarqueeOnPage({pageIndex:e,scale:t,callback:{onPreview:l}})}),[r,e]),a?De("div",{style:{position:"absolute",pointerEvents:"none",left:a.origin.x*t,top:a.origin.y*t,width:a.size.width*t,height:a.size.height*t,border:`1px solid ${o}`,background:i,boxSizing:"border-box"},className:n}):null};function Nu({color:e="#FFFF00",opacity:t=1,border:n="1px solid red",rects:o,rect:i,scale:r,onClick:a,style:l,...s}){return De($,{children:o.map(((o,c)=>De("div",{onPointerDown:a,onTouchStart:a,style:{position:"absolute",border:n,left:(i?o.origin.x-i.origin.x:o.origin.x)*r,top:(i?o.origin.y-i.origin.y:o.origin.y)*r,width:o.size.width*r,height:o.size.height*r,background:e,opacity:t,pointerEvents:a?"auto":"none",cursor:a?"pointer":"default",zIndex:a?1:void 0,...l},...s},c)))})}function Lu({pageIndex:e,scale:t}){const{plugin:n}=Ru(),[o,i]=ke([]),[r,a]=ke(null);return Ce((()=>{if(n)return n.onRedactionSelectionChange((t=>{const n=t.find((t=>t.pageIndex===e));i((null==n?void 0:n.segmentRects)??[]),a((null==n?void 0:n.rect)??null)}))}),[n,e]),r?De("div",{style:{mixBlendMode:"normal",pointerEvents:"none",position:"absolute",inset:0},children:De(Nu,{color:"transparent",opacity:1,rects:o,scale:t,border:"1px solid red"})}):null}function Du({pageIndex:e,scale:t,bboxStroke:n="rgba(0,0,0,0.8)",rotation:o=Oe.Degree0,selectionMenu:i}){const{provides:r}=Eu(),[a,l]=ke([]),[s,c]=ke(null);Ce((()=>{if(!r)return;const t=r.onPendingChange((t=>l(t[e]??[]))),n=r.onSelectedChange((t=>{c(t&&t.page===e?t.id:null)}));return()=>{null==t||t(),null==n||n()}}),[r,e]);const d=Ie(((t,n)=>{t.stopPropagation(),r&&r.selectPending(e,n)}),[r,e]);return a.length?De("div",{style:{position:"absolute",inset:0,pointerEvents:"none"},children:a.map((r=>{if("area"===r.kind){const a=r.rect;return De($,{children:[De("div",{style:{position:"absolute",left:a.origin.x*t,top:a.origin.y*t,width:a.size.width*t,height:a.size.height*t,background:"transparent",outline:s===r.id?`1px solid ${n}`:"none",outlineOffset:"2px",border:"1px solid red",pointerEvents:"auto",cursor:"pointer"},onPointerDown:e=>d(e,r.id),onTouchStart:e=>d(e,r.id)}),De(Cc,{rect:{origin:{x:a.origin.x*t,y:a.origin.y*t},size:{width:a.size.width*t,height:a.size.height*t}},rotation:o,children:({rect:t,menuWrapperProps:n})=>i&&i({item:r,selected:s===r.id,pageIndex:e,menuWrapperProps:n,rect:t})})]},r.id)}const a=r.rect;return De($,{children:[De("div",{style:{position:"absolute",left:a.origin.x*t,top:a.origin.y*t,width:a.size.width*t,height:a.size.height*t,background:"transparent",outline:s===r.id?`1px solid ${n}`:"none",outlineOffset:"2px",pointerEvents:"auto",cursor:s===r.id?"pointer":"default"},children:De(Nu,{rect:a,rects:r.rects,color:"transparent",border:"1px solid red",scale:t,onClick:e=>d(e,r.id)})}),De(Cc,{rect:{origin:{x:a.origin.x*t,y:a.origin.y*t},size:{width:a.size.width*t,height:a.size.height*t}},rotation:o,children:({rect:t,menuWrapperProps:n})=>i&&i({item:r,selected:s===r.id,pageIndex:e,menuWrapperProps:n,rect:t})})]},r.id)}))}):null}const Ou=({pageIndex:e,scale:t,rotation:n=Oe.Degree0,selectionMenu:o})=>De($,{children:[De(Du,{pageIndex:e,scale:t,rotation:n,selectionMenu:o}),De(_u,{pageIndex:e,scale:t}),De(Lu,{pageIndex:e,scale:t})]});function Bu(){var e=iu().provides,t=f(ke(!1),2),n=t[0],o=t[1],i=f(ke(null),2),r=i[0],a=i[1],l=f(ke(null),2),s=l[0],c=l[1],d=f(ke(null),2),u=d[0],h=d[1],p=Me(null),g=Me(null),m=function(){p.current&&(URL.revokeObjectURL(p.current),p.current=null),u&&(URL.revokeObjectURL(u),h(null)),o(!1),a(null),c(null)};Ce((function(){if(e)return e.onCaptureArea((function(e){var t=e.pageIndex,n=e.rect,i=e.blob;a({pageIndex:t,rect:n,blob:i});var r=URL.createObjectURL(i);p.current=r,c(r),o(!0)}))}),[e]);return H($,null,H(Ja,{open:n,onClose:m,title:"Capture PDF Area"},H("div",{className:"space-y-6"},H("div",{className:"flex justify-center"},s&&H("img",{src:s,onLoad:function(){p.current&&(URL.revokeObjectURL(p.current),p.current=null)},alt:"Captured PDF area",style:{maxWidth:"100%",maxHeight:"400px",border:"1px solid #e5e7eb",borderRadius:"4px",display:"block"}})),H("div",{className:"flex justify-end space-x-3 border-t border-gray-200 pt-4"},H(xi,{onClick:m,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"},"Cancel"),H(xi,{onClick:function(){if(r&&g.current){var e=URL.createObjectURL(r.blob);h(e),g.current.href=e,g.current.download="pdf-capture-page-".concat(r.pageIndex+1,".png"),g.current.click(),m()}},disabled:!r,className:"rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm text-white hover:!bg-blue-700 disabled:cursor-not-allowed disabled:opacity-50"},"Download")))),H("a",{ref:g,style:{display:"none"},href:"",download:""}))}var Hu,ju=function(){var e=function(){const{provides:e}=gc(),[t,n]=ke(hc);return Ce((()=>{if(e)return e.onStateChange((e=>{n(e)}))}),[e]),{provides:e,state:t}}().provides,t=f(ke({show:!1,mode:null,isAnimating:!1}),2),n=t[0],o=t[1];Ce((function(){if(e)return e.onModeChange((function(e){var t=e.activeMode;if("marqueeZoom"===t||"marqueeCapture"===t){o({show:!0,mode:t,isAnimating:!0});var n=setTimeout((function(){o((function(e){return h(h({},e),{},{show:!1})}))}),3e3);return function(){return clearTimeout(n)}}o({show:!1,mode:null,isAnimating:!1})}))}),[e]);if(!n.show&&!n.isAnimating)return null;var i="marqueeZoom"===n.mode?"Drag to select area to zoom":"Drag to select area to capture",r="marqueeZoom"===n.mode?"rgba(33,150,243,0.8)":"rgba(76,175,80,0.8)";return H("div",{className:"hint-overlay ".concat(n.show?"hint-show":"hint-hide"),onAnimationEnd:function(){n.show||o((function(e){return h(h({},e),{},{isAnimating:!1,mode:null})}))},style:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"20px"}},H("div",{className:"hint-text",style:{background:"rgba(0, 0, 0, 0.8)",color:"white",padding:"12px 20px",borderRadius:"8px",fontSize:"14px",fontWeight:"500",textAlign:"center",maxWidth:"250px"}},i),H("div",{className:"drag-demo",style:{position:"relative",width:"150px",height:"100px"}},H("div",{style:{position:"absolute",top:"20px",left:"20px",width:"110px",height:"60px",border:"2px dashed ".concat(r),borderRadius:"4px",opacity:.6}}),H("div",{className:"animated-rect",style:{position:"absolute",top:"20px",left:"20px",border:"2px solid ".concat(r),backgroundColor:"".concat(r.replace("0.8","0.15")),borderRadius:"4px"}}),H("div",{className:"cursor-demo",style:{position:"absolute",width:"20px",height:"20px"}},H("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},H("path",{d:"M3.5 2.5L16.5 10L10 11.5L7.5 16.5L3.5 2.5Z",fill:"rgba(0,0,0,0.3)",transform:"translate(1,1)"}),H("path",{d:"M3 2L16 10L10 11.5L7.5 16L3 2Z",fill:"white",stroke:"black",strokeWidth:"1"}),H("path",{d:"M4 3.5L13.5 9.5L9.5 10.5L7.5 14L4 3.5Z",fill:"rgba(255,255,255,0.8)"})))),H("style",{jsx:!0},"\n        .hint-overlay {\n          animation-duration: 0.3s;\n          animation-fill-mode: both;\n        }\n\n        .hint-show {\n          animation-name: hintFadeIn;\n        }\n\n        .hint-hide {\n          animation-name: hintFadeOut;\n        }\n\n        @keyframes hintFadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes hintFadeOut {\n          from {\n            opacity: 1;\n            transform: translateY(0);\n          }\n          to {\n            opacity: 0;\n            transform: translateY(-10px);\n          }\n        }\n\n        .animated-rect {\n          animation: rectGrow 2s ease-in-out infinite;\n        }\n\n        @keyframes rectGrow {\n          0% {\n            width: 0;\n            height: 0;\n          }\n          50% {\n            width: 110px;\n            height: 60px;\n          }\n          100% {\n            width: 110px;\n            height: 60px;\n            opacity: 0.7;\n          }\n        }\n\n        .cursor-demo {\n          animation: cursorMove 2s ease-in-out infinite;\n        }\n\n        @keyframes cursorMove {\n          0% {\n            top: 20px;\n            left: 20px;\n          }\n          50% {\n            top: 50px;\n            left: 80px;\n          }\n          100% {\n            top: 80px;\n            left: 130px;\n          }\n        }\n\n        .hint-text {\n          animation: textPulse 0.6s ease-in-out;\n        }\n\n        @keyframes textPulse {\n          0% {\n            transform: scale(0.9);\n          }\n          50% {\n            transform: scale(1.05);\n          }\n          100% {\n            transform: scale(1);\n          }\n        }\n      "))},$u=["trackedAnnotation"],Fu=function(e){var t=e.trackedAnnotation,n=p(e,$u),o=Ac().provides,i=vi().provides;return H("div",h(h({},n),{},{className:"flex flex-row gap-1 rounded-md border border-[#cfd4da] bg-[#f8f9fa] p-1"}),H(xi,{onClick:function(){null==o||o.deleteAnnotation(t.object.pageIndex,t.object.id)}},H(Xr,{icon:"trash",className:"h-5 w-5"})),H(xi,{onClick:function(){null==i||i.togglePanel({id:"rightPanel",visibleChild:"comment",open:!0})}},H(Xr,{icon:"comment",className:"h-5 w-5"})),H(xi,{onClick:function(){null==i||i.togglePanel({id:"leftPanel",visibleChild:"leftPanelAnnotationStyle",open:!0})}},H(Xr,{icon:"palette",className:"h-5 w-5"})))},Uu=function(e){var t=e.placeholder,n=e.onSubmit,o=e.inputRef,i=e.isFocused,r=f(ke(""),2),a=r[0],l=r[1];return H("form",{className:"mt-4 flex items-end space-x-2 border-t border-gray-100 pt-4",onClick:function(e){return e.stopPropagation()},onSubmit:function(e){null==e||e.preventDefault(),a.trim()&&(n(a),l(""))}},H("input",{ref:o,type:"text",placeholder:t,value:a,onInput:function(e){return l(e.currentTarget.value)},className:"w-full rounded-lg border px-3 py-2 text-sm placeholder-gray-500 transition-colors focus:border-transparent focus:outline-none focus:ring-2 ".concat(i?"border-blue-300 focus:ring-blue-500":"border-gray-300 focus:ring-blue-500")}),H("button",{type:"submit",disabled:!a.trim(),className:"rounded-lg bg-blue-500 p-2 text-white transition-colors hover:bg-blue-600 disabled:cursor-not-allowed disabled:bg-gray-300"},H("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},H("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"}))))},Wu=function(e){if(!e)return"bg-red-500";var t=["bg-red-500","bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-teal-500"];return t[e.length>0?e.charCodeAt(0)%t.length:0]},qu=function(e){var t=e.name,n=e.className,o=void 0===n?"":n;return H("div",{className:"flex h-8 w-8 items-center justify-center rounded-full text-sm font-medium text-white ".concat(Wu(t)," ").concat(o)},function(e){return e?e.split(" ").map((function(e){return e[0]})).join("").toUpperCase().slice(0,2):"G"}(t))},Gu=function(e){var t,n,o=e.onEdit,i=e.onDelete,r=e.onClose,a=Me(null);Ce((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&n()};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[t=a,n=r]);return H("div",{ref:a,className:"absolute right-0 top-6 z-10 w-32 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5"},H("div",{className:"py-1"},H("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),o(),r()},className:"block w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100"},"Edit"),H("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),i(),r()},className:"block w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-gray-100"},"Delete")))},Zu=function(e){var t=e.initialText,n=e.onSave,o=e.onCancel,i=e.autoFocus,r=void 0!==i&&i,a=f(ke(t),2),l=a[0],s=a[1],c=Me(null);Ce((function(){r&&c.current&&(c.current.focus(),c.current.setSelectionRange(l.length,l.length))}),[r,l.length]);return H("div",{className:"flex-1 space-y-2"},H("textarea",{ref:c,value:l,onInput:function(e){return s(e.currentTarget.value)},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",rows:3}),H("div",{className:"flex space-x-2"},H("button",{onClick:function(e){e.stopPropagation(),n(l)},className:"rounded-md bg-blue-500 px-3 py-1 text-sm text-white hover:bg-blue-600"},"Save"),H("button",{onClick:function(e){e.stopPropagation(),o()},className:"rounded-md bg-gray-300 px-3 py-1 text-sm text-gray-700 hover:bg-gray-400"},"Cancel")))},Vu=function(e){var t=e.annotation,n=e.onSave,o=e.onDelete,i=e.isReply,r=void 0!==i&&i,a=f(ke(!1),2),l=a[0],s=a[1],c=f(ke(!1),2),d=c[0],u=c[1],h=t.author||"Guest";return d?H("div",{className:"flex w-full items-start space-x-3",onClick:function(e){return e.stopPropagation()}},r&&H(qu,{name:h,className:"h-8 w-8"}),H(Zu,{initialText:t.contents||"",onSave:function(e){n(e),u(!1)},onCancel:function(){u(!1)},autoFocus:!0})):H("div",{className:"flex items-start space-x-3"},r&&H(qu,{name:h,className:"h-8 w-8"}),H("div",{className:"min-w-0 flex-1"},r&&H("div",{className:"flex items-center justify-between"},H("div",{className:"leading-none"},H("h5",{className:"text-sm font-medium text-gray-900"},h),H("span",{className:"text-xs text-gray-400"},Qa(t.modified||t.created))),H("div",{className:"relative"},H("button",{onClick:function(e){e.stopPropagation(),s(!0)},className:"rounded-md p-1 text-gray-400 hover:bg-gray-100"},H("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20"},H("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"}))),l&&H(Gu,{onEdit:function(){return u(!0)},onDelete:o,onClose:function(){return s(!1)}}))),H("p",{className:"mt-2 text-sm text-gray-800"},t.contents)))},Yu=(l(l(l(l(l(l(l(l(l(l(Hu={},bt.HIGHLIGHT,{label:"Highlight",icon:"highlight",iconProps:function(e){return{primaryColor:e.color||"#ffff00"}}}),bt.CIRCLE,{label:"Circle",icon:"circle",iconProps:function(e){return{primaryColor:e.strokeColor||"#000000",secondaryColor:e.color}}}),bt.SQUARE,{label:"Square",icon:"square",iconProps:function(e){return{primaryColor:e.strokeColor||"#000000",secondaryColor:e.color}}}),bt.LINE,{label:"Line",icon:"line",iconProps:function(e){return{primaryColor:e.strokeColor||"#000000"}}}),bt.UNDERLINE,{label:"Underline",icon:"underline",iconProps:function(e){return{primaryColor:e.color||"#000000"}}}),bt.SQUIGGLY,{label:"Squiggly",icon:"squiggly",iconProps:function(e){return{primaryColor:e.color||"#000000"}}}),bt.STRIKEOUT,{label:"Strikethrough",icon:"strikethrough",iconProps:function(e){return{primaryColor:e.color||"#000000"}}}),bt.INK,{label:"Ink",icon:"pencilMarker",iconProps:function(e){return{primaryColor:e.color||"#000000"}}}),bt.FREETEXT,{label:"Text",icon:"text",iconProps:function(e){return{primaryColor:e.fontColor||"#000000"}}}),bt.POLYGON,{label:"Polygon",icon:"polygon",iconProps:function(e){return{primaryColor:e.strokeColor||"#000000",secondaryColor:e.color}}}),l(l(Hu,bt.POLYLINE,{label:"Polyline",icon:"zigzag",iconProps:function(e){return{primaryColor:e.strokeColor||"#000000"}}}),bt.STAMP,{label:"Stamp",icon:"deviceFloppy",iconProps:function(){return{primaryColor:"#dc2626"}}})),Xu=function(e){var t=e.text,n=e.maxWords,o=void 0===n?16:n,i=e.className,r=void 0===i?"":i,a=f(ke(!1),2),l=a[0],s=a[1],c=t.split(" ");return c.length>o?H("div",{className:r},l?t:c.slice(0,o).join(" ")+"..."," ",H("button",{onClick:function(e){e.stopPropagation(),s(!l)},className:"text-sm font-medium text-blue-500 hover:text-blue-600 focus:outline-none"},l?"less":"more")):H("div",{className:r},t)},Ku=function(e){var t=e.annotation,n=e.config,o=e.className,i=void 0===o?"":o,r=n.iconProps(t.object);return H("div",{className:"flex items-center justify-center rounded-full bg-gray-100 ".concat(i),title:n.label},H(Xr,h({icon:n.icon},r)))},Qu=function(e){var t,n=e.entry,o=e.isSelected,i=e.onSelect,r=e.onUpdate,a=e.onDelete,l=e.onReply,s=n.annotation,c=n.replies,d=f(ke(!1),2),u=d[0],h=d[1],p=f(ke(!1),2),g=p[0],m=p[1],v=function(e){return gs(e)?Yu[e.object.type]:null}(s),y=!!s.object.contents,b=c.length>0,w=!y&&!b,x=Me(null),k=s.object.author||"Guest";if(Ce((function(){var e;o&&(null===(e=x.current)||void 0===e||e.focus())}),[o,n]),!v)return null;return H("div",{onClick:i,className:"cursor-pointer rounded-lg border bg-white shadow-sm transition-all hover:shadow-md ".concat(o?"border-blue-500 ring-2 ring-blue-200":"border-gray-200")},H("div",{className:"p-4"},H("div",{className:"flex items-start space-x-3"},H(Ku,{annotation:s,config:v,className:"h-8 w-8"}),H("div",{className:"min-w-0 flex-1"},H("div",{className:"flex items-center justify-between"},H("div",{className:"leading-none"},H("h4",{className:"text-sm font-medium text-gray-900"},k),H("span",{className:"text-xs text-gray-400"},Qa(s.object.modified||s.object.created))),H("div",{className:"relative"},H("button",{onClick:function(e){e.stopPropagation(),h(!0)},className:"rounded-md p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600"},H("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20"},H("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"}))),u&&H(Gu,{onEdit:function(){return m(!0)},onDelete:function(){return a(s)},onClose:function(){return h(!1)}}))),(null===(t=s.object.custom)||void 0===t?void 0:t.text)&&H(Xu,{text:s.object.custom.text,maxWords:14,className:"mt-2 text-sm text-gray-500"}),H("div",{className:"mt-2"},g?H(Zu,{initialText:s.object.contents||"",onSave:function(e){r(s.object.id,e),m(!1)},onCancel:function(){m(!1)},autoFocus:!0}):y?H("p",{className:"text-sm text-gray-800"},s.object.contents):null))),b&&H("div",{className:"mt-4 space-y-4 border-t border-gray-100 pt-4"},c.map((function(e){return H(Vu,{key:e.object.id,annotation:e.object,onSave:function(t){return r(e.object.id,t)},onDelete:function(){return a(e)},isReply:!0})}))),!g&&H(Uu,{inputRef:x,isFocused:o,placeholder:w?"Add comment...":"Add reply...",onSubmit:function(e){w?r(s.object.id,e):l(s.object.id,e)}})))},Ju=function(){return H("div",{class:"flex flex-col items-center gap-2 p-4 text-gray-500"},H(Xr,{icon:"comment",className:"h-18 w-18 text-gray-500"}),H("div",{className:"max-w-[150px] text-center text-sm text-gray-500"},"Add annotations to be able to comment on them."))},eh=function(e){var t=e.sidebarAnnotations,n=e.selectedAnnotation,o=Ac().provides,i=zo().provides,r=Me({}),l=Me(null);Ce((function(){if(n&&l.current){var e=r.current[n.object.id];null==e||e.scrollIntoView({behavior:"smooth",block:"center"})}}),[n]);var s=function(e,t){var n=h(e);n&&(null==o||o.updateAnnotation(n.object.pageIndex,e,{contents:t,modified:new Date}))},c=function(e){null==o||o.deleteAnnotation(e.object.pageIndex,e.object.id)},d=function(e,t){var n=h(e);n&&(null==o||o.createAnnotation(n.object.pageIndex,{id:dn(),rect:{origin:{x:n.object.rect.origin.x,y:n.object.rect.origin.y},size:{width:24,height:24}},pageIndex:n.object.pageIndex,created:new Date,modified:new Date,type:bt.TEXT,contents:t,inReplyToId:n.object.id,flags:["noRotate","noZoom","print"],icon:xt.Comment}))},u=Object.keys(t).map(Number).sort((function(e,t){return e-t})),h=function(e){var n,o=a(u);try{for(o.s();!(n=o.n()).done;){var i,r=n.value,l=a(t[r]);try{for(l.s();!(i=l.n()).done;){var s=i.value;if(s.annotation.object.id===e)return s.annotation;var c=s.replies.find((function(t){return t.object.id===e}));if(c)return c}}catch(e){l.e(e)}finally{l.f()}}}catch(e){o.e(e)}finally{o.f()}};return 0===u.length?H(Ju,null):H("div",{ref:l,className:"h-full overflow-auto"},H("div",{className:"space-y-6 p-3"},u.map((function(e){return H("div",{key:e,className:"space-y-3"},H("div",{className:"sticky top-0 z-10 bg-white px-1"},H("div",{className:"border-b border-gray-200 py-2"},H("h3",{className:"text-md font-semibold text-gray-800"},"Page ",e+1),H("p",{className:"text-sm text-gray-500"},t[e].length," comment",1!==t[e].length?"s":""))),H("div",{className:"space-y-3 px-1"},t[e].map((function(e){return H("div",{key:e.annotation.object.id,ref:function(t){return r.current[e.annotation.object.id]=t}},H(Qu,{entry:e,isSelected:(null==n?void 0:n.object.id)===e.annotation.object.id,onSelect:function(){return t=e.annotation,null==o||o.selectAnnotation(t.object.pageIndex,t.object.id),void(null==i||i.scrollToPage({pageNumber:t.object.pageIndex+1,pageCoordinates:{x:t.object.rect.origin.x,y:t.object.rect.origin.y},center:!0,behavior:"smooth"}));var t},onUpdate:s,onDelete:c,onReply:d}))}))))}))))},th=["item","pageIndex"],nh=function(e){var t=e.item,n=e.pageIndex,o=p(e,th),i=Eu().provides;return H("div",h(h({},o),{},{className:"flex cursor-default flex-row gap-1 rounded-md border border-[#cfd4da] bg-[#f8f9fa] p-1"}),H(Er,{position:"bottom",content:"Delete Redaction",trigger:"hover",delay:500},H(xi,{onClick:function(){null==i||i.removePending(n,t.id)}},H(Xr,{icon:"trash",className:"h-5 w-5"}))),H(Er,{position:"bottom",content:"Commit Redaction",trigger:"hover",delay:500},H(xi,{onClick:function(){null==i||i.commitPending(n,t.id)}},H(Xr,{icon:"check",className:"h-5 w-5"}))))},oh={viewport:{viewportGap:10},scroll:{strategy:mo.Vertical},zoom:{defaultZoomLevel:Nr.FitPage},spread:{defaultSpreadMode:Eo.None},rotate:{defaultRotation:Oe.Degree0},tiling:{tileSize:768,overlapPx:2.5,extraRings:0},thumbnail:{width:150,gap:10,buffer:3,labelHeight:30}};var ih={menuCtr:{id:"menuCtr",icon:"menu",label:"Menu",type:"menu",children:["openFile","download","enterFS","screenshot","print"],active:function(e){return"menuCtr"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},download:{id:"download",icon:"download",label:"Download",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Vd))||void 0===t?void 0:t.provides();n&&n.download()}},openFile:{id:"openFile",icon:"fileImport",label:"Open PDF",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Go))||void 0===t?void 0:t.provides();n&&n.openFileDialog()}},enterFS:{id:"enterFS",icon:function(e){return e.plugins.fullscreen.isFullscreen?"fullscreenExit":"fullscreen"},label:function(e){return e.plugins.fullscreen.isFullscreen?"Exit full screen":"Enter full screen"},type:"action",action:function(e){var t,n=null===(t=e.getPlugin(jd))||void 0===t?void 0:t.provides();n&&(n.isFullscreen()?n.exitFullscreen():n.enableFullscreen())}},screenshot:{id:"screenshot",icon:"screenshot",label:"Screenshot",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Jd))||void 0===t?void 0:t.provides();n&&(n.isMarqueeCaptureActive()?n.disableMarqueeCapture():n.enableMarqueeCapture())},active:function(e){return"marqueeCapture"===e.plugins[uc].activeMode}},save:{id:"save",icon:"save",label:"Save",type:"action",action:function(){console.log("save")}},print:{id:"print",icon:"print",label:"Print",type:"action",action:function(e,t){var n,o=null===(n=e.getPlugin(mi))||void 0===n?void 0:n.provides();o&&o.updateComponentState({componentType:"floating",componentId:"printModal",patch:{open:!0}})}},settings:{id:"settings",icon:"settings",label:"Settings",dividerBefore:!0,type:"action",action:function(){console.log("settings")}},viewCtr:{id:"viewCtr",icon:"viewSettings",label:"View controls",type:"menu",children:["pageOrientation","scrollLayout","pageLayout","enterFS"],active:function(e){return"viewCtr"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},pageOrientation:{id:"pageOrientation",label:"Page orientation",type:"group",children:["rotateClockwise","rotateCounterClockwise"]},rotateClockwise:{id:"rotateClockwise",label:"Rotate clockwise",icon:"rotateClockwise",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(wd))||void 0===t?void 0:t.provides();n&&n.rotateForward()}},rotateCounterClockwise:{id:"rotateCounterClockwise",label:"Rotate counter clockwise",icon:"rotateCounterClockwise",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(wd))||void 0===t?void 0:t.provides();n&&n.rotateBackward()}},scrollLayout:{id:"scrollLayout",label:"Scroll layout",type:"group",children:["vertical","horizontal"]},vertical:{id:"vertical",label:"Vertical",icon:"vertical",type:"action",active:function(e){return e.plugins.scroll.strategy===mo.Vertical},action:function(e){var t,n=null===(t=e.getPlugin(Po))||void 0===t?void 0:t.provides();n&&n.setScrollStrategy(mo.Vertical)}},horizontal:{id:"horizontal",label:"Horizontal",icon:"horizontal",type:"action",active:function(e){return e.plugins.scroll.strategy===mo.Horizontal},action:function(e){var t,n=null===(t=e.getPlugin(Po))||void 0===t?void 0:t.provides();n&&n.setScrollStrategy(mo.Horizontal)}},pageLayout:{id:"pageLayout",label:"Page layout",type:"group",children:["singlePage","doublePage","coverFacingPage"]},singlePage:{id:"singlePage",label:"Single page",icon:"singlePage",type:"action",disabled:function(e){return e.plugins.scroll.strategy===mo.Horizontal},active:function(e){return e.plugins.spread.spreadMode===Eo.None},action:function(e){var t,n=null===(t=e.getPlugin(Oo))||void 0===t?void 0:t.provides();n&&n.setSpreadMode(Eo.None)}},doublePage:{id:"doublePage",label:"Double page",icon:"book",type:"action",disabled:function(e){return e.plugins.scroll.strategy===mo.Horizontal},active:function(e){return e.plugins.spread.spreadMode===Eo.Odd},action:function(e){var t,n=null===(t=e.getPlugin(Oo))||void 0===t?void 0:t.provides();n&&n.setSpreadMode(Eo.Odd)}},coverFacingPage:{id:"coverFacingPage",label:"Cover facing page",icon:"book2",type:"action",disabled:function(e){return e.plugins.scroll.strategy===mo.Horizontal},active:function(e){return e.plugins.spread.spreadMode===Eo.Even},action:function(e){var t,n=null===(t=e.getPlugin(Oo))||void 0===t?void 0:t.provides();n&&n.setSpreadMode(Eo.Even)}},leftAction:{id:"leftAction",label:"Left action",type:"menu",icon:"dots",children:["viewCtr","zoom","panMode","pointerMode"],active:function(e){return"leftAction"===e.plugins.ui.commandMenu.commandMenu.activeCommand||"zoom"===e.plugins.ui.commandMenu.commandMenu.activeCommand||"changeZoomLevel"===e.plugins.ui.commandMenu.commandMenu.activeCommand||"viewCtr"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},zoom:{id:"zoom",icon:"zoomIn",label:"Zoom Controls",type:"menu",children:["changeZoomLevel","zoomIn","zoomOut","fitToWidth","fitToPage","zoomInArea"],active:function(e){return"zoom"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},zoomInArea:{id:"zoomInArea",label:"Zoom in area",icon:"zoomInArea",type:"action",dividerBefore:!0,action:function(e){var t,n=null===(t=e.getPlugin(Dr))||void 0===t?void 0:t.provides();n&&(n.isMarqueeZoomActive()?n.disableMarqueeZoom():n.enableMarqueeZoom())},active:function(e){return"marqueeZoom"===e.plugins[uc].activeMode}},changeZoomLevel:{id:"changeZoomLevel",label:function(e){return"Zoom level (".concat((100*e.plugins.zoom.currentZoomLevel).toFixed(0),"%)")},type:"menu",children:["zoom25","zoom50","zoom100","zoom125","zoom150","zoom200","zoom400","zoom800","zoom1600"],active:function(e){return"changeZoomLevel"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},zoom25:{id:"zoom25",label:"25%",type:"action",active:function(e){return.25===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Dr))||void 0===t?void 0:t.provides();n&&n.requestZoom(.25)}},zoom50:{id:"zoom50",label:"50%",type:"action",active:function(e){return.5===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Dr))||void 0===t?void 0:t.provides();n&&n.requestZoom(.5)}},zoom100:{id:"zoom100",label:"100%",type:"action",active:function(e){return 1===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Dr))||void 0===t?void 0:t.provides();n&&n.requestZoom(1)}},zoom125:{id:"zoom125",label:"125%",type:"action",active:function(e){return 1.25===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Dr))||void 0===t?void 0:t.provides();n&&n.requestZoom(1.25)}},zoom150:{id:"zoom150",label:"150%",type:"action",active:function(e){return 1.5===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Dr))||void 0===t?void 0:t.provides();n&&n.requestZoom(1.5)}},zoom200:{id:"zoom200",label:"200%",type:"action",active:function(e){return 2===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Dr))||void 0===t?void 0:t.provides();n&&n.requestZoom(2)}},zoom400:{id:"zoom400",label:"400%",type:"action",active:function(e){return 4===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Dr))||void 0===t?void 0:t.provides();n&&n.requestZoom(4)}},zoom800:{id:"zoom800",label:"800%",type:"action",active:function(e){return 8===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Dr))||void 0===t?void 0:t.provides();n&&n.requestZoom(8)}},zoom1600:{id:"zoom1600",label:"1600%",type:"action",active:function(e){return 16===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Dr))||void 0===t?void 0:t.provides();n&&n.requestZoom(16)}},zoomIn:{id:"zoomIn",label:"Zoom in",icon:"zoomIn",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Dr))||void 0===t?void 0:t.provides();n&&n.zoomIn()}},zoomOut:{id:"zoomOut",label:"Zoom out",icon:"zoomOut",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Dr))||void 0===t?void 0:t.provides();n&&n.zoomOut()}},search:{id:"search",label:"Search",icon:"search",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(mi))||void 0===t?void 0:t.provides();n&&n.togglePanel({id:"rightPanel",visibleChild:"search"})},active:function(e){return!0===e.plugins.ui.panel.rightPanel.open&&"search"===e.plugins.ui.panel.rightPanel.visibleChild}},comment:{id:"comment",label:"Comment",icon:"comment",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(mi))||void 0===t?void 0:t.provides();n&&n.togglePanel({id:"rightPanel",visibleChild:"comment"})},active:function(e){return!0===e.plugins.ui.panel.rightPanel.open&&"comment"===e.plugins.ui.panel.rightPanel.visibleChild}},fitToWidth:{id:"fitToWidth",label:"Fit to width",icon:"fitToWidth",type:"action",active:function(e){return e.plugins.zoom.zoomLevel===Nr.FitWidth},action:function(e){var t,n=null===(t=e.getPlugin(Dr))||void 0===t?void 0:t.provides();n&&n.requestZoom(Nr.FitWidth)}},fitToPage:{id:"fitToPage",label:"Fit to page",icon:"fitToPage",type:"action",active:function(e){return e.plugins.zoom.zoomLevel===Nr.FitPage},action:function(e){var t,n=null===(t=e.getPlugin(Dr))||void 0===t?void 0:t.provides();n&&n.requestZoom(Nr.FitPage)}},sidebar:{id:"sidebar",label:"Sidebar",icon:"sidebar",type:"action",action:function(e,t){var n,o=null===(n=e.getPlugin(mi))||void 0===n?void 0:n.provides();o&&o.togglePanel({id:"leftPanel",visibleChild:"leftPanelMain",open:!0!==t.plugins.ui.panel.leftPanel.open||"leftPanelMain"!==t.plugins.ui.panel.leftPanel.visibleChild})},active:function(e){return!0===e.plugins.ui.panel.leftPanel.open&&"leftPanelMain"===e.plugins.ui.panel.leftPanel.visibleChild}},sidebarMenu:{id:"sidebarMenu",label:"Sidebar Menu",type:"menu",children:["thumbnails","outline"]},thumbnails:{id:"thumbnails",label:"Thumbnails",icon:"squares",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(mi))||void 0===t?void 0:t.provides();n&&(n.togglePanel({id:"leftPanel",visibleChild:"leftPanelMain",open:!0}),n.updateComponentState({componentType:"custom",componentId:"leftPanelMain",patch:{visibleChild:"thumbnails"}}))},active:function(e){return"thumbnails"===e.plugins.ui.custom.leftPanelMain.visibleChild}},outline:{id:"outline",label:"Outline",icon:"listTree",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(mi))||void 0===t?void 0:t.provides();n&&(n.togglePanel({id:"leftPanel",visibleChild:"leftPanelMain",open:!0}),n.updateComponentState({componentType:"custom",componentId:"leftPanelMain",patch:{visibleChild:"outline"}}))},active:function(e){return"outline"===e.plugins.ui.custom.leftPanelMain.visibleChild}},attachments:{id:"attachments",label:"Attachments",icon:"paperclip",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(mi))||void 0===t?void 0:t.provides();n&&(n.togglePanel({id:"leftPanel",visibleChild:"leftPanelMain",open:!0}),n.updateComponentState({componentType:"custom",componentId:"leftPanelMain",patch:{visibleChild:"attachments"}}))},active:function(e){return"attachments"===e.plugins.ui.custom.leftPanelMain.visibleChild}},view:{id:"view",label:"View",type:"action",action:function(e){var t,n,o=null===(t=e.getPlugin(mi))||void 0===t?void 0:t.provides(),i=null===(n=e.getPlugin(Dl))||void 0===n?void 0:n.provides();o&&(o.setHeaderVisible({id:"toolsHeader",visible:!1}),null==i||i.setActiveTool(null))},active:function(e){return!1===e.plugins.ui.header.toolsHeader.visible}},annotate:{id:"annotate",label:"Annotate",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(mi))||void 0===t?void 0:t.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"annotationTools"})},active:function(e){return!0===e.plugins.ui.header.toolsHeader.visible&&"annotationTools"===e.plugins.ui.header.toolsHeader.visibleChild}},shapes:{id:"shapes",label:"Shapes",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(mi))||void 0===t?void 0:t.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"shapeTools"})},active:function(e){return!0===e.plugins.ui.header.toolsHeader.visible&&"shapeTools"===e.plugins.ui.header.toolsHeader.visibleChild}},redaction:{id:"redaction",label:"Redaction",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(mi))||void 0===t?void 0:t.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"redactionTools"})},active:function(e){return!0===e.plugins.ui.header.toolsHeader.visible&&"redactionTools"===e.plugins.ui.header.toolsHeader.visibleChild}},fillAndSign:{id:"fillAndSign",label:"Fill and Sign",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(mi))||void 0===t?void 0:t.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"fillAndSignTools"})},active:function(e){return!0===e.plugins.ui.header.toolsHeader.visible&&"fillAndSignTools"===e.plugins.ui.header.toolsHeader.visibleChild}},form:{id:"form",label:"Form",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(mi))||void 0===t?void 0:t.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"formTools"})},active:function(e){return!0===e.plugins.ui.header.toolsHeader.visible&&"formTools"===e.plugins.ui.header.toolsHeader.visibleChild}},tabOverflow:{id:"tabOverflow",label:"More",icon:"dots",type:"menu",children:["view","annotate","shapes","redaction"],active:function(e){return"tabOverflow"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},annotationToolOverflow:{id:"annotationToolOverflow",label:"More",icon:"dots",type:"menu",children:["highlight","underline","strikethrough","squiggly","freehand","freeText","photo"],active:function(e){return"annotationToolOverflow"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},shapeToolOverflow:{id:"shapeToolOverflow",label:"More",icon:"dots",type:"menu",children:["circle","square","polygon","polyline","line","lineArrow"],active:function(e){return"shapeToolOverflow"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},nextPage:{id:"nextPage",label:"Next page",icon:"chevronRight",shortcut:"ArrowRight",shortcutLabel:"Arrow Right",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Po))||void 0===t?void 0:t.provides();n&&n.scrollToNextPage()}},previousPage:{id:"previousPage",label:"Previous page",icon:"chevronLeft",type:"action",shortcut:"ArrowLeft",shortcutLabel:"Arrow Left",action:function(e){var t,n=null===(t=e.getPlugin(Po))||void 0===t?void 0:t.provides();n&&n.scrollToPreviousPage()}},copy:{id:"copy",label:"Copy",icon:"copy",type:"action",shortcut:"Meta+C",shortcutLabel:"Cmd+C",action:function(e){var t,n=null===(t=e.getPlugin(Pa))||void 0===t?void 0:t.provides();n&&(n.copyToClipboard(),n.clear())}},underline:{id:"underline",label:"Underline",type:"action",icon:"underline",iconProps:function(e){var t;return{primaryColor:null===(t=fs(e.plugins.annotation,"underline"))||void 0===t?void 0:t.color}},action:function(e,t){var n,o=null===(n=e.getPlugin(Dl))||void 0===n?void 0:n.provides();o&&("underline"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("underline"))},active:function(e){return"underline"===e.plugins.annotation.activeToolId}},squiggly:{id:"squiggly",label:"Squiggly",type:"action",icon:"squiggly",iconProps:function(e){var t;return{primaryColor:null===(t=fs(e.plugins.annotation,"squiggly"))||void 0===t?void 0:t.color}},action:function(e,t){var n,o=null===(n=e.getPlugin(Dl))||void 0===n?void 0:n.provides();o&&("squiggly"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("squiggly"))},active:function(e){return"squiggly"===e.plugins.annotation.activeToolId}},strikethrough:{id:"strikethrough",label:"Strikethrough",type:"action",icon:"strikethrough",iconProps:function(e){var t;return{primaryColor:null===(t=fs(e.plugins.annotation,"strikeout"))||void 0===t?void 0:t.color}},action:function(e,t){var n,o=null===(n=e.getPlugin(Dl))||void 0===n?void 0:n.provides();o&&("strikeout"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("strikeout"))},active:function(e){return"strikeout"===e.plugins.annotation.activeToolId}},highlight:{id:"highlight",label:"Highlight",type:"action",icon:"highlight",iconProps:function(e){var t;return{primaryColor:null===(t=fs(e.plugins.annotation,"highlight"))||void 0===t?void 0:t.color}},action:function(e,t){var n,o=null===(n=e.getPlugin(Dl))||void 0===n?void 0:n.provides();o&&("highlight"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("highlight"))},active:function(e){return"highlight"===e.plugins.annotation.activeToolId}},freehand:{id:"freehand",label:"Freehand",type:"action",icon:"pencilMarker",iconProps:function(e){var t;return{primaryColor:null===(t=fs(e.plugins.annotation,"ink"))||void 0===t?void 0:t.color}},action:function(e,t){var n,o=null===(n=e.getPlugin(Dl))||void 0===n?void 0:n.provides();o&&("ink"===t.plugins.annotation.activeToolId?o.setActiveTool(null):(o.deselectAnnotation(),o.setActiveTool("ink")))},active:function(e){return"ink"===e.plugins.annotation.activeToolId}},circle:{id:"circle",label:"Circle",type:"action",icon:"circle",iconProps:function(e){var t,n;return{primaryColor:null===(t=fs(e.plugins.annotation,"circle"))||void 0===t?void 0:t.strokeColor,secondaryColor:null===(n=fs(e.plugins.annotation,"circle"))||void 0===n?void 0:n.color}},action:function(e,t){var n,o=null===(n=e.getPlugin(Dl))||void 0===n?void 0:n.provides();o&&("circle"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("circle"))},active:function(e){return"circle"===e.plugins.annotation.activeToolId}},square:{id:"square",label:"Square",type:"action",icon:"square",iconProps:function(e){var t,n;return{primaryColor:null===(t=fs(e.plugins.annotation,"square"))||void 0===t?void 0:t.strokeColor,secondaryColor:null===(n=fs(e.plugins.annotation,"square"))||void 0===n?void 0:n.color}},action:function(e,t){var n,o=null===(n=e.getPlugin(Dl))||void 0===n?void 0:n.provides();o&&("square"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("square"))},active:function(e){return"square"===e.plugins.annotation.activeToolId}},line:{id:"line",label:"Line",type:"action",icon:"line",iconProps:function(e){var t;return{primaryColor:null===(t=fs(e.plugins.annotation,"line"))||void 0===t?void 0:t.strokeColor}},action:function(e,t){var n,o=null===(n=e.getPlugin(Dl))||void 0===n?void 0:n.provides();o&&("line"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("line"))},active:function(e){return"line"===e.plugins.annotation.activeToolId}},lineArrow:{id:"lineArrow",label:"Line Arrow",type:"action",icon:"lineArrow",iconProps:function(e){var t;return{primaryColor:null===(t=fs(e.plugins.annotation,"line"))||void 0===t?void 0:t.strokeColor}},action:function(e,t){var n,o=null===(n=e.getPlugin(Dl))||void 0===n?void 0:n.provides();o&&("lineArrow"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("lineArrow"))},active:function(e){return"lineArrow"===e.plugins.annotation.activeToolId}},polyline:{id:"polyline",label:"Polyline",type:"action",icon:"zigzag",iconProps:function(e){var t;return{primaryColor:null===(t=fs(e.plugins.annotation,"polyline"))||void 0===t?void 0:t.strokeColor}},action:function(e,t){var n,o=null===(n=e.getPlugin(Dl))||void 0===n?void 0:n.provides();o&&("polyline"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("polyline"))},active:function(e){return"polyline"===e.plugins.annotation.activeToolId}},polygon:{id:"polygon",label:"Polygon",type:"action",icon:"polygon",iconProps:function(e){var t,n;return{primaryColor:null===(t=fs(e.plugins.annotation,"polygon"))||void 0===t?void 0:t.strokeColor,secondaryColor:null===(n=fs(e.plugins.annotation,"polygon"))||void 0===n?void 0:n.color}},action:function(e,t){var n,o=null===(n=e.getPlugin(Dl))||void 0===n?void 0:n.provides();o&&("polygon"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("polygon"))},active:function(e){return"polygon"===e.plugins.annotation.activeToolId}},freeText:{id:"freeText",label:"Free Text",type:"action",icon:"text",iconProps:function(e){var t;return{primaryColor:null===(t=fs(e.plugins.annotation,"freeText"))||void 0===t?void 0:t.fontColor}},action:function(e,t){var n,o=null===(n=e.getPlugin(Dl))||void 0===n?void 0:n.provides();o&&("freeText"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("freeText"))},active:function(e){return"freeText"===e.plugins.annotation.activeToolId}},photo:{id:"photo",label:"Photo",type:"action",icon:"photo",action:function(e,t){var n,o=null===(n=e.getPlugin(Dl))||void 0===n?void 0:n.provides();o&&("stamp"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("stamp"))},active:function(e){return"stamp"===e.plugins.annotation.activeToolId}},squigglySelection:{id:"squigglySelection",label:"Squiggly Selection",type:"action",icon:"squiggly",iconProps:function(e){var t;return{primaryColor:null===(t=fs(e.plugins.annotation,"squiggly"))||void 0===t?void 0:t.color}},action:function(e){var t,n,o=null===(t=e.getPlugin(Dl))||void 0===t?void 0:t.provides(),i=null===(n=e.getPlugin(Pa))||void 0===n?void 0:n.provides();if(i&&o){var r=o.getTool("squiggly");if(r&&Zs(r)){var l,s=r.defaults,c=i.getFormattedSelection(),d=i.getSelectedText(),u=a(c);try{var h=function(){var e=l.value;d.wait((function(t){var n=dn();o.createAnnotation(e.pageIndex,{id:n,created:new Date,flags:["print"],type:bt.SQUIGGLY,blendMode:ft.Normal,color:s.color,opacity:s.opacity,pageIndex:e.pageIndex,rect:e.rect,segmentRects:e.segmentRects,custom:{text:t.join("\n")}}),o.selectAnnotation(e.pageIndex,n)}),un)};for(u.s();!(l=u.n()).done;)h()}catch(e){u.e(e)}finally{u.f()}i.clear()}}}},underlineSelection:{id:"underlineSelection",label:"Underline Selection",type:"action",icon:"underline",iconProps:function(e){var t;return{primaryColor:null===(t=fs(e.plugins.annotation,"underline"))||void 0===t?void 0:t.color}},action:function(e){var t,n,o=null===(t=e.getPlugin(Dl))||void 0===t?void 0:t.provides(),i=null===(n=e.getPlugin(Pa))||void 0===n?void 0:n.provides();if(i&&o){var r=o.getTool("underline");if(r&&Vs(r)){var l,s=r.defaults,c=i.getFormattedSelection(),d=i.getSelectedText(),u=a(c);try{var h=function(){var e=l.value;d.wait((function(t){var n=dn();o.createAnnotation(e.pageIndex,{id:n,created:new Date,flags:["print"],type:bt.UNDERLINE,blendMode:ft.Normal,color:s.color,opacity:s.opacity,pageIndex:e.pageIndex,rect:e.rect,segmentRects:e.segmentRects,custom:{text:t.join("\n")}}),o.selectAnnotation(e.pageIndex,n)}),un)};for(u.s();!(l=u.n()).done;)h()}catch(e){u.e(e)}finally{u.f()}i.clear()}}}},strikethroughSelection:{id:"strikethroughSelection",label:"Strikethrough Selection",type:"action",icon:"strikethrough",iconProps:function(e){var t;return{primaryColor:null===(t=fs(e.plugins.annotation,"strikeout"))||void 0===t?void 0:t.color}},action:function(e){var t,n,o=null===(t=e.getPlugin(Dl))||void 0===t?void 0:t.provides(),i=null===(n=e.getPlugin(Pa))||void 0===n?void 0:n.provides();if(i&&o){var r=o.getTool("strikeout");if(r&&Ys(r)){var l,s=r.defaults,c=i.getFormattedSelection(),d=i.getSelectedText(),u=a(c);try{var h=function(){var e=l.value;d.wait((function(t){var n=dn();o.createAnnotation(e.pageIndex,{id:n,created:new Date,flags:["print"],type:bt.STRIKEOUT,blendMode:ft.Normal,color:s.color,opacity:s.opacity,pageIndex:e.pageIndex,rect:e.rect,segmentRects:e.segmentRects,custom:{text:t.join("\n")}}),o.selectAnnotation(e.pageIndex,n)}),un)};for(u.s();!(l=u.n()).done;)h()}catch(e){u.e(e)}finally{u.f()}i.clear()}}}},highlightSelection:{id:"highlightSelection",label:"Highlight Selection",type:"action",icon:"highlight",iconProps:function(e){var t;return{primaryColor:null===(t=fs(e.plugins.annotation,"highlight"))||void 0===t?void 0:t.color}},action:function(e){var t,n,o=null===(t=e.getPlugin(Dl))||void 0===t?void 0:t.provides(),i=null===(n=e.getPlugin(Pa))||void 0===n?void 0:n.provides();if(i&&o){var r=o.getTool("highlight");if(r&&Gs(r)){var l,s=r.defaults,c=i.getFormattedSelection(),d=i.getSelectedText(),u=a(c);try{var h=function(){var e=l.value;d.wait((function(t){var n=dn();o.createAnnotation(e.pageIndex,{id:n,created:new Date,flags:["print"],type:bt.HIGHLIGHT,blendMode:ft.Multiply,color:s.color,opacity:s.opacity,pageIndex:e.pageIndex,rect:e.rect,segmentRects:e.segmentRects,custom:{text:t.join("\n")}}),o.selectAnnotation(e.pageIndex,n)}),un)};for(u.s();!(l=u.n()).done;)h()}catch(e){u.e(e)}finally{u.f()}i.clear()}}}},saveRedaction:{id:"saveRedaction",label:"Save redaction",type:"action",icon:"check",action:function(e){var t,n=null===(t=e.getPlugin(Iu))||void 0===t?void 0:t.provides();n&&n.commitAllPending()},disabled:function(e){return!(e=>Object.values(e.pending).some((e=>((null==e?void 0:e.length)??0)>0)))(e.plugins[Iu])}},exitRedaction:{id:"exitRedaction",label:"Exit redaction",type:"action",icon:"x",action:function(e){var t,n=null===(t=e.getPlugin(Iu))||void 0===t?void 0:t.provides();n&&n.endRedaction()},disabled:function(e){return!e.plugins[Iu].isRedacting}},redactSelection:{id:"redactSelection",label:"Redact Selection",type:"action",icon:"redact",action:function(e){var t,n,o=null===(t=e.getPlugin(Iu))||void 0===t?void 0:t.provides(),i=null===(n=e.getPlugin(mi))||void 0===n?void 0:n.provides();o&&i&&(o.queueCurrentSelectionAsPending(),i.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"redactionTools"}))}},redact:{id:"redact",label:"Redact Selection",type:"action",icon:"redact",action:function(e){var t,n=null===(t=e.getPlugin(Iu))||void 0===t?void 0:t.provides();n&&(n.isRedactSelectionActive()?n.endRedaction():n.enableRedactSelection())},active:function(e){return"redactSelection"===e.plugins[uc].activeMode}},redactArea:{id:"redactArea",label:"Redact Area",type:"action",icon:"redactArea",action:function(e){var t,n=null===(t=e.getPlugin(Iu))||void 0===t?void 0:t.provides();n&&(n.isMarqueeRedactActive()?n.endRedaction():n.enableMarqueeRedact())},active:function(e){return"marqueeRedact"===e.plugins[uc].activeMode}},styleAnnotation:{id:"styleAnnotation",label:"Style",type:"action",icon:"palette",action:function(e,t){var n,o=null===(n=e.getPlugin(mi))||void 0===n?void 0:n.provides();o&&o.togglePanel({id:"leftPanel",visibleChild:"leftPanelAnnotationStyle",open:!0!==t.plugins.ui.panel.leftPanel.open||"leftPanelAnnotationStyle"!==t.plugins.ui.panel.leftPanel.visibleChild})},active:function(e){return!0===e.plugins.ui.panel.leftPanel.open&&"leftPanelAnnotationStyle"===e.plugins.ui.panel.leftPanel.visibleChild}},deleteAnnotation:{id:"deleteAnnotation",label:"Delete",type:"action",icon:"trash",action:function(e){var t,n=null===(t=e.getPlugin(Dl))||void 0===t?void 0:t.provides();if(n){var o=n.getSelectedAnnotation();o&&n.deleteAnnotation(o.object.pageIndex,o.object.id)}}},panMode:{id:"panMode",label:"Pan",type:"action",dividerBefore:!0,icon:"hand",action:function(e){var t,n=null===(t=e.getPlugin(uc))||void 0===t?void 0:t.provides();n&&("panMode"===n.getActiveMode()?n.activateDefaultMode():n.activate("panMode"))},active:function(e){return"panMode"===e.plugins[uc].activeMode}},pointerMode:{id:"pointerMode",label:"Pointer",type:"action",icon:"pointer",action:function(e){var t,n=null===(t=e.getPlugin(uc))||void 0===t?void 0:t.provides();n&&("pointerMode"===n.getActiveMode()?n.activateDefaultMode():n.activate("pointerMode"))},active:function(e){return"pointerMode"===e.plugins[uc].activeMode}},undo:{id:"undo",label:"Undo",type:"action",icon:"arrowBackUp",action:function(e){var t,n=null===(t=e.getPlugin(au))||void 0===t?void 0:t.provides();n&&n.undo()},disabled:function(e){return!e.plugins[au].global.canUndo}},redo:{id:"redo",label:"Redo",type:"action",icon:"arrowForwardUp",action:function(e){var t,n=null===(t=e.getPlugin(au))||void 0===t?void 0:t.provides();n&&n.redo()},disabled:function(e){return!e.plugins[au].global.canRedo}},commitAnnotations:{id:"commitAnnotations",label:"Commit",type:"action",icon:"deviceFloppy",action:function(e){var t,n=null===(t=e.getPlugin(Dl))||void 0===t?void 0:t.provides();n&&n.commit()}}},rh={menuButton:{type:"iconButton",id:"menuButton",props:{commandId:"menuCtr",active:!1,label:"Menu"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.menuCtr,e)})}},deleteAnnotationButton:{type:"iconButton",id:"deleteAnnotationButton",props:{commandId:"deleteAnnotation",active:!1,label:"Delete"}},styleButton:{type:"iconButton",id:"styleButton",props:{commandId:"styleAnnotation",active:!1,label:"Style"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.styleAnnotation,e)})}},undoButton:{type:"iconButton",id:"undoButton",props:{commandId:"undo",disabled:!1,label:"Undo"},mapStateToProps:function(e,t){return h(h({},t),{},{disabled:ri(ih.undo,e)})}},redoButton:{type:"iconButton",id:"redoButton",props:{commandId:"redo",disabled:!1,label:"Redo"},mapStateToProps:function(e,t){return h(h({},t),{},{disabled:ri(ih.redo,e)})}},commitAnnotationsButton:{type:"iconButton",id:"commitAnnotationsButton",props:{commandId:"commitAnnotations",active:!1,label:"Commit"}},copyButton:{type:"iconButton",id:"copyButton",props:{commandId:"copy",active:!1,label:"Copy"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.copy,e)})}},panModeButton:{type:"iconButton",id:"panModeButton",props:{commandId:"panMode",active:!1,label:"Pan"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.panMode,e)})}},pointerModeButton:{type:"iconButton",id:"pointerModeButton",props:{commandId:"pointerMode",active:!1,label:"Pointer"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.pointerMode,e)})}},circleButton:{type:"iconButton",id:"circleButton",props:{commandId:"circle",active:!1,label:"Circle"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.circle,e),iconProps:ai(ih.circle,e)})}},freeTextButton:{type:"iconButton",id:"freeTextButton",props:{commandId:"freeText",active:!1,label:"Free Text"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.freeText,e),iconProps:ai(ih.freeText,e)})}},squareButton:{type:"iconButton",id:"squareButton",props:{commandId:"square",active:!1,label:"Square"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.square,e),iconProps:ai(ih.square,e)})}},polygonButton:{type:"iconButton",id:"polygonButton",props:{commandId:"polygon",active:!1,label:"Polygon"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.polygon,e),iconProps:ai(ih.polygon,e)})}},lineButton:{type:"iconButton",id:"lineButton",props:{commandId:"line",active:!1,label:"Line"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.line,e),iconProps:ai(ih.line,e)})}},lineArrowButton:{type:"iconButton",id:"lineArrowButton",props:{commandId:"lineArrow",active:!1,label:"Line Arrow"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.lineArrow,e),iconProps:ai(ih.lineArrow,e)})}},polylineButton:{type:"iconButton",id:"polylineButton",props:{commandId:"polyline",active:!1,label:"Polyline"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.polyline,e),iconProps:ai(ih.polyline,e)})}},underlineButton:{type:"iconButton",id:"underlineButton",props:{commandId:"underline",active:!1,label:"Underline",color:"#e44234"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.underline,e),iconProps:ai(ih.underline,e)})}},squigglyButton:{type:"iconButton",id:"squigglyButton",props:{commandId:"squiggly",active:!1,label:"Squiggly",color:"#e44234"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.squiggly,e),iconProps:ai(ih.squiggly,e)})}},strikethroughButton:{type:"iconButton",id:"strikethroughButton",props:{commandId:"strikethrough",active:!1,label:"Strikethrough",color:"#e44234"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.strikethrough,e),iconProps:ai(ih.strikethrough,e)})}},highlightButton:{type:"iconButton",id:"highlightButton",props:{commandId:"highlight",active:!1,label:"Highlight",color:"#ffcd45"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.highlight,e),iconProps:ai(ih.highlight,e)})}},freehandButton:{type:"iconButton",id:"freehandButton",props:{commandId:"freehand",active:!1,label:"Freehand",color:"#e44234"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.freehand,e),iconProps:ai(ih.freehand,e)})}},photoButton:{type:"iconButton",id:"photoButton",props:{commandId:"photo",active:!1,label:"Photo",color:"#000000"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.photo,e),iconProps:ai(ih.photo,e)})}},highlightSelectionButton:{type:"iconButton",id:"highlightSelectionButton",props:{commandId:"highlightSelection",color:"#ffcd45"},mapStateToProps:function(e,t){return h(h({},t),{},{iconProps:ai(ih.highlightSelection,e)})}},underlineSelectionButton:{type:"iconButton",id:"underlineSelectionButton",props:{commandId:"underlineSelection",color:"#e44234"},mapStateToProps:function(e,t){return h(h({},t),{},{iconProps:ai(ih.underlineSelection,e)})}},strikethroughSelectionButton:{type:"iconButton",id:"strikethroughSelectionButton",props:{commandId:"strikethroughSelection",color:"#e44234"},mapStateToProps:function(e,t){return h(h({},t),{},{iconProps:ai(ih.strikethroughSelection,e)})}},squigglySelectionButton:{type:"iconButton",id:"squigglySelectionButton",props:{commandId:"squigglySelection",color:"#e44234"},mapStateToProps:function(e,t){return h(h({},t),{},{iconProps:ai(ih.squigglySelection,e)})}},redactionButton:{type:"iconButton",id:"redactionButton",props:{commandId:"redact"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.redact,e)})}},redactionAreaButton:{type:"iconButton",id:"redactionAreaButton",props:{commandId:"redactArea"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.redactArea,e)})}},redactSelectionButton:{type:"iconButton",id:"redactSelectionButton",props:{commandId:"redactSelection"},mapStateToProps:function(e,t){return h(h({},t),{},{iconProps:ai(ih.redactSelection,e)})}},viewCtrButton:{type:"iconButton",id:"viewCtrButton",props:{commandId:"viewCtr",active:!1,label:"View settings"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.viewCtr,e)})}},saveRedactionButton:{type:"iconButton",id:"saveRedactionButton",props:{commandId:"saveRedaction",label:"Save redaction"},mapStateToProps:function(e,t){return h(h({},t),{},{disabled:ri(ih.saveRedaction,e)})}},exitRedactionButton:{type:"iconButton",id:"exitRedactionButton",props:{commandId:"exitRedaction",label:"Exit redaction"},mapStateToProps:function(e,t){return h(h({},t),{},{disabled:ri(ih.exitRedaction,e)})}},commentButton:{type:"iconButton",id:"commentButton",props:{active:!1,commandId:"comment",label:"Comment"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.comment,e)})}},searchButton:{type:"iconButton",id:"searchButton",props:{active:!1,commandId:"search",label:"Search"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.search,e)})}},filePickerButton:{type:"iconButton",id:"filePickerButton",props:{label:"Open File",img:"data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgd2lkdGg9IjI0IiAgaGVpZ2h0PSIyNCIgIHZpZXdCb3g9IjAgMCAyNCAyNCIgIGZpbGw9Im5vbmUiICBzdHJva2U9IiMzNDNhNDAiICBzdHJva2Utd2lkdGg9IjIiICBzdHJva2UtbGluZWNhcD0icm91bmQiICBzdHJva2UtbGluZWpvaW49InJvdW5kIiAgY2xhc3M9Imljb24gaWNvbi10YWJsZXIgaWNvbi10YWJsZXItb3V0bGluZSBpY29uLXRhYmxlci1maWxlLWltcG9ydCI+PHBhdGggc3Ryb2tlPSJub25lIiBkPSJNIDAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0xNCAzdjRhMSAxIDAgMCAwIDEgMWg0IiAvPjxwYXRoIGQ9Ik01IDEzdi04YTIgMiAwIDAgMSAyIC0yaDdsNSA1djExYTIgMiAwIDAgMSAtMiAyaC01LjVtLTkuNSAtMmg3bS0zIC0zbDMgM2wtMyAzIiAvPjwvc3ZnPg=="}},downloadButton:{type:"iconButton",id:"downloadButton",props:{label:"Download",img:"data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgd2lkdGg9IjI0IiAgaGVpZ2h0PSIyNCIgIHZpZXdCb3g9IjAgMCAyNCAyNCIgIGZpbGw9Im5vbmUiICBzdHJva2U9IiMzNDNhNDAiICBzdHJva2Utd2lkdGg9IjIiICBzdHJva2UtbGluZWNhcD0icm91bmQiICBzdHJva2UtbGluZWpvaW49InJvdW5kIiAgY2xhc3M9Imljb24gaWNvbi10YWJsZXIgaWNvbnMtdGFibGVyLW91dGxpbmUgaWNvbi10YWJsZXItZG93bmxvYWQiPjxwYXRoIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik00IDE3djJhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMiAtMnYtMiIgLz48cGF0aCBkPSJNNyAxMWw1IDVsNSAtNSIgLz48cGF0aCBkPSJNMTIgNGwwIDEyIiAvPjwvc3ZnPg=="}},zoomButton:{type:"iconButton",id:"zoomButton",props:{commandId:"zoom",label:"Zoom",img:"data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgd2lkdGg9IjI0IiAgaGVpZ2h0PSIyNCIgIHZpZXdCb3g9IjAgMCAyNCAyNCIgIGZpbGw9Im5vbmUiICBzdHJva2U9IiMzNDNhNDAiICBzdHJva2Utd2lkdGg9IjIiICBzdHJva2UtbGluZWNhcD0icm91bmQiICBzdHJva2UtbGluZWpvaW49InJvdW5kIiAgY2xhc3M9Imljb24gaWNvbi10YWJsZXIgaWNvbnMtdGFibGVyLW91dGxpbmUgaWNvbi10YWJsZXItY2lyY2xlLXBsdXMiPjxwYXRoIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0zIDEyYTkgOSAwIDEgMCAxOCAwYTkgOSAwIDAgMCAtMTggMCIgLz48cGF0aCBkPSJNOSAxMmg2IiAvPjxwYXRoIGQ9Ik0xMiA5djYiIC8+PC9zdmc+"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.zoom,e)||ii(ih.changeZoomLevel,e)})}},sidebarButton:{type:"iconButton",id:"sidebarButton",props:{commandId:"sidebar",label:"Sidebar",active:!1},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.sidebar,e)})}},divider1:{type:"divider",id:"divider1"},expandLeftActionsButton:{type:"iconButton",id:"expandLeftActionsButton",props:{commandId:"leftAction",label:"Left Panel Actions"},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.leftAction,e)})}},headerStart:{id:"headerStart",type:"groupedItems",slots:[{componentId:"menuButton",priority:0},{componentId:"divider1",priority:1,className:"flex"},{componentId:"sidebarButton",priority:2},{componentId:"expandLeftActionsButton",priority:3,className:"@min-[400px]:hidden"},{componentId:"viewCtrButton",priority:4,className:"hidden @min-[400px]:block"},{componentId:"divider1",priority:6,className:"hidden @min-[400px]:flex"},{componentId:"zoomButton",priority:7,className:"hidden @min-[400px]:block @min-[600px]:hidden"},{componentId:"zoom",priority:8,className:"hidden @min-[600px]:block"},{componentId:"divider1",priority:9,className:"hidden @min-[600px]:flex"},{componentId:"panModeButton",priority:10,className:"hidden @min-[600px]:block"},{componentId:"pointerModeButton",priority:11,className:"hidden @min-[600px]:block"}],props:{gap:10}},viewTab:{type:"tabButton",id:"viewTab",props:{label:"View",commandId:"view",active:!1},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.view,e)})}},annotateTab:{type:"tabButton",id:"annotateTab",props:{label:"Annotate",commandId:"annotate",active:!1},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.annotate,e)})}},shapesTab:{type:"tabButton",id:"shapesTab",props:{label:"Shapes",commandId:"shapes",active:!1},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.shapes,e)})}},redactionTab:{type:"tabButton",id:"redactionTab",props:{label:"Redact",commandId:"redaction",active:!1},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.redaction,e)})}},fillAndSignTab:{type:"tabButton",id:"fillAndSignTab",props:{label:"Fill and Sign",commandId:"fillAndSign",active:!1},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.fillAndSign,e)})}},formTab:{type:"tabButton",id:"formTab",props:{label:"Form",commandId:"form",active:!1},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.form,e)})}},tabOverflowButton:{type:"iconButton",id:"tabOverflowButton",props:{label:"More",commandId:"tabOverflow",active:!1},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.tabOverflow,e)})}},annotationToolOverflowButton:{type:"iconButton",id:"annotationToolOverflowButton",props:{label:"More",commandId:"annotationToolOverflow",active:!1},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.annotationToolOverflow,e)})}},shapeToolOverflowButton:{type:"iconButton",id:"shapeToolOverflowButton",props:{label:"More",commandId:"shapeToolOverflow",active:!1},mapStateToProps:function(e,t){return h(h({},t),{},{active:ii(ih.shapeToolOverflow,e)})}},selectButton:{type:"selectButton",id:"selectButton",props:{menuCommandId:"tabOverflow",commandIds:["view","annotate","shapes","redaction"],activeCommandId:"view",active:!1},mapStateToProps:function(e,t){var n;return h(h({},t),{},{activeCommandId:null!==(n=t.commandIds.find((function(t){return ii(ih[t],e)})))&&void 0!==n?n:t.commandIds[0],active:ii(ih.tabOverflow,e)})}},headerCenter:{id:"headerCenter",type:"groupedItems",slots:[{componentId:"selectButton",priority:0,className:"block @min-[500px]:hidden"},{componentId:"viewTab",priority:1,className:"hidden @min-[500px]:block"},{componentId:"annotateTab",priority:2,className:"hidden @min-[800px]:block"},{componentId:"shapesTab",priority:3,className:"hidden @min-[800px]:block"},{componentId:"redactionTab",priority:4,className:"hidden @min-[800px]:block"},{componentId:"tabOverflowButton",priority:5,className:"hidden @min-[500px]:block @min-[800px]:hidden"}],props:{gap:10}},headerEnd:{id:"headerEnd",type:"groupedItems",slots:[{componentId:"searchButton",priority:1},{componentId:"commentButton",priority:2}],props:{gap:10}},pageControls:{id:"pageControls",type:"custom",render:"pageControls",initialState:{currentPage:1,pageCount:1},props:function(e){return{currentPage:e.currentPage,pageCount:e.pageCount,nextPageCommandId:"nextPage",previousPageCommandId:"previousPage"}},mapStateToProps:function(e,t){var n,o;return h(h({},t),{},{currentPage:e.plugins.scroll.currentPage,pageCount:null!==(n=null===(o=e.core.document)||void 0===o?void 0:o.pageCount)&&void 0!==n?n:1})}},pageControlsContainer:{id:"pageControlsContainer",type:"floating",props:{scrollerPosition:"outside"},render:"pageControlsContainer",slots:[{componentId:"pageControls",priority:0}]},textSelectionMenuButtons:{id:"textSelectionMenuButtons",type:"groupedItems",slots:[{componentId:"copyButton",priority:0},{componentId:"highlightSelectionButton",priority:1},{componentId:"underlineSelectionButton",priority:2},{componentId:"strikethroughSelectionButton",priority:3},{componentId:"squigglySelectionButton",priority:4},{componentId:"redactSelectionButton",priority:5}],props:{gap:10}},printModal:{id:"printModal",type:"floating",render:"printModal",initialState:{open:!1},props:function(e){return{open:e.open,scrollerPosition:"outside"}},mapStateToProps:function(e,t){return h(h({},t),{},{open:e.plugins.ui.floating.printModal.open})}},textSelectionMenu:{id:"textSelectionMenu",type:"floating",render:"textSelectionMenu",props:{open:!1,scrollerPosition:"inside"},mapStateToProps:function(e,t){return h(h({},t),{},{isScolling:e.plugins.viewport.isScrolling,scale:e.core.scale,rotation:e.core.rotation,spread:e.plugins[Oo].spreadMode,open:e.plugins[Pa].active&&!e.plugins[Pa].selecting})},slots:[{componentId:"textSelectionMenuButtons",priority:0}],getChildContext:{direction:"horizontal"}},topHeader:{type:"header",id:"topHeader",slots:[{componentId:"headerStart",priority:0},{componentId:"headerCenter",priority:1},{componentId:"headerEnd",priority:2}],getChildContext:function(e){return{direction:"top"===e.placement||"bottom"===e.placement?"horizontal":"vertical"}},props:{placement:"top",style:{backgroundColor:"#ffffff",gap:"10px"}}},shapeTools:{id:"shapeTools",type:"groupedItems",slots:[{componentId:"circleButton",priority:6},{componentId:"squareButton",priority:7},{componentId:"polygonButton",priority:8},{componentId:"polylineButton",priority:9},{componentId:"lineButton",priority:10,className:"hidden @min-[500px]:block"},{componentId:"lineArrowButton",priority:11,className:"hidden @min-[500px]:block"},{componentId:"shapeToolOverflowButton",priority:12,className:"block @min-[500px]:hidden"},{componentId:"divider1",priority:12},{componentId:"styleButton",priority:13},{componentId:"divider1",priority:14},{componentId:"undoButton",priority:15},{componentId:"redoButton",priority:16}],props:{gap:10}},redactionTools:{id:"redactionTools",type:"groupedItems",slots:[{componentId:"redactionButton",priority:1},{componentId:"redactionAreaButton",priority:2},{componentId:"divider1",priority:3},{componentId:"saveRedactionButton",priority:4},{componentId:"exitRedactionButton",priority:5}],props:{gap:10}},annotationTools:{id:"annotationTools",type:"groupedItems",slots:[{componentId:"highlightButton",priority:1},{componentId:"underlineButton",priority:2},{componentId:"strikethroughButton",priority:3},{componentId:"squigglyButton",priority:4},{componentId:"freehandButton",priority:5,className:"hidden @min-[500px]:block"},{componentId:"freeTextButton",priority:6,className:"hidden @min-[500px]:block"},{componentId:"photoButton",priority:7,className:"hidden @min-[500px]:block"},{componentId:"annotationToolOverflowButton",priority:8,className:"block @min-[500px]:hidden"},{componentId:"divider1",priority:9},{componentId:"styleButton",priority:10},{componentId:"divider1",priority:11},{componentId:"undoButton",priority:12},{componentId:"redoButton",priority:13}],props:{gap:10}},toolsHeader:{type:"header",id:"toolsHeader",initialState:{visible:!1,visibleChild:null},props:function(e){return{placement:"top",visible:e.visible,visibleChild:e.visibleChild,style:{backgroundColor:"#f1f3f5",justifyContent:"center"}}},mapStateToProps:function(e,t){return h(h({},t),{},{visible:e.plugins.ui.header.toolsHeader.visible,visibleChild:e.plugins.ui.header.toolsHeader.visibleChild})},slots:[{componentId:"annotationTools",priority:0},{componentId:"shapeTools",priority:1},{componentId:"redactionTools",priority:2}],getChildContext:function(e){return{direction:"top"===e.placement||"bottom"===e.placement?"horizontal":"vertical"}}},leftPanelAnnotationStyle:{id:"leftPanelAnnotationStyle",type:"custom",render:"leftPanelAnnotationStyle",mapStateToProps:function(e,t){return h(h({},t),{},{selectedAnnotation:ms(e.plugins[Dl]),activeToolId:e.plugins[Dl].activeToolId,colorPresets:e.plugins[Dl].colorPresets,tools:e.plugins[Dl].tools})}},leftPanelMain:{id:"leftPanelMain",type:"custom",render:"leftPanelMain",initialState:{visibleChild:"thumbnails"},props:function(e){return{visibleChild:e.visibleChild,tabsCommandId:"sidebarMenu"}},mapStateToProps:function(e,t){return h(h({},t),{},{visibleChild:e.plugins.ui.custom.leftPanelMain.visibleChild})},slots:[{componentId:"thumbnails",priority:0},{componentId:"outline",priority:1},{componentId:"attachments",priority:2}]},leftPanel:{id:"leftPanel",type:"panel",initialState:{open:!1,visibleChild:"leftPanelMain"},props:function(e){return{open:e.open,visibleChild:e.visibleChild,location:"left"}},mapStateToProps:function(e,t){return h(h({},t),{},{open:e.plugins.ui.panel.leftPanel.open,visibleChild:e.plugins.ui.panel.leftPanel.visibleChild})},slots:[{componentId:"leftPanelMain",priority:0},{componentId:"leftPanelAnnotationStyle",priority:1}]},thumbnails:{id:"thumbnails",type:"custom",render:"thumbnails",mapStateToProps:function(e,t){return h(h({},t),{},{currentPage:e.plugins.scroll.currentPage})}},outline:{id:"outline",type:"custom",render:"outline",props:{document:null},mapStateToProps:function(e,t){return h(h({},t),{},{document:e.core.document})}},attachments:{id:"attachments",type:"custom",render:"attachments",props:{document:null},mapStateToProps:function(e,t){return h(h({},t),{},{document:e.core.document})}},search:{id:"search",type:"custom",render:"search",mapStateToProps:function(e,t){return h(h({},t),{},{flags:e.plugins.search.flags,results:e.plugins.search.results,total:e.plugins.search.total,activeResultIndex:e.plugins.search.activeResultIndex,active:e.plugins.search.active,query:e.plugins.search.query,loading:e.plugins.search.loading})}},comment:{id:"comment",type:"custom",render:"comment",mapStateToProps:function(e,t){return h(h({},t),{},{sidebarAnnotations:vs(e.plugins[Dl]),selectedAnnotation:ms(e.plugins[Dl])})}},commandMenu:{id:"commandMenu",type:"commandMenu",initialState:{open:!1,activeCommand:null,triggerElement:void 0,position:void 0,flatten:!1},props:function(e){return{open:e.open,activeCommand:e.activeCommand,triggerElement:e.triggerElement,position:e.position,flatten:e.flatten}},mapStateToProps:function(e,t){return h(h({},t),{},{open:e.plugins.ui.commandMenu.commandMenu.open,activeCommand:e.plugins.ui.commandMenu.commandMenu.activeCommand,triggerElement:e.plugins.ui.commandMenu.commandMenu.triggerElement,position:e.plugins.ui.commandMenu.commandMenu.position,flatten:e.plugins.ui.commandMenu.commandMenu.flatten})}},zoom:{id:"zoom",type:"custom",render:"zoom",initialState:{zoomLevel:1},props:function(e){return{zoomLevel:e.zoomLevel,commandZoomIn:ih.zoomIn.id,commandZoomOut:ih.zoomOut.id,commandZoomMenu:ih.zoom.id,zoomMenuActive:!1}},mapStateToProps:function(e,t){return h(h({},t),{},{zoomLevel:e.plugins.zoom.currentZoomLevel,zoomMenuActive:ii(ih.zoom,e)||ii(ih.changeZoomLevel,e)})}},rightPanel:{id:"rightPanel",type:"panel",initialState:{open:!1,visibleChild:null},props:function(e){return{open:e.open,visibleChild:e.visibleChild,location:"right"}},mapStateToProps:function(e,t){return h(h({},t),{},{open:e.plugins.ui.panel.rightPanel.open,visibleChild:e.plugins.ui.panel.rightPanel.visibleChild})},slots:[{componentId:"search",priority:0},{componentId:"comment",priority:1}]}},ah={enabled:!0,components:rh,menuItems:ih},lh=new it([new tt,new ot]);function sh(e){var n,o=e.config,i=function(e){const{wasmUrl:t=Qn,worker:n=!0,logger:o}=e??{},[i,r]=ke(null),[a,l]=ke(!0),[s,c]=ke(null),d=Me(null);return Ce((()=>{let e=!1;return(async()=>{try{const{createPdfiumEngine:e}=n?await import("./worker-engine-de49cddb.js"):await import("./direct-engine-9996aac8.js"),i=await e(t,o);d.current=i,i.initialize().wait((()=>{r(i),l(!1)}),(e=>{c(new Error(e.reason.message)),l(!1)}))}catch(t){e||(c(t),l(!1))}})(),()=>{var t,n;e=!0,null==(n=null==(t=d.current)?void 0:t.closeAllDocuments)||n.call(t).wait((()=>{var e,t;null==(t=null==(e=d.current)?void 0:e.destroy)||t.call(e),d.current=null}),un)}}),[t,n,o]),{engine:i,isLoading:a,error:s}}(h(h({},o.wasmUrl&&{wasmUrl:o.wasmUrl}),{},{worker:o.worker,logger:o.log?lh:void 0})),r=i.engine,a=i.isLoading,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{viewport:h(h({},oh.viewport),e.viewport),scroll:h(h({},oh.scroll),e.scroll),zoom:h(h({},oh.zoom),e.zoom),spread:h(h({},oh.spread),e.spread),rotate:h(h({},oh.rotate),e.rotate),tiling:h(h({},oh.tiling),e.tiling),thumbnail:h(h({},oh.thumbnail),e.thumbnail)}}(o.plugins);return H($,null,H("style",null,ue),!r||a?H("div",{className:"flex h-full w-full items-center justify-center"},H(Hd,{size:"lg",text:"Initializing PDF engine..."})):H(Vn,{logger:o.log?lh:void 0,engine:r,onInitialized:(n=function(e){return function(){var n=this,o=arguments;return new Promise((function(i,r){var a=e.apply(n,o);function l(e){t(a,i,r,l,s,"next",e)}function s(e){t(a,i,r,l,s,"throw",e)}l(void 0)}))}}(g().mark((function e(t){var n,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(o=null===(n=t.getPlugin("ui"))||void 0===n?void 0:n.provides())&&(o.registerComponentRenderer("groupedItems",wl),o.registerComponentRenderer("iconButton",vl),o.registerComponentRenderer("tabButton",yl),o.registerComponentRenderer("header",xl),o.registerComponentRenderer("divider",bl),o.registerComponentRenderer("panel",Cl),o.registerComponentRenderer("search",Ml),o.registerComponentRenderer("zoom",Pl),o.registerComponentRenderer("pageControlsContainer",Tl),o.registerComponentRenderer("pageControls",Al),o.registerComponentRenderer("commandMenu",zl),o.registerComponentRenderer("comment",eh),o.registerComponentRenderer("thumbnails",Rl),o.registerComponentRenderer("outline",El),o.registerComponentRenderer("attachments",_l),o.registerComponentRenderer("selectButton",Nl),o.registerComponentRenderer("textSelectionMenu",Il),o.registerComponentRenderer("leftPanelMain",kl),o.registerComponentRenderer("printModal",Ll),o.registerComponentRenderer("leftPanelAnnotationStyle",gd));case 2:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),plugins:[_n(fi,ah),_n(Zo,{loadingOptions:{type:"url",pdfFile:{id:"pdf",name:"embedpdf-ebook.pdf",url:o.src}}}),_n(uo,l.viewport),_n(Ao,l.scroll),_n(Ur,l.zoom),_n(jo,l.spread),_n(yd),_n(Sd,l.rotate),_n(pa),_n(Xa),_n(Ld,l.tiling),_n(wa,l.thumbnail),_n(Xs),_n(rl),_n(qd),_n(dl),_n(Yd),_n(pc),_n(Qd),_n(ou,{scale:2,imageType:"image/png"}),_n(hu),_n(zu,{drawBlackBoxes:!0}),_n(gl)]},(function(e){var t=e.pluginsReady;return H(bi,null,(function(e){var n=e.headers,o=e.panels,i=e.floating,r=e.commandMenu;return H($,null,H("div",{className:"@container relative flex h-full w-full select-none flex-col"},n.top.length>0&&H("div",null,n.top),H("div",{className:"flex flex-1 flex-row overflow-hidden"},H("div",{className:"flex flex-col"},n.left),H("div",{className:"flex flex-1 flex-col overflow-hidden md:flex-row"},o.left.length>0&&H($,null,o.left),H("div",{className:"relative flex w-full flex-1 overflow-hidden"},H(wc,null,H(go,{style:{width:"100%",height:"100%",flexGrow:1,backgroundColor:"#f1f3f5",overflow:"auto"}},!t&&H("div",{className:"flex h-full w-full items-center justify-center"},H(Hd,{size:"lg",text:"Loading PDF document..."})),t&&H(Gr,null,H(Ro,{renderPage:function(e){var t=e.pageIndex,n=e.scale,o=e.rotation,i=e.width,r=e.height,a=e.document;return H(Md,{key:null==a?void 0:a.id,pageSize:{width:i,height:r},style:{backgroundColor:"#fff"}},H(xc,{rotation:o,scale:n,pageWidth:i,pageHeight:r,pageIndex:t},H(bd,{pageIndex:t,className:"pointer-events-none"}),H(Bd,{pageIndex:t,scale:n,className:"pointer-events-none"}),H(ma,{pageIndex:t,scale:n,className:"pointer-events-none"}),H(ju,null),H(Vc,{pageIndex:t,scale:n,pageWidth:i,pageHeight:r,rotation:o,selectionMenu:function(e){var t=e.selected,n=e.rect,o=e.annotation,i=e.menuWrapperProps;return H("div",h(h({},i),{},{style:h(h({},i.style),{},{display:"flex",justifyContent:"center"})}),t?H(Fu,{trackedAnnotation:o,style:{pointerEvents:"auto",position:"absolute",top:n.size.height+10}}):null)}}),H(Zr,{pageIndex:t,scale:n}),H(ru,{pageIndex:t,scale:n}),H(Ou,{pageIndex:t,scale:n,rotation:o,selectionMenu:function(e){var n=e.item,o=e.selected,i=e.rect,r=e.menuWrapperProps;return H("div",h(h({},r),{},{style:h(h({},r.style),{},{display:"flex",justifyContent:"center"})}),o?H(nh,{item:n,pageIndex:t,style:{pointerEvents:"auto",position:"absolute",top:i.size.height+10}}):null)}}),H(Ya,{pageIndex:t,scale:n})))},overlayElements:i.insideScroller})),i.outsideScroller))),o.right.length>0&&H($,null,o.right)),H("div",{className:"flex flex-col"},n.right)),n.bottom.length>0&&H("div",null,n.bottom),r),H(Bu,null))}))})))}var ch=function(){function e(){var t;return o(this,e),(t=n(this,e)).root=t.attachShadow({mode:"open"}),t}return c(e,w(HTMLElement)),r(e,[{key:"connectedCallback",value:function(){this._config||(this._config={src:this.getAttribute("src")||"/demo.pdf",worker:"false"!==this.getAttribute("worker")}),this.renderViewer()}},{key:"config",get:function(){return this._config},set:function(e){this._config=e,this.isConnected&&this.renderViewer()}},{key:"renderViewer",value:function(){this._config&&function(e,t,n){var o,i,r,a;t==document&&(t=document.documentElement),k.__&&k.__(e,t),i=(o="function"==typeof n)?null:n&&n.__k||t.__k,r=[],a=[],J(t,e=(!o&&n||t).__k=H($,null,[e]),i||_,_,t.namespaceURI,!o&&n?[n]:i?null:t.firstChild?x.call(t.childNodes):null,r,!o&&n?n:i?i.__e:t.firstChild,o,a),ee(r,e,a)}(H(sh,{config:this._config}),this.root)}}])}(),dh=["type","target"];customElements.define("embedpdf-container",ch);var uh={init:function(e){if("container"===e.type)return function(e){e.type,e.target;var t=p(e,dh),n=document.createElement("embedpdf-container");return n.config=t,e.target.appendChild(n),n}(e)}};export{wt as A,je as B,Ke as C,Je as D,ut as E,yt as F,Bt as G,uh as H,Rt as M,et as N,_t as P,Oe as R,lt as T,Nt as a,cn as b,bt as c,Et as d,dt as e,xt as f,Mt as g,St as h,un as i,kt as j,vt as k,ht as l,Lt as m,Ot as n,jt as o,Ht as p,Ue as q,We as r,ln as s,pt as t,dn as u,Pt as v,Dt as w,At as x,zt as y,Ct as z};
